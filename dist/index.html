<!doctype html>

<div class = "graph-container">
  <video height="300px" id="webcam"></video>
  <div id = "error"></div>
</div>
<div class = "graph-container">
  <div id="emotions-legend"></div>
  <div id="emotions-chart"></div>
</div>
<div class = "graph-container">
  <div id="expressions-legend"></div>
  <div id="expressions-chart"></div>
</div>


<script type="text/javascript">/*

 lodash 4.6.1 (Custom Build) <https://lodash.com/>
 Build: `lodash -d -o ./foo/lodash.js`
 Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef RecordRTC
 @class
 @example
 var recordRTC = RecordRTC(mediaStream, {
     type: 'video' // audio or video or gif or canvas
 });

 // or, you can even use keyword "new"
 var recordRTC = new RecordRTC(mediaStream[, config]);
 @see For further information:
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef RecordRTCConfiguration
 @class
 @example
 var options = RecordRTCConfiguration(mediaStream, options);
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef GetRecorderType
 @class
 @example
 var RecorderType = GetRecorderType(options);
 var recorder = new RecorderType(options);
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef MRecordRTC
 @class
 @example
 var recorder = new MRecordRTC();
 recorder.addStream(MediaStream);
 recorder.mediaType = {
     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
     video: true, // or WhammyRecorder or MediaStreamRecorder
     gif: true    // or GifRecorder
 };
 // mimeType is optional and should be set only in advance cases.
 recorder.mimeType = {
     audio: 'audio/wav',
     video: 'video/webm',
     gif:   'image/gif'
 };
 recorder.startRecording();
 @see For further information:
 @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @example
 Storage.AudioContext === webkitAudioContext
 @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef MediaStreamRecorder
 @class
 @example
 var options = {
     mimeType: 'video/mp4', // audio/ogg or video/webm
     audioBitsPerSecond : 256 * 8 * 1024,
     videoBitsPerSecond : 256 * 8 * 1024,
     bitsPerSecond: 256 * 8 * 1024  // if this is provided, skip above two
 }
 var recorder = new MediaStreamRecorder(MediaStream, options);
 recorder.record();
 recorder.stop(function(blob) {
     video.src = URL.createObjectURL(blob);

     // or
     var blob = recorder.blob;
 });
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", onAudioProcessStarted: function}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef StereoAudioRecorder
 @class
 @example
 var recorder = new StereoAudioRecorder(MediaStream, {
     sampleRate: 44100,
     bufferSize: 4096
 });
 recorder.record();
 recorder.stop(function(blob) {
     video.src = URL.createObjectURL(blob);
 });
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef CanvasRecorder
 @class
 @example
 var recorder = new CanvasRecorder(htmlElement, { disableLogs: true });
 recorder.record();
 recorder.stop(function(blob) {
     video.src = URL.createObjectURL(blob);
 });
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
 @param {object} config - {disableLogs:true, initCallback: function}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef WhammyRecorder
 @class
 @example
 var recorder = new WhammyRecorder(mediaStream);
 recorder.record();
 recorder.stop(function(blob) {
     video.src = URL.createObjectURL(blob);
 });
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
 @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef Whammy
 @class
 @example
 var recorder = new Whammy().Video(15);
 recorder.add(context || canvas || dataURL);
 var output = recorder.compile();
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @example
 DiskStorage.Store({
     audioBlob: yourAudioBlob,
     videoBlob: yourVideoBlob,
     gifBlob  : yourGifBlob
 });
 DiskStorage.Fetch(function(dataURL, type) {
     if(type === 'audioBlob') { }
     if(type === 'videoBlob') { }
     if(type === 'gifBlob')   { }
 });
 // DiskStorage.dataStoreName = 'recordRTC';
 // DiskStorage.onError = function(error) { };
 @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
 @property {function} Fetch - This method fetches stored blobs from IndexedDB.
 @property {function} Store - This method stores blobs in IndexedDB.
 @property {function} onError - This function is invoked for any known/unknown error.
 @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 {@link https://github.com/muaz-khan/RecordRTC#license|MIT}
 @author {@link http://www.MuazKhan.com|Muaz Khan}
 @typedef GifRecorder
 @class
 @example
 var recorder = new GifRecorder(mediaStream || canvas || context, { width: 1280, height: 720, frameRate: 200, quality: 10 });
 recorder.record();
 recorder.stop(function(blob) {
     img.src = URL.createObjectURL(blob);
 });
 @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
 @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
 @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
*/
(function e$$0(D,x,k){function f(a,h){if(!x[a]){if(!D[a]){var n="function"==typeof require&&require;if(!h&&n)return n(a,!0);if(c)return c(a,!0);n=Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n;}n=x[a]={exports:{}};D[a][0].call(n.exports,function(c){var h=D[a][1][c];return f(h?h:c)},n,n.exports,e$$0,D,x,k)}return x[a].exports}for(var c="function"==typeof require&&require,a=0;a<k.length;a++)f(k[a]);return f})({1:[function(A,D,x){function k(a,c,h,f){d.forEach(z[a],function(d,l){var k=
z[a][l];k.push({x:f,y:h[a][l]});k.length>c&&k.shift()})}function f(a){l.innerHTML="";var c=d.partial(k,"emotions",a.length),h=d.partial(k,"expressions",a.length);d.forEach(a,c);I.update();d.forEach(a,h);Aa.update()}function c(a){l.innerHTML="I can't see your face! :c try moving to a better-lit place, and make sure your face fits in the frame. dont blame us!! this SDK is pretty picky."}var a=A("chunky-webcam"),d=A("lodash");D=A("getusermedia");var h=A("attachmediastream"),n=document.getElementById("webcam");
x=document.getElementById("expressions-chart");var p=document.getElementById("expressions-legend"),C=document.getElementById("emotions-chart"),r=document.getElementById("emotions-legend"),l=document.getElementById("error"),z={expressions:{attention:[],browFurrow:[],chinRaise:[],eyeClosure:[],innerBrowRaise:[],lipCornerDepressor:[],lipPress:[],lipPucker:[],lipSuck:[],mouthOpen:[],noseWrinkle:[],smile:[],smirk:[],upperLipRaise:[]},emotions:{anger:[],contempt:[],disgust:[],engagement:[],fear:[],joy:[],
sadness:[],surprise:[],valence:[]}};A=A("./make_graph");var I=A(C,r,z.emotions),Aa=A(x,p,z.expressions);D({video:!0,audio:!1},function(d,l){d&&document.write("failed getting your webcam!",d);h(l,n,{muted:!0,mirror:!0});chunk=a(l,3500,"https://verdigris.ischool.berkeley.edu:3333");chunk.socket.on("data",f);chunk.socket.on("video-error",c)})},{"./make_graph":2,attachmediastream:5,"chunky-webcam":10,getusermedia:33,lodash:39}],2:[function(A,D,x){var k=A("rickshaw");D.exports=function(f,c,a){var d=new k.Color.Palette({scheme:"munin"});
f=new k.Graph({element:f,width:600,height:150,renderer:"line",series:_.map(a,function(a,c){return{color:d.color(),data:a,name:c}})});c=new k.Graph.Legend({graph:f,element:c});new k.Graph.HoverDetail({graph:f,xFormatter:function(a){return a}});f.render();(new k.Graph.Axis.Time({graph:f,ticksTreatment:"glow",timeFixture:new k.Fixtures.Time})).render();(new k.Graph.Axis.Y({graph:f,tickFormat:k.Fixtures.Number.formatKMBT,ticksTreatment:"glow"})).render();new k.Graph.Behavior.Series.Highlight({graph:f,
legend:c});return f}},{rickshaw:45}],3:[function(A,D,x){function k(){}D.exports=function(f,c,a){function d(f,k){if(0>=d.count)throw Error("after called too many times");--d.count;f?(h=!0,c(f),c=a):0!==d.count||h||c(null,k)}var h=!1;a=a||k;d.count=f;return 0===f?c():d}},{}],4:[function(A,D,x){D.exports=function(k,f,c){var a=k.byteLength;f=f||0;c=c||a;if(k.slice)return k.slice(f,c);0>f&&(f+=a);0>c&&(c+=a);c>a&&(c=a);if(f>=a||f>=c||0===a)return new ArrayBuffer(0);k=new Uint8Array(k);for(var a=new Uint8Array(c-
f),d=0;f<c;f++,d++)a[d]=k[f];return a.buffer}},{}],5:[function(A,D,x){var k=A("webrtc-adapter-test");D.exports=function(f,c,a){var d,h=c;c={autoplay:!0,mirror:!1,muted:!1,audio:!1,disableContextMenu:!1};if(a)for(d in a)c[d]=a[d];h?"audio"===h.tagName.toLowerCase()&&(c.audio=!0):h=document.createElement(c.audio?"audio":"video");c.disableContextMenu&&(h.oncontextmenu=function(a){a.preventDefault()});c.autoplay&&(h.autoplay="autoplay");c.muted&&(h.muted=!0);!c.audio&&c.mirror&&["","moz","webkit","o",
"ms"].forEach(function(a){h.style[a?a+"Transform":"transform"]="scaleX(-1)"});k.attachMediaStream(h,f);return h}},{"webrtc-adapter-test":57}],6:[function(A,D,x){function k(f){f=f||{};this.ms=f.min||100;this.max=f.max||1E4;this.factor=f.factor||2;this.jitter=0<f.jitter&&1>=f.jitter?f.jitter:0;this.attempts=0}D.exports=k;k.prototype.duration=function(){var f=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var c=Math.random(),a=Math.floor(c*this.jitter*f),f=0==(Math.floor(10*c)&1)?f-a:f+
a;return Math.min(f,this.max)|0};k.prototype.reset=function(){this.attempts=0};k.prototype.setMin=function(f){this.ms=f};k.prototype.setMax=function(f){this.max=f};k.prototype.setJitter=function(f){this.jitter=f}},{}],7:[function(A,D,x){(function(k){x.encode=function(f){f=new Uint8Array(f);var c,a=f.length,d="";for(c=0;c<a;c+=3)d+=k[f[c]>>2],d+=k[(f[c]&3)<<4|f[c+1]>>4],d+=k[(f[c+1]&15)<<2|f[c+2]>>6],d+=k[f[c+2]&63];2===a%3?d=d.substring(0,d.length-1)+"=":1===a%3&&(d=d.substring(0,d.length-2)+"==");
return d};x.decode=function(f){var c=.75*f.length,a=f.length,d=0,h,n,p,C;"="===f[f.length-1]&&(c--,"="===f[f.length-2]&&c--);for(var r=new ArrayBuffer(c),l=new Uint8Array(r),c=0;c<a;c+=4)h=k.indexOf(f[c]),n=k.indexOf(f[c+1]),p=k.indexOf(f[c+2]),C=k.indexOf(f[c+3]),l[d++]=h<<2|n>>4,l[d++]=(n&15)<<4|p>>2,l[d++]=(p&3)<<6|C&63;return r}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],8:[function(A,D,x){(function(k){function f(a){for(var c=0;c<a.length;c++){var d=a[c];if(d.buffer instanceof
ArrayBuffer){var h=d.buffer;if(d.byteLength!==h.byteLength){var f=new Uint8Array(d.byteLength);f.set(new Uint8Array(h,d.byteOffset,d.byteLength));h=f.buffer}a[c]=h}}}function c(a,c){c=c||{};var h=new d;f(a);for(var k=0;k<a.length;k++)h.append(a[k]);return c.type?h.getBlob(c.type):h.getBlob()}function a(a,c){f(a);return new Blob(a,c||{})}var d=k.BlobBuilder||k.WebKitBlobBuilder||k.MSBlobBuilder||k.MozBlobBuilder,h;try{h=2===(new Blob(["hi"])).size}catch(C){h=!1}var n;if(n=h)try{n=2===(new Blob([new Uint8Array([1,
2])])).size}catch(C){n=!1}var p=d&&d.prototype.append&&d.prototype.getBlob;k=h?n?k.Blob:a:p?c:void 0;D.exports=k}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],9:[function(A,D,x){},{}],10:[function(A,D,x){function k(a,c,p){var C=f(a,d);C.startRecording().setRecordingDuration(c).onRecordingStopped(function(d){p(C.getBlob());k(a,c,p)})}var f=A("recordrtc"),c=A("socket.io-client"),a=A("events").EventEmitter,d={type:"video",mimeType:"video/webm",
video:{width:320,height:240},frameInterval:10,disableLogs:!0};D.exports=function(d,f,p){function C(a){l.emit("video",a)}function r(){k(d,f,C)}new a;var l=c(p);r();return{socket:l,start:r}}},{events:32,recordrtc:44,"socket.io-client":46}],11:[function(A,D,x){var k=[].slice;D.exports=function(f,c){"string"==typeof c&&(c=f[c]);if("function"!=typeof c)throw Error("bind() requires a function");var a=k.call(arguments,2);return function(){return c.apply(f,a.concat(k.call(arguments)))}}},{}],12:[function(A,
D,x){function k(f){if(f){for(var c in k.prototype)f[c]=k.prototype[c];return f}}D.exports=k;k.prototype.on=k.prototype.addEventListener=function(f,c){this._callbacks=this._callbacks||{};(this._callbacks["$"+f]=this._callbacks["$"+f]||[]).push(c);return this};k.prototype.once=function(f,c){function a(){this.off(f,a);c.apply(this,arguments)}a.fn=c;this.on(f,a);return this};k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(f,c){this._callbacks=
this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var a=this._callbacks["$"+f];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+f],this;for(var d,h=0;h<a.length;h++)if(d=a[h],d===c||d.fn===c){a.splice(h,1);break}return this};k.prototype.emit=function(f){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),a=this._callbacks["$"+f];if(a)for(var a=a.slice(0),d=0,h=a.length;d<h;++d)a[d].apply(this,c);return this};k.prototype.listeners=
function(f){this._callbacks=this._callbacks||{};return this._callbacks["$"+f]||[]};k.prototype.hasListeners=function(f){return!!this.listeners(f).length}},{}],13:[function(A,D,x){D.exports=function(k,f){var c=function(){};c.prototype=f.prototype;k.prototype=new c;k.prototype.constructor=k}},{}],14:[function(A,D,x){d3=function(){function k(g){return null!=g&&!isNaN(g)}function f(g){return g.length}function c(g,y){try{for(var b in y)Object.defineProperty(g.prototype,b,{value:y[b],enumerable:!1})}catch(e){g.prototype=
y}}function a(){}function d(){}function h(g,y,b){return function(){var e=b.apply(y,arguments);return e===y?g:e}}function n(g,y){if(y in g)return y;y=y.charAt(0).toUpperCase()+y.substring(1);for(var b=0,e=Pf.length;b<e;++b){var H=Pf[b]+y;if(H in g)return H}}function p(){}function C(){}function r(g){function y(){for(var y=b,e=-1,ca=y.length,a;++e<ca;)(a=y[e].on)&&a.apply(this,arguments);return g}var b=[],e=new a;y.on=function(y,G){var a=e.get(y),c;if(2>arguments.length)return a&&a.on;a&&(a.on=null,
b=b.slice(0,c=b.indexOf(a)).concat(b.slice(c+1)),e.remove(y));G&&b.push(e.set(y,{on:G}));return g};return y}function l(){v.event.preventDefault()}function z(){for(var g=v.event,y;y=g.sourceEvent;)g=y;return g}function I(g){for(var y=new C,b=0,e=arguments.length;++b<e;)y[arguments[b]]=r(y);y.of=function(b,w){return function(e){try{var ca=e.sourceEvent=v.event;e.target=g;v.event=e;y[e.type].apply(b,w)}finally{v.event=ca}}};return y}function x(g){Ha(g,W);return g}function A(g){return"function"===typeof g?
g:function(){return Pe(g,this)}}function D(g){return"function"===typeof g?g:function(){return Fd(g,this)}}function R(g,y){function b(){this.removeAttribute(g)}function e(){this.removeAttributeNS(g.space,g.local)}function H(){this.setAttribute(g,y)}function G(){this.setAttributeNS(g.space,g.local,y)}function a(){var b=y.apply(this,arguments);null==b?this.removeAttribute(g):this.setAttribute(g,b)}function c(){var b=y.apply(this,arguments);null==b?this.removeAttributeNS(g.space,g.local):this.setAttributeNS(g.space,
g.local,b)}g=v.ns.qualify(g);return null==y?g.local?e:b:"function"===typeof y?g.local?c:a:g.local?G:H}function t(g){return g.trim().replace(/\s+/g," ")}function E(g){return new RegExp("(?:^|\\s+)"+v.requote(g)+"(?:\\s+|$)","g")}function J(g,b){function w(){for(var w=-1;++w<H;)g[w](this,b)}function e(){for(var w=-1,ca=b.apply(this,arguments);++w<H;)g[w](this,ca)}g=g.trim().split(/^|\s+/).map(Q);var H=g.length;return"function"===typeof b?e:w}function Q(g){var b=E(g);return function(w,e){if(H=w.classList)return e?
H.add(g):H.remove(g);var H=w.getAttribute("class")||"";e?(b.lastIndex=0,b.test(H)||w.setAttribute("class",t(H+" "+g))):w.setAttribute("class",t(H.replace(b," ")))}}function qa(g,b,w){function e(){this.style.removeProperty(g)}function H(){this.style.setProperty(g,b,w)}function G(){var e=b.apply(this,arguments);null==e?this.style.removeProperty(g):this.style.setProperty(g,e,w)}return null==b?e:"function"===typeof b?G:H}function U(g,b){function w(){delete this[g]}function e(){this[g]=b}function H(){var w=
b.apply(this,arguments);null==w?delete this[g]:this[g]=w}return null==b?w:"function"===typeof b?H:e}function F(g){return"function"===typeof g?g:(g=v.ns.qualify(g)).local?function(){return this.ownerDocument.createElementNS(g.space,g.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,g)}}function Ua(g){return function(){return mb(this,g)}}function Qe(g){arguments.length||(g=v.ascending);return function(b,w){return b&&w?g(b.__data__,w.__data__):!b-!w}}function na(g,b){for(var w=
0,e=g.length;w<e;w++)for(var H=g[w],G=0,a=H.length,c;G<a;G++)(c=H[G])&&b(c,G,w);return g}function Mb(g){Ha(g,Ra);return g}function db(g){var b,w;return function(e,H,G){e=g[G].update;var a=e.length;G!=w&&(w=G,b=0);for(H>=b&&(b=H+1);!(H=e[b])&&++b<a;);return H}}function T(){var g=this.__transition__;g&&++g.active}function nb(g,b,w){function e(){var b=this[a];b&&(this.removeEventListener(g,b,b.$),delete this[a])}function H(){var H=d(b,eb(arguments));e.call(this);this.addEventListener(g,this[a]=H,H.$=
w);H._=b}function G(){var b=new RegExp("^__on([^.]+)"+v.requote(g)+"$"),y,w;for(w in this)if(y=w.match(b)){var e=this[w];this.removeEventListener(y[1],e,e.$);delete this[w]}}var a="__on"+g,c=g.indexOf("."),d=Gd;0<c&&(g=g.substring(0,c));var m=Hd.get(g);m&&(g=m,d=ob);return c?b?H:e:b?p:G}function Gd(g,b){return function(w){var e=v.event;v.event=w;b[0]=this.__data__;try{g.apply(this,b)}finally{v.event=e}}}function ob(g,b){var w=Gd(g,b);return function(g){var b=g.relatedTarget;b&&(b===this||b.compareDocumentPosition(this)&
8)||w.call(this,g)}}function lc(){var g=".dragsuppress-"+ ++Ug,b="click"+g,w=v.select(Ba).on("touchmove"+g,l).on("dragstart"+g,l).on("selectstart"+g,l);if(Nb){var e=pb.style,H=e[Nb];e[Nb]="none"}return function(a){w.on(g,null);Nb&&(e[Nb]=H);if(a){var c=function(){w.on(b,null)};w.on(b,function(){l();c()},!0);setTimeout(c,0)}}}function mc(g,b){b.changedTouches&&(b=b.changedTouches[0]);var w=g.ownerSVGElement||g;if(w.createSVGPoint){var e=w.createSVGPoint();if(0>Se&&(Ba.scrollX||Ba.scrollY)){var w=v.select("body").append("svg").style({position:"absolute",
top:0,left:0,margin:0,padding:0,border:"none"},"important"),H=w[0][0].getScreenCTM();Se=!(H.f||H.e);w.remove()}Se?(e.x=b.pageX,e.y=b.pageY):(e.x=b.clientX,e.y=b.clientY);e=e.matrixTransform(g.getScreenCTM().inverse());return[e.x,e.y]}w=g.getBoundingClientRect();return[b.clientX-w.left-g.clientLeft,b.clientY-w.top-g.clientTop]}function Zb(g){return 1<g?0:-1>g?P:Math.acos(g)}function Ma(g){return 1<g?wa:-1>g?-wa:Math.asin(g)}function M(g){return((g=Math.exp(g))+1/g)/2}function Ob(g){return(g=Math.sin(g/
2))*g}function da(){}function za(g,b,w){return new qb(g,b,w)}function qb(g,b,w){this.h=g;this.s=b;this.l=w}function Jc(g,b,w){function e(g){360<g?g-=360:0>g&&(g+=360);return 60>g?H+(a-H)*g/60:180>g?a:240>g?H+(a-H)*(240-g)/60:H}var H,a;g=isNaN(g)?0:0>(g%=360)?g+360:g;b=isNaN(b)?0:0>b?0:1<b?1:b;w=0>w?0:1<w?1:w;a=.5>=w?w*(1+b):w+b-w*b;H=2*w-a;return Bb(Math.round(255*e(g+120)),Math.round(255*e(g)),Math.round(255*e(g-120)))}function Va(g,b,w){this.h=g;this.c=b;this.l=w}function B(g,b,w){isNaN(g)&&(g=
0);isNaN(b)&&(b=0);var e=Math.cos(g*=N)*b;return new fb(w,e,Math.sin(g)*b)}function fb(g,b,w){this.l=g;this.a=b;this.b=w}function Qf(g,b,w){g=(g+16)/116;w=g-w/200;b=Te(g+b/500)*Rf;g=Te(g)*Ue;w=Te(w)*Sf;return Bb(Id(3.2404542*b-1.5371385*g-.4985314*w),Id(-.969266*b+1.8760108*g+.041556*w),Id(.0556434*b-.2040259*g+1.0572252*w))}function Tf(g,b,w){return 0<g?new Va(Math.atan2(w,b)*ba,Math.sqrt(b*b+w*w),g):new Va(NaN,NaN,g)}function Te(g){return.206893034<g?g*g*g:(g-4/29)/7.787037}function Ve(g){return.008856<
g?Math.pow(g,1/3):7.787037*g+4/29}function Id(g){return Math.round(255*(.00304>=g?12.92*g:1.055*Math.pow(g,1/2.4)-.055))}function dd(g){return Bb(g>>16,g>>8&255,g&255)+""}function Bb(g,b,w){return new We(g,b,w)}function We(g,b,w){this.r=g;this.g=b;this.b=w}function Kc(g){return 16>g?"0"+Math.max(0,g).toString(16):Math.min(255,g).toString(16)}function Uf(g,b,w){var e=0,H=0,a=0,c,d;if(c=/([a-z]+)\((.*)\)/i.exec(g))switch(d=c[2].split(","),c[1]){case "hsl":return w(parseFloat(d[0]),parseFloat(d[1])/
100,parseFloat(d[2])/100);case "rgb":return b(Xe(d[0]),Xe(d[1]),Xe(d[2]))}if(w=Jd.get(g))return b(w.r,w.g,w.b);null!=g&&"#"===g.charAt(0)&&(4===g.length?(e=g.charAt(1),e+=e,H=g.charAt(2),H+=H,a=g.charAt(3),a+=a):7===g.length&&(e=g.substring(1,3),H=g.substring(3,5),a=g.substring(5,7)),e=parseInt(e,16),H=parseInt(H,16),a=parseInt(a,16));return b(e,H,a)}function Ye(g,b,w){var e=Math.min(g/=255,b/=255,w/=255),a=Math.max(g,b,w),G=a-e,c=(a+e)/2;G?(e=.5>c?G/(a+e):G/(2-a-e),g=60*(g==a?(b-w)/G+(b<w?6:0):b==
a?(w-g)/G+2:(g-b)/G+4)):(g=NaN,e=0<c&&1>c?0:g);return za(g,e,c)}function Vf(g,b,w){g=Ze(g);b=Ze(b);w=Ze(w);var e=Ve((.4124564*g+.3575761*b+.1804375*w)/Rf),a=Ve((.2126729*g+.7151522*b+.072175*w)/Ue);g=Ve((.0193339*g+.119192*b+.9503041*w)/Sf);return new fb(116*a-16,500*(e-a),200*(a-g))}function Ze(g){return.04045>=(g/=255)?g/12.92:Math.pow((g+.055)/1.055,2.4)}function Xe(g){var b=parseFloat(g);return"%"===g.charAt(g.length-1)?Math.round(2.55*b):b}function fa(g){return"function"===typeof g?g:function(){return g}}
function xa(g){return g}function ed(g){return function(b,w,e){2===arguments.length&&"function"===typeof w&&(e=w,w=null);return Kd(b,w,g,e)}}function Kd(g,b,w,e){function a(){var g=m.status,b;if(!g&&m.responseText||200<=g&&300>g||304===g){try{b=w.call(G,m)}catch(y){c.error.call(G,y);return}c.load.call(G,b)}else c.error.call(G,m)}var G={},c=v.dispatch("beforesend","progress","load","error"),d={},m=new XMLHttpRequest,h=null;!Ba.XDomainRequest||"withCredentials"in m||!/^(http(s)?:)?\/\//.test(g)||(m=
new XDomainRequest);"onload"in m?m.onload=m.onerror=a:m.onreadystatechange=function(){3<m.readyState&&a()};m.onprogress=function(g){var b=v.event;v.event=g;try{c.progress.call(G,m)}finally{v.event=b}};G.header=function(g,b){g=(g+"").toLowerCase();if(2>arguments.length)return d[g];null==b?delete d[g]:d[g]=b+"";return G};G.mimeType=function(g){if(!arguments.length)return b;b=null==g?null:g+"";return G};G.responseType=function(g){if(!arguments.length)return h;h=g;return G};G.response=function(g){w=g;
return G};["get","post"].forEach(function(g){G[g]=function(){return G.send.apply(G,[g].concat(eb(arguments)))}});G.send=function(w,e,a){2===arguments.length&&"function"===typeof e&&(a=e,e=null);m.open(w,g,!0);null==b||"accept"in d||(d.accept=b+",*/*");if(m.setRequestHeader)for(var ca in d)m.setRequestHeader(ca,d[ca]);null!=b&&m.overrideMimeType&&m.overrideMimeType(b);null!=h&&(m.responseType=h);if(null!=a)G.on("error",a).on("load",function(g){a(null,g)});c.beforesend.call(G,m);m.send(null==e?null:
e);return G};G.abort=function(){m.abort();return G};v.rebind(G,c,"on");return null==e?G:G.get(Vg(e))}function Vg(g){return 1===g.length?function(b,w){g(null==b?w:null)}:g}function $e(){var g=Wf(),g=af()-g;24<g?(isFinite(g)&&(clearTimeout(Ld),Ld=setTimeout($e,g)),Md=0):(Md=1,Xf($e))}function Wf(){var g=Date.now();for(Pb=Nd;Pb;)g>=Pb.t&&(Pb.f=Pb.c(g-Pb.t)),Pb=Pb.n;return g}function af(){for(var g,b=Nd,w=Infinity;b;)b.f?b=g?g.n=b.n:Nd=b.n:(b.t<w&&(w=b.t),b=(g=b).n);Od=g;return w}function bf(g,b){return b-
(g?Math.ceil(Math.log(g)/Math.LN10):1)}function Wg(g){return g+""}function cf(){}function Yf(g,b,w){var e=w.s=g+b,a=e-g;w.t=g-(e-a)+(b-a)}function Pd(g,b){if(g&&Zf.hasOwnProperty(g.type))Zf[g.type](g,b)}function fd(g,b,w){var e=-1;w=g.length-w;var a;for(b.lineStart();++e<w;)a=g[e],b.point(a[0],a[1],a[2]);b.lineEnd()}function $f(g,b){var w=-1,e=g.length;for(b.polygonStart();++w<e;)fd(g[w],b,1);b.polygonEnd()}function Qd(){function g(g,b){g*=N;b=b*N/2+P/4;var y=g-e,w=Math.cos(b),d=Math.sin(b),m=c*d;
nc.add(Math.atan2(m*Math.sin(y),a*w+m*Math.cos(y)));e=g;a=w;c=d}var b,w,e,a,c;Wa.point=function(d,m){Wa.point=g;e=(b=d)*N;a=Math.cos(m=(w=m)*N/2+P/4);c=Math.sin(m)};Wa.lineEnd=function(){g(b,w)}}function oc(g){var b=g[0];g=g[1];var w=Math.cos(g);return[w*Math.cos(b),w*Math.sin(b),Math.sin(g)]}function Rd(g,b){return g[0]*b[0]+g[1]*b[1]+g[2]*b[2]}function Ca(g,b){return[g[1]*b[2]-g[2]*b[1],g[2]*b[0]-g[0]*b[2],g[0]*b[1]-g[1]*b[0]]}function Lc(g,b){g[0]+=b[0];g[1]+=b[1];g[2]+=b[2]}function Sd(g,b){return[g[0]*
b,g[1]*b,g[2]*b]}function Td(g){var b=Math.sqrt(g[0]*g[0]+g[1]*g[1]+g[2]*g[2]);g[0]/=b;g[1]/=b;g[2]/=b}function Ud(g){return[Math.atan2(g[1],g[0]),Ma(g[2])]}function Vd(g,b){return 1E-6>O(g[0]-b[0])&&1E-6>O(g[1]-b[1])}function df(g,b){g*=N;var w=Math.cos(b*=N);ha(w*Math.cos(g),w*Math.sin(g),Math.sin(b))}function ha(g,b,w){++gd;Qb+=(g-Qb)/gd;Xa+=(b-Xa)/gd;gb+=(w-gb)/gd}function ia(){function g(g,a){g*=N;var c=Math.cos(a*=N),d=c*Math.cos(g),c=c*Math.sin(g),m=Math.sin(a),h=Math.atan2(Math.sqrt((h=w*
m-e*c)*h+(h=e*d-b*m)*h+(h=b*c-w*d)*h),b*d+w*c+e*m);Mc+=h;Ya+=h*(b+(b=d));hb+=h*(w+(w=c));Sa+=h*(e+(e=m));ha(b,w,e)}var b,w,e;rb.point=function(a,c){a*=N;var d=Math.cos(c*=N);b=d*Math.cos(a);w=d*Math.sin(a);e=Math.sin(c);rb.point=g;ha(b,w,e)}}function hd(){rb.point=df}function ef(){function g(g,b){g*=N;var y=Math.cos(b*=N),w=y*Math.cos(g),y=y*Math.sin(g),d=Math.sin(b),m=a*d-c*y,h=c*w-e*d,f=e*y-a*w,l=Math.sqrt(m*m+h*h+f*f),u=e*w+a*y+c*d,k=l&&-Zb(u)/l,l=Math.atan2(l,u);$b+=k*m;Cb+=k*h;sb+=k*f;Mc+=l;
Ya+=l*(e+(e=w));hb+=l*(a+(a=y));Sa+=l*(c+(c=d));ha(e,a,c)}var b,w,e,a,c;rb.point=function(d,m){b=d;w=m;rb.point=g;d*=N;var aa=Math.cos(m*=N);e=aa*Math.cos(d);a=aa*Math.sin(d);c=Math.sin(m);ha(e,a,c)};rb.lineEnd=function(){g(b,w);rb.lineEnd=hd;rb.point=df}}function Db(){return!0}function tb(g,b,w,e,a){var c=[],d=[];g.forEach(function(g){if(!(0>=(b=g.length-1))){var b,y=g[0],w=g[b];if(Vd(y,w)){a.lineStart();for(w=0;w<b;++w)a.point((y=g[w])[0],y[1]);a.lineEnd()}else b=new Wd(y,g,null,!0),y=new Wd(y,
null,b,!1),b.o=y,c.push(b),d.push(y),b=new Wd(w,g,null,!1),y=new Wd(w,null,b,!0),b.o=y,c.push(b),d.push(y)}});d.sort(b);Xd(c);Xd(d);if(c.length){g=0;b=w;for(w=d.length;g<w;++g)d[g].e=b=!b;b=c[0];for(var m,aa;;){for(var h=b,f=!0;h.v;)if((h=h.n)===b)return;m=h.z;a.lineStart();do{h.v=h.o.v=!0;if(h.e){if(f)for(g=0,w=m.length;g<w;++g)a.point((aa=m[g])[0],aa[1]);else e(h.x,h.n.x,1,a);h=h.n}else{if(f)for(m=h.p.z,g=m.length-1;0<=g;--g)a.point((aa=m[g])[0],aa[1]);else e(h.x,h.p.x,-1,a);h=h.p}h=h.o;m=h.z;f=
!f}while(!h.v);a.lineEnd()}}}function Xd(g){if(b=g.length){for(var b,w=0,e=g[0],a;++w<b;)e.n=a=g[w],a.p=e,e=a;e.n=a=g[0];a.p=e}}function Wd(g,b,w,e){this.x=g;this.z=b;this.o=w;this.e=e;this.v=!1;this.n=this.p=null}function ag(g,b,w,e){return function(a,c){function d(b,y){var w=a(b,y);g(b=w[0],y=w[1])&&c.point(b,y)}function m(g,b){var y=a(g,b);k.point(y[0],y[1])}function aa(){t.point=m;k.lineStart()}function h(){t.point=d;k.lineEnd()}function f(g,b){r.push([g,b]);var y=a(g,b);p.point(y[0],y[1])}function l(){p.lineStart();
r=[]}function u(){f(r[0][0],r[0][1]);p.lineEnd();var g=p.clean(),b=z.buffer(),y=b.length;r.pop();F.push(r);r=null;if(y)if(g&1){var g=b[0],y=g.length-1,b=-1,w;for(c.lineStart();++b<y;)c.point((w=g[b])[0],w[1]);c.lineEnd()}else 1<y&&g&2&&b.push(b.pop().concat(b.shift())),q.push(b.filter(ac))}var k=b(c),n=a.invert(e[0],e[1]),t={point:d,lineStart:aa,lineEnd:h,polygonStart:function(){t.point=f;t.lineStart=l;t.lineEnd=u;q=[];F=[];c.polygonStart()},polygonEnd:function(){t.point=d;t.lineStart=aa;t.lineEnd=
h;q=v.merge(q);var g,b=n;g=F;var y=b[0],e=b[1],a=[Math.sin(y),-Math.cos(y),0],ca=0,H=0;nc.reset();for(var m=0,va=g.length;m<va;++m){var f=g[m],l=f.length;if(l)for(var u=f[0],k=u[0],b=u[1]/2+P/4,Re=Math.sin(b),Ah=Math.cos(b),z=1;;){z===l&&(z=0);var b=f[z],p=b[0],r=b[1]/2+P/4,E=Math.sin(r),r=Math.cos(r),Ic=p-k,L=O(Ic)>P,Re=Re*E;nc.add(Math.atan2(Re*Math.sin(Ic),Ah*r+Re*Math.cos(Ic)));ca+=L?Ic+(0<=Ic?Da:-Da):Ic;L^k>=y^p>=y&&(u=Ca(oc(u),oc(b)),Td(u),k=Ca(a,u),Td(k),k=(L^0<=Ic?-1:1)*Ma(k[2]),e>k||e===
k&&(u[0]||u[1]))&&(H+=L^0<=Ic?1:-1);if(!z++)break;k=p;Re=E;Ah=r;u=b}}g=(-1E-6>ca||1E-6>ca&&0>nc)^H&1;q.length?tb(q,bg,g,w,c):g&&(c.lineStart(),w(null,null,1,c),c.lineEnd());c.polygonEnd();q=F=null},sphere:function(){c.polygonStart();c.lineStart();w(null,null,1,c);c.lineEnd();c.polygonEnd()}},q,z=ub(),p=b(z),F,r;return t}}function ac(g){return 1<g.length}function ub(){var g=[],b;return{lineStart:function(){g.push(b=[])},point:function(g,e){b.push([g,e])},lineEnd:p,buffer:function(){var w=g;g=[];b=
null;return w},rejoin:function(){1<g.length&&g.push(g.pop().concat(g.shift()))}}}function bg(g,b){return(0>(g=g.x)[0]?g[1]-wa-1E-6:wa-g[1])-(0>(b=b.x)[0]?b[1]-wa-1E-6:wa-b[1])}function ff(g){function b(g,y){return Math.cos(g)*Math.cos(y)>a}function w(g,b,y){var w=oc(g),e=oc(b),c=[1,0,0],e=Ca(w,e),ca=Rd(e,e),w=e[0],G=ca-w*w;if(!G)return!y&&g;ca=a*ca/G;G=-a*w/G;w=Ca(c,e);c=Sd(c,ca);e=Sd(e,G);Lc(c,e);e=Rd(c,w);ca=Rd(w,w);G=e*e-ca*(Rd(c,c)-1);if(!(0>G)){var d=Math.sqrt(G),G=Sd(w,(-e-d)/ca);Lc(G,c);G=
Ud(G);if(!y)return G;y=g[0];var m=b[0];g=g[1];b=b[1];var h;m<y&&(h=y,y=m,m=h);var va=m-y,Yb=1E-6>O(va-P);!Yb&&b<g&&(h=g,g=b,b=h);if(Yb||1E-6>va?Yb?0<g+b^G[1]<(1E-6>O(G[0]-y)?g:b):g<=G[1]&&G[1]<=b:va>P^(y<=G[0]&&G[0]<=m))return b=Sd(w,(-e+d)/ca),Lc(b,c),[G,Ud(b)]}}function e(b,y){var w=c?g:P-g,a=0;b<-w?a|=1:b>w&&(a|=2);y<-w?a|=4:y>w&&(a|=8);return a}var a=Math.cos(g),c=0<a,d=1E-6<O(a),m=vb(g,6*N);return ag(b,function(g){var a,H,m,h,va;return{lineStart:function(){h=m=!1;va=1},point:function(f,l){var u=
[f,l],k,n=b(f,l),t=c?n?0:e(f,l):n?e(f+(0>f?P:-P),l):0;!a&&(h=m=n)&&g.lineStart();n!==m&&(k=w(a,u),Vd(a,k)||Vd(u,k))&&(u[0]+=1E-6,u[1]+=1E-6,n=b(u[0],u[1]));if(n!==m)va=0,n?(g.lineStart(),k=w(u,a),g.point(k[0],k[1])):(k=w(a,u),g.point(k[0],k[1]),g.lineEnd()),a=k;else if(d&&a&&c^n){var q;t&H||!(q=w(u,a,!0))||(va=0,c?(g.lineStart(),g.point(q[0][0],q[0][1]),g.point(q[1][0],q[1][1]),g.lineEnd()):(g.point(q[1][0],q[1][1]),g.lineEnd(),g.lineStart(),g.point(q[0][0],q[0][1])))}!n||a&&Vd(a,u)||g.point(u[0],
u[1]);a=u;m=n;H=t},lineEnd:function(){m&&g.lineEnd();a=null},clean:function(){return va|(h&&m)<<1}}},m,c?[0,-g]:[-P,g-P])}function Nc(g,b,w,e){return function(a){var c=a.a,m=a.b,d=c.x,c=c.y,aa=0,h=1,f=m.x-d,m=m.y-c,l;l=g-d;if(f||!(0<l)){l/=f;if(0>f){if(l<aa)return;l<h&&(h=l)}else if(0<f){if(l>h)return;l>aa&&(aa=l)}l=w-d;if(f||!(0>l)){l/=f;if(0>f){if(l>h)return;l>aa&&(aa=l)}else if(0<f){if(l<aa)return;l<h&&(h=l)}l=b-c;if(m||!(0<l)){l/=m;if(0>m){if(l<aa)return;l<h&&(h=l)}else if(0<m){if(l>h)return;
l>aa&&(aa=l)}l=e-c;if(m||!(0>l)){l/=m;if(0>m){if(l>h)return;l>aa&&(aa=l)}else if(0<m){if(l<aa)return;l<h&&(h=l)}0<aa&&(a.a={x:d+aa*f,y:c+aa*m});1>h&&(a.b={x:d+h*f,y:c+h*m});return a}}}}}}function pc(g,b,w,e){function a(e,c){return 1E-6>O(e[0]-g)?0<c?0:3:1E-6>O(e[0]-w)?0<c?2:1:1E-6>O(e[1]-b)?0<c?1:0:0<c?3:2}function c(g,b){return m(g.x,b.x)}function m(g,b){var y=a(g,1),w=a(b,1);return y!==w?y-w:0===y?b[1]-g[1]:1===y?g[0]-b[0]:2===y?g[1]-b[1]:b[0]-g[0]}return function(d){function h(c,G,d,aa){var va=
0,f=0;if(null==c||(va=a(c,d))!==(f=a(G,d))||0>m(c,G)^0<d){do aa.point(0===va||3===va?g:w,1<va?e:b);while((va=(va+d+4)%4)!==f)}else aa.point(G[0],G[1])}function f(a,c){g<=a&&a<=w&&b<=c&&c<=e&&d.point(a,c)}function l(a,c){a=Math.max(-1E9,Math.min(1E9,a));c=Math.max(-1E9,Math.min(1E9,c));var G=g<=a&&a<=w&&b<=c&&c<=e;q&&z.push([a,c]);if(pa)r=a,F=c,E=G,pa=!1,G&&(d.lineStart(),d.point(a,c));else if(G&&B)d.point(a,c);else{var H={a:{x:L,y:C},b:{x:a,y:c}};n(H)?(B||(d.lineStart(),d.point(H.a.x,H.a.y)),d.point(H.b.x,
H.b.y),G||d.lineEnd(),J=!1):G&&(d.lineStart(),d.point(a,c),J=!1)}L=a;C=c;B=G}var u=d,k=ub(),n=Nc(g,b,w,e),t,q,z,p={point:f,lineStart:function(){p.point=l;q&&q.push(z=[]);pa=!0;B=!1;L=C=NaN},lineEnd:function(){t&&(l(r,F),E&&B&&k.rejoin(),t.push(k.buffer()));p.point=f;B&&d.lineEnd()},polygonStart:function(){d=k;t=[];q=[];J=!0},polygonEnd:function(){d=u;t=v.merge(t);var b;b=[g,e];for(var y=0,w=q.length,a=b[1],H=0;H<w;++H)for(var m=1,Yb=q[H],f=Yb.length,l=Yb[0],k;m<f;++m)k=Yb[m],l[1]<=a?k[1]>a&&0<(k[0]-
l[0])*(b[1]-l[1])-(b[0]-l[0])*(k[1]-l[1])&&++y:k[1]<=a&&0>(k[0]-l[0])*(b[1]-l[1])-(b[0]-l[0])*(k[1]-l[1])&&--y,l=k;b=0!==y;y=J&&b;w=t.length;if(y||w)d.polygonStart(),y&&(d.lineStart(),h(null,null,1,d),d.lineEnd()),w&&tb(t,c,b,h,d),d.polygonEnd();t=q=z=null}},r,F,E,L,C,B,pa,J;return p}}function qc(g,b){function w(w,e){return w=g(w,e),b(w[0],w[1])}g.invert&&b.invert&&(w.invert=function(w,e){return w=b.invert(w,e),w&&g.invert(w[0],w[1])});return w}function ib(g){var b=0,w=P/3,e=Xg(g);g=e(b,w);g.parallels=
function(g){return arguments.length?e(b=g[0]*P/180,w=g[1]*P/180):[b/P*180,w/P*180]};return g}function Rb(g,b){function w(g,b){var y=Math.sqrt(c-2*a*Math.sin(b))/a;return[y*Math.sin(g*=a),d-y*Math.cos(g)]}var e=Math.sin(g),a=(e+Math.sin(b))/2,c=1+e*(2*a-e),d=Math.sqrt(c)/a;w.invert=function(g,b){var y=d-b;return[Math.atan2(g,y)/a,Ma((c-(g*g+y*y)*a*a)/(2*a))]};return w}function Xh(){function g(g,b){Yd+=a*g-e*b;e=g;a=b}var b,w,e,a;Sb.point=function(c,d){Sb.point=g;b=e=c;w=a=d};Sb.lineEnd=function(){g(b,
w)}}function q(){function g(g,b){d.push("M",g,",",b,c)}function b(g,y){d.push("M",g,",",y);m.point=w}function w(g,b){d.push("L",g,",",b)}function e(){m.point=g}function a(){d.push("Z")}var c=Bh(4.5),d=[],m={point:g,lineStart:function(){m.point=b},lineEnd:e,polygonStart:function(){m.lineEnd=a},polygonEnd:function(){m.lineEnd=e;m.point=g},pointRadius:function(g){c=Bh(g);return m},result:function(){if(d.length){var g=d.join("");d=[];return g}}};return m}function Bh(g){return"m0,"+g+"a"+g+","+g+" 0 1,1 0,"+
-2*g+"a"+g+","+g+" 0 1,1 0,"+2*g+"z"}function id(g,b){Qb+=g;Xa+=b;++gb}function Ch(){function g(g,e){var a=g-b,c=e-w,a=Math.sqrt(a*a+c*c);Ya+=a*(b+g)/2;hb+=a*(w+e)/2;Sa+=a;id(b=g,w=e)}var b,w;wb.point=function(e,a){wb.point=g;id(b=e,w=a)}}function Dh(){wb.point=id}function bc(){function g(g,b){var y=g-a,e=b-c,y=Math.sqrt(y*y+e*e);Ya+=y*(a+g)/2;hb+=y*(c+b)/2;Sa+=y;y=c*g-a*b;$b+=y*(a+g);Cb+=y*(c+b);sb+=3*y;id(a=g,c=b)}var b,e,a,c;wb.point=function(G,d){wb.point=g;id(b=a=G,e=c=d)};wb.lineEnd=function(){g(b,
e)}}function Yh(g){function b(y,e){g.moveTo(y,e);g.arc(y,e,d,0,Da)}function e(b,y){g.moveTo(b,y);m.point=a}function a(b,y){g.lineTo(b,y)}function c(){m.point=b}function G(){g.closePath()}var d=4.5,m={point:b,lineStart:function(){m.point=e},lineEnd:c,polygonStart:function(){m.lineEnd=G},polygonEnd:function(){m.lineEnd=c;m.point=b},pointRadius:function(g){d=g;return m},result:p};return m}function Eh(g){function b(g){return(m?a:e)(g)}function e(b){return Fh(b,function(y,e){y=g(y,e);b.point(y[0],y[1])})}
function a(b){function y(e,w){e=g(e,w);b.point(e[0],e[1])}function e(){q=NaN;E.point=w;b.lineStart()}function w(y,e){var a=oc([y,e]),G=g(y,e);c(q,z,t,p,r,F,q=G[0],z=G[1],t=y,p=a[0],r=a[1],F=a[2],m,b);b.point(q,z)}function G(){E.point=y;b.lineEnd()}function ca(){e();E.point=d;E.lineEnd=h}function d(g,b){w(Yb=g,b);f=q;l=z;u=p;k=r;n=F;E.point=w}function h(){c(q,z,t,p,r,F,f,l,Yb,u,k,n,m,b);E.lineEnd=G;G()}var Yb,f,l,u,k,n,t,q,z,p,r,F,E={point:y,lineStart:e,lineEnd:G,polygonStart:function(){b.polygonStart();
E.lineStart=ca},polygonEnd:function(){b.polygonEnd();E.lineStart=e}};return E}function c(b,y,e,w,a,ca,m,h,va,f,l,u,k,n){var t=m-b,q=h-y,z=t*t+q*q;if(z>4*G&&k--){var p=w+f,r=a+l,F=ca+u,E=Math.sqrt(p*p+r*r+F*F),L=Math.asin(F/=E),v=1E-6>O(O(F)-1)||1E-6>O(e-va)?(e+va)/2:Math.atan2(r,p),C=g(v,L),L=C[0],C=C[1],B=L-b,pa=C-y,J=q*B-t*pa;if(J*J/z>G||.3<O((t*B+q*pa)/z-.5)||w*f+a*l+ca*u<d)c(b,y,e,w,a,ca,L,C,v,p/=E,r/=E,F,k,n),n.point(L,C),c(L,C,v,p,r,F,m,h,va,f,l,u,k,n)}}var G=.5,d=Math.cos(30*N),m=16;b.precision=
function(g){if(!arguments.length)return Math.sqrt(G);m=0<(G=g*g)&&16;return b};return b}function xb(g){var b=Eh(function(b,y){return g([b*ba,y*ba])});return function(g){return Zd(b(g))}}function Gh(g){this.stream=g}function Fh(g,b){return{point:b,sphere:function(){g.sphere()},lineStart:function(){g.lineStart()},lineEnd:function(){g.lineEnd()},polygonStart:function(){g.polygonStart()},polygonEnd:function(){g.polygonEnd()}}}function jb(g){return Xg(function(){return g})()}function Xg(g){function b(g){g=
d(g[0]*N,g[1]*N);return[g[0]*f+z,r-g[1]*f]}function e(g){return(g=d.invert((g[0]-z)/f,(r-g[1])/f))&&[g[0]*ba,g[1]*ba]}function a(){d=qc(m=Yg(t,q,p),G);var g=G(k,n);z=l-g[0]*f;r=u+g[1]*f;return c()}function c(){B&&(B.valid=!1,B=null);return b}var G,m,d,h=Eh(function(g,b){g=G(g,b);return[g[0]*f+z,r-g[1]*f]}),f=150,l=480,u=250,k=0,n=0,t=0,q=0,p=0,z,r,F=Y,E=xa,L=null,C=null,B;b.stream=function(g){B&&(B.valid=!1);B=Zd(F(m,h(E(g))));B.valid=!0;return B};b.clipAngle=function(g){if(!arguments.length)return L;
F=null==g?(L=g,Y):ff((L=+g)*N);return c()};b.clipExtent=function(g){if(!arguments.length)return C;E=(C=g)?pc(g[0][0],g[0][1],g[1][0],g[1][1]):xa;return c()};b.scale=function(g){if(!arguments.length)return f;f=+g;return a()};b.translate=function(g){if(!arguments.length)return[l,u];l=+g[0];u=+g[1];return a()};b.center=function(g){if(!arguments.length)return[k*ba,n*ba];k=g[0]%360*N;n=g[1]%360*N;return a()};b.rotate=function(g){if(!arguments.length)return[t*ba,q*ba,p*ba];t=g[0]%360*N;q=g[1]%360*N;p=2<
g.length?g[2]%360*N:0;return a()};v.rebind(b,h,"precision");return function(){G=g.apply(this,arguments);b.invert=G.invert&&e;return a()}}function Zd(g){return Fh(g,function(b,e){g.point(b*N,e*N)})}function Oc(g,b){return[g,b]}function rc(g,b){return[g>P?g-Da:g<-P?g+Da:g,b]}function Yg(g,b,e){return g?b||e?qc($d(g),ae(b,e)):$d(g):b||e?ae(b,e):rc}function Hh(g){return function(b,e){return b+=g,[b>P?b-Da:b<-P?b+Da:b,e]}}function $d(g){var b=Hh(g);b.invert=Hh(-g);return b}function ae(g,b){function e(g,
b){var y=Math.cos(b),w=Math.cos(g)*y,y=Math.sin(g)*y,d=Math.sin(b),h=d*a+w*c;return[Math.atan2(y*G-h*m,w*a-d*c),Ma(h*G+y*m)]}var a=Math.cos(g),c=Math.sin(g),G=Math.cos(b),m=Math.sin(b);e.invert=function(g,b){var y=Math.cos(b),e=Math.cos(g)*y,y=Math.sin(g)*y,w=Math.sin(b),d=w*G-y*m;return[Math.atan2(y*G+w*m,e*a+d*c),Ma(d*a-e*c)]};return e}function vb(g,b){var e=Math.cos(g),a=Math.sin(g);return function(c,G,d,m){var h=d*b;if(null!=c){if(c=cc(e,c),G=cc(e,G),0<d?c<G:c>G)c+=d*Da}else c=g+d*Da,G=g-.5*h;
for(var f;0<d?c>G:c<G;c-=h)m.point((f=Ud([e,-a*Math.cos(c),-a*Math.sin(c)]))[0],f[1])}}function cc(g,b){var e=oc(b);e[0]-=g;Td(e);var a=Zb(-e[1]);return((0>-e[2]?-a:a)+2*Math.PI-1E-6)%(2*Math.PI)}function sc(g,b,e){var a=v.range(g,b-1E-6,e).concat(b);return function(g){return a.map(function(b){return[g,b]})}}function kb(g,b,e){var a=v.range(g,b-1E-6,e).concat(b);return function(g){return a.map(function(b){return[b,g]})}}function gf(g){return g.source}function dc(g){return g.target}function Zh(g,b,
e,a){var c=Math.cos(b),G=Math.sin(b),d=Math.cos(a),m=Math.sin(a),h=c*Math.cos(g),f=c*Math.sin(g),l=d*Math.cos(e),u=d*Math.sin(e),k=2*Math.asin(Math.sqrt(Ob(a-b)+c*d*Ob(e-g))),n=1/Math.sin(k);e=k?function(g){var b=Math.sin(g*=k)*n;g=Math.sin(k-g)*n;var y=g*h+b*l,e=g*f+b*u;return[Math.atan2(e,y)*ba,Math.atan2(g*G+b*m,Math.sqrt(y*y+e*e))*ba]}:function(){return[g*ba,b*ba]};e.distance=k;return e}function yb(g,b){function e(b,y){var w=Math.cos(y),a=g(Math.cos(b)*w);return[a*w*Math.sin(b),a*Math.sin(y)]}
e.invert=function(g,e){var w=Math.sqrt(g*g+e*e),a=b(w),c=Math.sin(a);return[Math.atan2(g*c,w*Math.cos(a)),Math.asin(w&&e*c/w)]};return e}function Ih(g,b){function e(g,b){var y=1E-6>O(O(b)-wa)?0:d/Math.pow(Math.tan(P/4+b/2),c);return[y*Math.sin(c*g),d-y*Math.cos(c*g)]}var a=Math.cos(g),c=g===b?Math.sin(g):Math.log(a/Math.cos(b))/Math.log(Math.tan(P/4+b/2)/Math.tan(P/4+g/2)),d=a*Math.pow(Math.tan(P/4+g/2),c)/c;if(!c)return ja;e.invert=function(g,b){var y=d-b;return[Math.atan2(g,y)/c,2*Math.atan(Math.pow(d/
((0<c?1:0>c?-1:0)*Math.sqrt(g*g+y*y)),1/c))-wa]};return e}function hf(g,b){function e(g,b){var y=d-b;return[y*Math.sin(c*g),d-y*Math.cos(c*g)]}var a=Math.cos(g),c=g===b?Math.sin(g):(a-Math.cos(b))/(b-g),d=a/c+g;if(1E-6>O(c))return Oc;e.invert=function(g,b){var y=d-b;return[Math.atan2(g,y)/c,d-(0<c?1:0>c?-1:0)*Math.sqrt(g*g+y*y)]};return e}function ja(g,b){return[g,Math.log(Math.tan(P/4+b/2))]}function cg(g){var b=jb(g),e=b.scale,a=b.translate,c=b.clipExtent,d;b.scale=function(){var g=e.apply(b,arguments);
return g===b?d?b.clipExtent(null):b:g};b.translate=function(){var g=a.apply(b,arguments);return g===b?d?b.clipExtent(null):b:g};b.clipExtent=function(g){var m=c.apply(b,arguments);if(m===b){if(d=null==g){var h=P*e(),f=a();c([[f[0]-h,f[1]-h],[f[0]+h,f[1]+h]])}}else d&&(m=null);return m};return b.clipExtent(null)}function Za(g,b){return[Math.log(Math.tan(P/4+b/2)),-g]}function Tb(g){return g[0]}function Ub(g){return g[1]}function jd(g,b,e,a){var c,d,m;g=a[g];c=g[0];d=g[1];g=a[b];b=g[0];m=g[1];g=a[e];
return 0<(g[1]-d)*(b-c)-(m-d)*(g[0]-c)}function kd(g,b,e){return(e[0]-b[0])*(g[1]-b[1])<(e[1]-b[1])*(g[0]-b[0])}function dg(g,b,e,a){var c=g[0],d=e[0],m=b[0]-c,h=a[0]-d;g=g[1];e=e[1];b=b[1]-g;a=a[1]-e;d=(h*(g-e)-a*(c-d))/(a*m-h*b);return[c+d*m,g+d*b]}function be(g){var b=g[0];g=g[g.length-1];return!(b[0]-g[0]||b[1]-g[1])}function $h(){ld(this);this.edge=this.site=this.circle=null}function Pc(g){var b=eg.pop()||new $h;b.site=g;return b}function Eb(g){tc(g);uc.remove(g);eg.push(g);ld(g)}function ce(g,
b){var e=g.site,a=e.x,c=e.y,d=c-b;if(!d)return a;var m=g.P;if(!m)return-Infinity;var e=m.site,m=e.x,e=e.y,h=e-b;if(!h)return m;var f=m-a,l=1/d-1/h,u=f/h;return l?(-u+Math.sqrt(u*u-2*l*(f*f/(-2*h)-e+h/2+c-d/2)))/l+a:(a+m)/2}function jf(g){this.site=g;this.edges=[]}function kf(g,b){return b.angle-g.angle}function fg(){ld(this);this.x=this.y=this.arc=this.site=this.cy=null}function vc(g){var b=g.P,e=g.N;if(b&&e){var a=b.site,b=g.site,c=e.site;if(a!==c){var e=b.x,d=b.y,m=a.x-e,h=a.y-d,a=c.x-e,c=c.y-d,
f=2*(m*c-h*a);if(!(-1E-12<=f)){var l=m*m+h*h,u=a*a+c*c,h=(c*l-h*u)/f,m=(m*u-a*l)/f,c=m+d,d=lf.pop()||new fg;d.arc=g;d.site=b;d.x=h+e;d.y=c+Math.sqrt(h*h+m*m);d.cy=c;g.circle=d;g=null;for(b=md._;b;)if(d.y<b.y||d.y===b.y&&d.x<=b.x)if(b.L)b=b.L;else{g=b.P;break}else if(b.R)b=b.R;else{g=b;break}md.insert(g,d);g||(mf=d)}}}}function tc(g){var b=g.circle;b&&(b.P||(mf=b.N),md.remove(b),lf.push(b),ld(b),g.circle=null)}function de(g,b){var e=g.b;if(e)return!0;var a=g.a,e=b[0][0],c=b[1][0],d=b[0][1],m=b[1][1],
h=g.l,f=g.r,l=h.x,h=h.y,u=f.x,f=f.y,k=(l+u)/2,n;if(f===h){if(k<e||k>=c)return;if(l>u){if(!a)a={x:k,y:d};else if(a.y>=m)return;e={x:k,y:m}}else{if(!a)a={x:k,y:m};else if(a.y<d)return;e={x:k,y:d}}}else if(n=(l-u)/(f-h),k=(h+f)/2-n*k,-1>n||1<n)if(l>u){if(!a)a={x:(d-k)/n,y:d};else if(a.y>=m)return;e={x:(m-k)/n,y:m}}else{if(!a)a={x:(m-k)/n,y:m};else if(a.y<d)return;e={x:(d-k)/n,y:d}}else if(h<f){if(!a)a={x:e,y:n*e+k};else if(a.x>=c)return;e={x:c,y:n*c+k}}else{if(!a)a={x:c,y:n*c+k};else if(a.x<e)return;
e={x:e,y:n*e+k}}g.a=a;g.b=e;return!0}function nf(g,b){this.l=g;this.r=b;this.a=this.b=null}function Qc(g,b,e,a){var c=new nf(g,b);Rc.push(c);e&&Sc(c,g,b,e);a&&Sc(c,b,g,a);wc[g.i].edges.push(new ee(c,g,b));wc[b.i].edges.push(new ee(c,b,g));return c}function gg(g,b,e){g=new nf(g,null);g.a=b;g.b=e;Rc.push(g);return g}function Sc(g,b,e,a){g.a||g.b?g.l===e?g.b=a:g.a=a:(g.a=a,g.l=b,g.r=e)}function ee(g,b,e){var a=g.a,c=g.b;this.edge=g;this.site=b;this.angle=e?Math.atan2(e.y-b.y,e.x-b.x):g.l===b?Math.atan2(c.x-
a.x,a.y-c.y):Math.atan2(a.x-c.x,c.y-a.y)}function nd(){this._=null}function ld(g){g.U=g.C=g.L=g.R=g.P=g.N=null}function xc(g,b){var e=b.R,a=b.U;a?a.L===b?a.L=e:a.R=e:g._=e;e.U=a;b.U=e;b.R=e.L;b.R&&(b.R.U=b);e.L=b}function Vb(g,b){var e=b.L,a=b.U;a?a.L===b?a.L=e:a.R=e:g._=e;e.U=a;b.U=e;b.L=e.R;b.L&&(b.L.U=b);e.R=b}function Fb(g){for(;g.L;)g=g.L;return g}function of(g,b){var e=g.sort(fe).pop(),a,c,d;Rc=[];wc=Array(g.length);uc=new nd;for(md=new nd;;)if(d=mf,e&&(!d||e.y<d.y||e.y===d.y&&e.x<d.x)){if(e.x!==
a||e.y!==c){wc[e.i]=new jf(e);a=e;for(var m=a.x,h=a.y,f=d=c=void 0,l=void 0,u=uc._;u;)if(f=ce(u,h)-m,1E-6<f)u=u.L;else{var k=u,l=h,n=k.N;n?l=ce(n,l):(k=k.site,l=k.y===l?k.x:Infinity);l=m-l;if(1E-6<l){if(!u.R){c=u;break}u=u.R}else{-1E-6<f?(c=u.P,d=u):-1E-6<l?(c=u,d=u.N):c=d=u;break}}m=Pc(a);uc.insert(c,m);if(c||d)if(c===d)tc(c),d=Pc(c.site),uc.insert(m,d),m.edge=d.edge=Qc(c.site,m.site),vc(c),vc(d);else if(d){tc(c);tc(d);var h=c.site,u=h.x,l=h.y,k=a.x-u,n=a.y-l,f=d.site,t=f.x-u,q=f.y-l,z=2*(k*q-n*
t),p=k*k+n*n,r=t*t+q*q,u={x:(q*p-n*r)/z+u,y:(k*r-t*p)/z+l};Sc(d.edge,h,f,u);m.edge=Qc(h,a,null,u);d.edge=Qc(a,f,null,u);vc(c);vc(d)}else m.edge=Qc(c.site,m.site);a=e.x;c=e.y}e=g.pop()}else if(d){f=d.arc;d=f.circle;h=d.x;u=d.cy;d={x:h,y:u};k=f.P;l=f.N;m=[f];Eb(f);for(f=k;f.circle&&1E-6>O(h-f.circle.x)&&1E-6>O(u-f.circle.cy);)k=f.P,m.unshift(f),Eb(f),f=k;m.unshift(f);tc(f);for(k=l;k.circle&&1E-6>O(h-k.circle.x)&&1E-6>O(u-k.circle.cy);)l=k.N,m.push(k),Eb(k),k=l;m.push(k);tc(k);h=m.length;u=void 0;for(u=
1;u<h;++u)k=m[u],f=m[u-1],Sc(k.edge,f.site,k.site,d);f=m[0];k=m[h-1];k.edge=Qc(f.site,k.site,null,d);vc(f);vc(k)}else break;if(b){e=Rc;a=Nc(b[0][0],b[0][1],b[1][0],b[1][1]);for(c=e.length;c--;)if(d=e[c],!de(d,b)||!a(d)||1E-6>O(d.a.x-d.b.x)&&1E-6>O(d.a.y-d.b.y))d.a=d.b=null,e.splice(c,1);e=b[0][0];a=b[1][0];c=b[0][1];d=b[1][1];u=wc;for(l=u.length;l--;)if((k=u[l])&&k.prepare())for(t=k.edges,q=t.length,n=0;n<q;)if(z=t[n].end(),h=z.x,f=z.y,p=t[++n%q].start(),m=p.x,p=p.y,1E-6<O(h-m)||1E-6<O(f-p))t.splice(n,
0,new ee(gg(k.site,z,1E-6>O(h-e)&&1E-6<d-f?{x:e,y:1E-6>O(m-e)?p:d}:1E-6>O(f-d)&&1E-6<a-h?{x:1E-6>O(p-d)?m:a,y:d}:1E-6>O(h-a)&&1E-6<f-c?{x:a,y:1E-6>O(m-a)?p:c}:1E-6>O(f-c)&&1E-6<h-e?{x:1E-6>O(p-c)?m:e,y:c}:null),k.site,null)),++q}e={cells:wc,edges:Rc};uc=md=Rc=wc=null;return e}function fe(g,b){return b.y-g.y||b.x-g.x}function pf(g){return g.x}function hg(g){return g.y}function ec(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fc(g,b,e,a,c,d){if(!g(b,e,a,c,d)){var m=.5*(e+c),h=.5*(a+d);
b=b.nodes;b[0]&&fc(g,b[0],e,a,m,h);b[1]&&fc(g,b[1],m,a,c,h);b[2]&&fc(g,b[2],e,h,m,d);b[3]&&fc(g,b[3],m,h,c,d)}}function ge(g,b){g=v.rgb(g);b=v.rgb(b);var e=g.r,a=g.g,c=g.b,d=b.r-e,m=b.g-a,h=b.b-c;return function(g){return"#"+Kc(Math.round(e+d*g))+Kc(Math.round(a+m*g))+Kc(Math.round(c+h*g))}}function he(g,b){var e={},a={},c;for(c in g)c in b?e[c]=gc(g[c],b[c]):a[c]=g[c];for(c in b)c in g||(a[c]=b[c]);return function(g){for(c in e)a[c]=e[c](g);return a}}function Gb(g,b){b-=g=+g;return function(e){return g+
b*e}}function ig(g,b){var e,a,c=0,d=[],m=[],h,f;g+="";b+="";for(a=ie.lastIndex=0;e=ie.exec(b);++a)e.index&&d.push(b.substring(c,e.index)),m.push({i:d.length,x:e[0]}),d.push(null),c=ie.lastIndex;c<b.length&&d.push(b.substring(c));a=0;for(h=m.length;(e=ie.exec(g))&&a<h;++a)if(f=m[a],f.x==e[0]){if(f.i)if(null==d[f.i+1])for(d[f.i-1]+=f.x,d.splice(f.i,1),e=a+1;e<h;++e)m[e].i--;else for(d[f.i-1]+=f.x+d[f.i+1],d.splice(f.i,2),e=a+1;e<h;++e)m[e].i-=2;else if(null==d[f.i+1])d[f.i]=f.x;else for(d[f.i]=f.x+
d[f.i+1],d.splice(f.i+1,1),e=a+1;e<h;++e)m[e].i--;m.splice(a,1);h--;a--}else f.x=Gb(parseFloat(e[0]),parseFloat(f.x));for(;a<h;)f=m.pop(),null==d[f.i+1]?d[f.i]=f.x:(d[f.i]=f.x+d[f.i+1],d.splice(f.i+1,1)),h--;return 1===d.length?null==d[0]?(f=m[0].x,function(g){return f(g)+""}):function(){return b}:function(g){for(a=0;a<h;++a)d[(f=m[a]).i]=f.x(g);return d.join("")}}function gc(g,b){for(var e=v.interpolators.length,a;0<=--e&&!(a=v.interpolators[e](g,b)););return a}function od(g,b){var e=[],a=[],c=g.length,
d=b.length,m=Math.min(g.length,b.length),h;for(h=0;h<m;++h)e.push(gc(g[h],b[h]));for(;h<c;++h)a[h]=g[h];for(;h<d;++h)a[h]=b[h];return function(g){for(h=0;h<m;++h)a[h]=e[h](g);return a}}function jg(g){return function(b){return 0>=b?0:1<=b?1:g(b)}}function Ia(g){return function(b){return 1-g(1-b)}}function Tc(g){return function(b){return.5*(.5>b?g(2*b):2-g(2-2*b))}}function qf(g){return g*g}function kg(g){return g*g*g}function je(g){if(0>=g)return 0;if(1<=g)return 1;var b=g*g,e=b*g;return 4*(.5>g?e:
3*(g-b)+e-.75)}function Uc(g){return 1-Math.cos(g*wa)}function lg(g){return Math.pow(2,10*(g-1))}function mg(g){return 1-Math.sqrt(1-g*g)}function ai(g){return g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375}function rf(g,b){b-=g;return function(e){return Math.round(g+b*e)}}function yc(g){var b=[g.a,g.b],e=[g.c,g.d],a=Vc(b),c=b[0]*e[0]+b[1]*e[1],d=-c;e[0]+=d*b[0];e[1]+=d*b[1];d=Vc(e)||0;b[0]*e[1]<e[0]*b[1]&&(b[0]*=-1,
b[1]*=-1,a*=-1,c*=-1);this.rotate=(a?Math.atan2(b[1],b[0]):Math.atan2(-e[0],e[1]))*ba;this.translate=[g.e,g.f];this.scale=[a,d];this.skew=d?Math.atan2(c,d)*ba:0}function Vc(g){var b=Math.sqrt(g[0]*g[0]+g[1]*g[1]);b&&(g[0]/=b,g[1]/=b);return b}function ng(g,b){var e=[],a=[],c,d=v.transform(g),m=v.transform(b),h=d.translate,f=m.translate,l=d.rotate,u=m.rotate,k=d.skew,n=m.skew,d=d.scale,m=m.scale;h[0]!=f[0]||h[1]!=f[1]?(e.push("translate(",null,",",null,")"),a.push({i:1,x:Gb(h[0],f[0])},{i:3,x:Gb(h[1],
f[1])})):f[0]||f[1]?e.push("translate("+f+")"):e.push("");l!=u?(180<l-u?u+=360:180<u-l&&(l+=360),a.push({i:e.push(e.pop()+"rotate(",null,")")-2,x:Gb(l,u)})):u&&e.push(e.pop()+"rotate("+u+")");k!=n?a.push({i:e.push(e.pop()+"skewX(",null,")")-2,x:Gb(k,n)}):n&&e.push(e.pop()+"skewX("+n+")");d[0]!=m[0]||d[1]!=m[1]?(c=e.push(e.pop()+"scale(",null,",",null,")"),a.push({i:c-4,x:Gb(d[0],m[0])},{i:c-2,x:Gb(d[1],m[1])})):1==m[0]&&1==m[1]||e.push(e.pop()+"scale("+m+")");c=a.length;return function(g){for(var b=
-1,y;++b<c;)e[(y=a[b]).i]=y.x(g);return e.join("")}}function og(g,b){b=b-(g=+g)?1/(b-g):0;return function(e){return(e-g)*b}}function ke(g,b){b=b-(g=+g)?1/(b-g):0;return function(e){return Math.max(0,Math.min(1,(e-g)*b))}}function pg(g){var b=g.source;g=g.target;var e;var a=g;if(b===a)e=b;else{e=le(b);for(var a=le(a),c=e.pop(),d=a.pop(),m=null;c===d;)m=c,c=e.pop(),d=a.pop();e=m}for(a=[b];b!==e;)b=b.parent,a.push(b);for(b=a.length;g!==e;)a.splice(b,0,g),g=g.parent;return a}function le(g){for(var b=
[],e=g.parent;null!=e;)b.push(g),g=e,e=e.parent;b.push(g);return b}function me(g){g.fixed|=2}function Zg(g){g.fixed&=-7}function qg(g){g.fixed|=4;g.px=g.x;g.py=g.y}function rg(g){g.fixed&=-5}function ne(g,b,e){var a=0,c=0;g.charge=0;if(!g.leaf)for(var d=g.nodes,m=d.length,h=-1,f;++h<m;)f=d[h],null!=f&&(ne(f,b,e),g.charge+=f.charge,a+=f.charge*f.cx,c+=f.charge*f.cy);g.point&&(g.leaf||(g.point.x+=Math.random()-.5,g.point.y+=Math.random()-.5),b*=e[g.point.index],g.charge+=g.pointCharge=b,a+=b*g.point.x,
c+=b*g.point.y);g.cx=a/g.charge;g.cy=c/g.charge}function $a(g,b){v.rebind(g,b,"sort","children","value");g.nodes=g;g.links=V;return g}function sg(g){return g.children}function $g(g){return g.value}function oe(g,b){return b.value-g.value}function V(g){return v.merge(g.map(function(g){return(g.children||[]).map(function(b){return{source:g,target:b}})}))}function sf(g){return g.x}function pe(g){return g.y}function Wc(g,b,e){g.y0=b;g.y=e}function ab(g){return v.range(g.length)}function qe(g){var b=-1;
g=g[0].length;for(var e=[];++b<g;)e[b]=0;return e}function ah(g){for(var b=1,e=0,a=g[0][1],c,d=g.length;b<d;++b)(c=g[b][1])>a&&(e=b,a=c);return e}function bh(g){return g.reduce(ch,0)}function ch(g,b){return g+b[1]}function tg(g,b){return zb(g,Math.ceil(Math.log(b.length)/Math.LN2+1))}function zb(g,b){for(var e=-1,a=+g[0],c=(g[1]-a)/b,d=[];++e<=b;)d[e]=c*e+a;return d}function Wb(g){return[v.min(g),v.max(g)]}function zc(g,b){return g.parent==b.parent?1:2}function pd(g){var b=g.children;return b&&b.length?
b[0]:g._tree.thread}function Ac(g){var b=g.children,e;return b&&(e=b.length)?b[e-1]:g._tree.thread}function qd(g,b){var e=g.children;if(e&&(c=e.length))for(var a,c,d=-1;++d<c;)0<b(a=qd(e[d],b),g)&&(g=a);return g}function rd(g,b){return g.x-b.x}function ug(g,b){return b.x-g.x}function vg(g,b){return g.depth-b.depth}function Hb(g,b){function e(g,a){var c=g.children;if(c&&(f=c.length))for(var d,m=null,h=-1,f;++h<f;)d=c[h],e(d,m),m=d;b(g,a)}e(g,null)}function wg(g,b){return g.value-b.value}function re(g,
b){var e=g._pack_next;g._pack_next=b;b._pack_prev=g;b._pack_next=e;e._pack_prev=b}function Ja(g,b){g._pack_next=b;b._pack_prev=g}function tf(g,b){var e=b.x-g.x,a=b.y-g.y,c=g.r+b.r;return.999*c*c>e*e+a*a}function se(g){function b(g){a=Math.min(g.x-g.r,a);c=Math.max(g.x+g.r,c);d=Math.min(g.y-g.r,d);m=Math.max(g.y+g.r,m)}if((e=g.children)&&(t=e.length)){var e,a=Infinity,c=-Infinity,d=Infinity,m=-Infinity,h,f,l,u,k,n,t;e.forEach(uf);h=e[0];h.x=-h.r;h.y=0;b(h);if(1<t&&(f=e[1],f.x=f.r,f.y=0,b(f),2<t))for(l=
e[2],sd(h,f,l),b(l),re(h,l),h._pack_prev=l,re(l,f),f=h._pack_next,u=3;u<t;u++){sd(h,f,l=e[u]);var q=0,p=1,z=1;for(k=f._pack_next;k!==f;k=k._pack_next,p++)if(tf(k,l)){q=1;break}if(1==q)for(n=h._pack_prev;n!==k._pack_prev&&!tf(n,l);n=n._pack_prev,z++);q?(p<z||p==z&&f.r<h.r?Ja(h,f=k):Ja(h=n,f),u--):(re(h,l),f=l,b(l))}h=(a+c)/2;f=(d+m)/2;for(u=k=0;u<t;u++)l=e[u],l.x-=h,l.y-=f,k=Math.max(k,l.r+Math.sqrt(l.x*l.x+l.y*l.y));g.r=k;e.forEach(xg)}}function uf(g){g._pack_next=g._pack_prev=g}function xg(g){delete g._pack_next;
delete g._pack_prev}function vf(g,b,e,a){var c=g.children;g.x=b+=a*g.x;g.y=e+=a*g.y;g.r*=a;if(c){g=-1;for(var d=c.length;++g<d;)vf(c[g],b,e,a)}}function sd(g,b,e){var a=g.r+e.r,c=b.x-g.x,d=b.y-g.y;if(a&&(c||d)){var m=b.r+e.r,h=c*c+d*d,m=m*m,a=a*a;b=.5+(a-m)/(2*h);m=Math.sqrt(Math.max(0,2*m*(a+h)-(a-=h)*a-m*m))/(2*h);e.x=g.x+b*c+m*d;e.y=g.y+b*d-m*c}else e.x=g.x+a,e.y=g.y}function dh(g){return 1+v.max(g,function(g){return g.y})}function yg(g){return g.reduce(function(g,b){return g+b.x},0)/g.length}
function wf(g){var b=g.children;return b&&b.length?wf(b[0]):g}function xf(g){var b=g.children,e;return b&&(e=b.length)?xf(b[e-1]):g}function te(g){return{x:g.x,y:g.y,dx:g.dx,dy:g.dy}}function yf(g,b){var e=g.x+b[3],a=g.y+b[0],c=g.dx-b[1]-b[3],d=g.dy-b[0]-b[2];0>c&&(e+=c/2,c=0);0>d&&(a+=d/2,d=0);return{x:e,y:a,dx:c,dy:d}}function Bc(g){var b=g[0];g=g[g.length-1];return b<g?[b,g]:[g,b]}function td(g){return g.rangeExtent?g.rangeExtent():Bc(g.range())}function zg(g,b,e,a){var c=e(g[0],g[1]),d=a(b[0],
b[1]);return function(g){return d(c(g))}}function ud(g,b){var e=0,a=g.length-1,c=g[e],d=g[a],m;d<c&&(m=e,e=a,a=m,m=c,c=d,d=m);g[e]=b.floor(c);g[a]=b.ceil(d);return g}function ue(g){return g?{floor:function(b){return Math.floor(b/g)*g},ceil:function(b){return Math.ceil(b/g)*g}}:eh}function S(g,b,e,a){var c=[],d=[],m=0,h=Math.min(g.length,b.length)-1;g[h]<g[0]&&(g=g.slice().reverse(),b=b.slice().reverse());for(;++m<=h;)c.push(e(g[m-1],g[m])),d.push(a(b[m-1],b[m]));return function(b){var e=v.bisect(g,
b,1,h)-1;return d[e](c[e](b))}}function Ib(g,b,e,a){function c(){var f=2<Math.min(g.length,b.length)?S:zg,H=a?ke:og;m=f(g,b,H,e);h=f(b,g,H,gc);return d}function d(g){return m(g)}var m,h;d.invert=function(g){return h(g)};d.domain=function(b){if(!arguments.length)return g;g=b.map(Number);return c()};d.range=function(g){if(!arguments.length)return b;b=g;return c()};d.rangeRound=function(g){return d.range(g).interpolate(rf)};d.clamp=function(g){if(!arguments.length)return a;a=g;return c()};d.interpolate=
function(g){if(!arguments.length)return e;e=g;return c()};d.ticks=function(b){return v.range.apply(v,Ta(g,b))};d.tickFormat=function(b,e){return Ka(g,b,e)};d.nice=function(b){ud(g,ue(Ta(g,b)[2]));return c()};d.copy=function(){return Ib(g,b,e,a)};return c()}function vd(g,b){return v.rebind(g,b,"range","rangeRound","interpolate","clamp")}function Ta(g,b){null==b&&(b=10);var e=Bc(g),a=e[1]-e[0],c=Math.pow(10,Math.floor(Math.log(a/b)/Math.LN10)),a=b/a*c;.15>=a?c*=10:.35>=a?c*=5:.75>=a&&(c*=2);e[0]=Math.ceil(e[0]/
c)*c;e[1]=Math.floor(e[1]/c)*c+.5*c;e[2]=c;return e}function Ka(g,b,e){var a=Ta(g,b);return v.format(e?e.replace(Ag,function(g,b,e,c,y,d,w,m,h,f){return[b,e,c,y,d,w,m,h||"."+zf(f,a),f].join("")}):",."+oa(a[2])+"f")}function oa(g){return-Math.floor(Math.log(g)/Math.LN10+.01)}function zf(g,b){var e=oa(b[2]);return g in fh?Math.abs(e-oa(Math.max(Math.abs(b[0]),Math.abs(b[1]))))+ +("e"!==g):e-2*("%"===g)}function Ab(g,a,c,d){function m(g){return(c?Math.log(0>g?0:g):-Math.log(0<g?0:-g))/Math.log(a)}function h(g){return c?
Math.pow(a,g):-Math.pow(a,-g)}function f(b){return g(m(b))}f.invert=function(b){return h(g.invert(b))};f.domain=function(b){if(!arguments.length)return d;c=0<=b[0];g.domain((d=b.map(Number)).map(m));return f};f.base=function(b){if(!arguments.length)return a;a=+b;g.domain(d.map(m));return f};f.nice=function(){var b=ud(d.map(m),c?Math:e);g.domain(b);d=b.map(h);return f};f.ticks=function(){var g=Bc(d),b=[],e=g[0],g=g[1],f=Math.floor(m(e)),l=Math.ceil(m(g)),u=a%1?2:a;if(isFinite(l-f)){if(c){for(;f<l;f++)for(var k=
1;k<u;k++)b.push(h(f)*k);b.push(h(f))}else for(b.push(h(f));f++<l;)for(k=u-1;0<k;k--)b.push(h(f)*k);for(f=0;b[f]<e;f++);for(l=b.length;b[l-1]>g;l--);b=b.slice(f,l)}return b};f.tickFormat=function(g,e){if(!arguments.length)return b;2>arguments.length?e=b:"function"!==typeof e&&(e=v.format(e));var a=Math.max(.1,g/f.ticks().length),y=c?(d=1E-12,Math.ceil):(d=-1E-12,Math.floor),d;return function(g){return g/h(y(m(g)+d))<=a?e(g):""}};f.copy=function(){return Ab(g.copy(),a,c,d)};return vd(f,g)}function Af(g,
b,e){function a(b){return g(c(b))}var c=hc(b),d=hc(1/b);a.invert=function(b){return d(g.invert(b))};a.domain=function(b){if(!arguments.length)return e;g.domain((e=b.map(Number)).map(c));return a};a.ticks=function(g){return v.range.apply(v,Ta(e,g))};a.tickFormat=function(g,b){return Ka(e,g,b)};a.nice=function(g){return a.domain(ud(e,ue(Ta(e,g)[2])))};a.exponent=function(m){if(!arguments.length)return b;c=hc(b=m);d=hc(1/b);g.domain(e.map(c));return a};a.copy=function(){return Af(g.copy(),b,e)};return vd(a,
g)}function hc(g){return function(b){return 0>b?-Math.pow(-b,g):Math.pow(b,g)}}function ka(g,b){function e(a){return m[((d.get(a)||"range"===b.t&&d.set(a,g.push(a)))-1)%m.length]}function c(b,e){return v.range(g.length).map(function(g){return b+e*g})}var d,m,h;e.domain=function(c){if(!arguments.length)return g;g=[];d=new a;for(var m=-1,h=c.length,f;++m<h;)d.has(f=c[m])||d.set(f,g.push(f));return e[b.t].apply(e,b.a)};e.range=function(g){if(!arguments.length)return m;m=g;h=0;b={t:"range",a:arguments};
return e};e.rangePoints=function(a,d){2>arguments.length&&(d=0);var f=a[0],l=a[1],H=(l-f)/(Math.max(1,g.length-1)+d);m=c(2>g.length?(f+l)/2:f+H*d/2,H);h=0;b={t:"rangePoints",a:arguments};return e};e.rangeBands=function(a,d,f){2>arguments.length&&(d=0);3>arguments.length&&(f=d);var l=a[1]<a[0],H=a[l-0],u=(a[1-l]-H)/(g.length-d+2*f);m=c(H+u*f,u);l&&m.reverse();h=u*(1-d);b={t:"rangeBands",a:arguments};return e};e.rangeRoundBands=function(a,d,f){2>arguments.length&&(d=0);3>arguments.length&&(f=d);var l=
a[1]<a[0],H=a[l-0],u=a[1-l],k=Math.floor((u-H)/(g.length-d+2*f));m=c(H+Math.round((u-H-(g.length-d)*k)/2),k);l&&m.reverse();h=Math.round(k*(1-d));b={t:"rangeRoundBands",a:arguments};return e};e.rangeBand=function(){return h};e.rangeExtent=function(){return Bc(b.a[0])};e.copy=function(){return ka(g,b)};return e.domain(g)}function ra(g,b){function e(){var d=0,w=b.length;for(c=[];++d<w;)c[d-1]=v.quantile(g,d/w);return a}function a(g){if(!isNaN(g=+g))return b[v.bisect(c,g)]}var c;a.domain=function(b){if(!arguments.length)return g;
g=b.filter(function(g){return!isNaN(g)}).sort(v.ascending);return e()};a.range=function(g){if(!arguments.length)return b;b=g;return e()};a.quantiles=function(){return c};a.invertExtent=function(e){e=b.indexOf(e);return 0>e?[NaN,NaN]:[0<e?c[e-1]:g[0],e<c.length?c[e]:g[g.length-1]]};a.copy=function(){return ra(g,b)};return e()}function Bf(g,b,e){function a(b){return e[Math.max(0,Math.min(m,Math.floor(d*(b-g))))]}function c(){d=e.length/(b-g);m=e.length-1;return a}var d,m;a.domain=function(e){if(!arguments.length)return[g,
b];g=+e[0];b=+e[e.length-1];return c()};a.range=function(g){if(!arguments.length)return e;e=g;return c()};a.invertExtent=function(b){b=e.indexOf(b);b=0>b?NaN:b/d+g;return[b,b+1/d]};a.copy=function(){return Bf(g,b,e)};return c()}function Cf(g,b){function e(a){if(a<=a)return b[v.bisect(g,a)]}e.domain=function(b){if(!arguments.length)return g;g=b;return e};e.range=function(g){if(!arguments.length)return b;b=g;return e};e.invertExtent=function(e){e=b.indexOf(e);return[g[e-1],g[e]]};e.copy=function(){return Cf(g,
b)};return e}function ve(g){function b(g){return+g}b.invert=b;b.domain=b.range=function(e){if(!arguments.length)return g;g=e.map(b);return b};b.ticks=function(b){return v.range.apply(v,Ta(g,b))};b.tickFormat=function(b,e){return Ka(g,b,e)};b.copy=function(){return ve(g)};return b}function Bg(g){return g.innerRadius}function Cc(g){return g.outerRadius}function Df(g){return g.startAngle}function Xc(g){return g.endAngle}function we(g){function b(y){function m(){f.push("M",d(g(l),h))}for(var f=[],l=[],
u=-1,k=y.length,n,t=fa(e),q=fa(a);++u<k;)c.call(this,n=y[u],u)?l.push([+t.call(this,n,u),+q.call(this,n,u)]):l.length&&(m(),l=[]);l.length&&m();return f.length?f.join(""):null}var e=Tb,a=Ub,c=Db,d=Na,m=d.key,h=.7;b.x=function(g){if(!arguments.length)return e;e=g;return b};b.y=function(g){if(!arguments.length)return a;a=g;return b};b.defined=function(g){if(!arguments.length)return c;c=g;return b};b.interpolate=function(g){if(!arguments.length)return m;m="function"===typeof g?d=g:(d=gh.get(g)||Na).key;
return b};b.tension=function(g){if(!arguments.length)return h;h=g;return b};return b}function Na(g){return g.join("L")}function Z(g){for(var b=0,e=g.length,a=g[0],c=[a[0],",",a[1]];++b<e;)c.push("V",(a=g[b])[1],"H",a[0]);return c.join("")}function xe(g){for(var b=0,e=g.length,a=g[0],c=[a[0],",",a[1]];++b<e;)c.push("H",(a=g[b])[0],"V",a[1]);return c.join("")}function sa(g,b){if(1>b.length||g.length!=b.length&&g.length!=b.length+2)return Na(g);var e=g.length!=b.length,a="",c=g[0],d=g[1],m=b[0],h=m,
f=1;e&&(a+="Q"+(d[0]-2*m[0]/3)+","+(d[1]-2*m[1]/3)+","+d[0]+","+d[1],c=g[1],f=2);if(1<b.length)for(h=b[1],d=g[f],f++,a+="C"+(c[0]+m[0])+","+(c[1]+m[1])+","+(d[0]-h[0])+","+(d[1]-h[1])+","+d[0]+","+d[1],c=2;c<b.length;c++,f++)d=g[f],h=b[c],a+="S"+(d[0]-h[0])+","+(d[1]-h[1])+","+d[0]+","+d[1];e&&(e=g[f],a+="Q"+(d[0]+2*h[0]/3)+","+(d[1]+2*h[1]/3)+","+e[0]+","+e[1]);return a}function ye(g,b){for(var e=[],a=(1-b)/2,c,d=g[0],m=g[1],h=1,f=g.length;++h<f;)c=d,d=m,m=g[h],e.push([a*(m[0]-c[0]),a*(m[1]-c[1])]);
return e}function ea(g){if(3>g.length)return Na(g);var b=1,e=g.length,a=g[0],c=a[0],d=a[1],m=[c,c,c,(a=g[1])[0]],h=[d,d,d,a[1]],c=[c,",",d,"L",La(Yc,m),",",La(Yc,h)];for(g.push(g[e-1]);++b<=e;)a=g[b],m.shift(),m.push(a[0]),h.shift(),h.push(a[1]),ze(c,m,h);g.pop();c.push("L",a);return c.join("")}function La(g,b){return g[0]*b[0]+g[1]*b[1]+g[2]*b[2]+g[3]*b[3]}function ze(g,b,e){g.push("C",La(Jh,b),",",La(Jh,e),",",La(Kh,b),",",La(Kh,e),",",La(Yc,b),",",La(Yc,e))}function Ae(g,b){return(b[1]-g[1])/(b[0]-
g[0])}function Ea(g){for(var b,e=-1,a=g.length,c,d;++e<a;)b=g[e],c=b[0],d=b[1]+Oa,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return g}function bb(g){function b(y){function f(){n.push("M",h(g(q),k),u,l(g(t.reverse()),k),"Z")}for(var n=[],t=[],q=[],aa=-1,p=y.length,z,r=fa(e),F=fa(c),E=e===a?function(){return v}:fa(a),L=c===d?function(){return C}:fa(d),v,C;++aa<p;)m.call(this,z=y[aa],aa)?(t.push([v=+r.call(this,z,aa),C=+F.call(this,z,aa)]),q.push([+E.call(this,z,aa),+L.call(this,z,aa)])):t.length&&(f(),t=
[],q=[]);t.length&&f();return n.length?n.join(""):null}var e=Tb,a=Tb,c=0,d=Ub,m=Db,h=Na,f=h.key,l=h,u="L",k=.7;b.x=function(g){if(!arguments.length)return a;e=a=g;return b};b.x0=function(g){if(!arguments.length)return e;e=g;return b};b.x1=function(g){if(!arguments.length)return a;a=g;return b};b.y=function(g){if(!arguments.length)return d;c=d=g;return b};b.y0=function(g){if(!arguments.length)return c;c=g;return b};b.y1=function(g){if(!arguments.length)return d;d=g;return b};b.defined=function(g){if(!arguments.length)return m;
m=g;return b};b.interpolate=function(g){if(!arguments.length)return f;f="function"===typeof g?h=g:(h=gh.get(g)||Na).key;l=h.reverse||h;u=h.closed?"M":"L";return b};b.tension=function(g){if(!arguments.length)return k;k=g;return b};return b}function Cg(g){return g.radius}function wd(g){return[g.x,g.y]}function Ef(g){return function(){var b=g.apply(this,arguments),e=b[0],b=b[1]+Oa;return[e*Math.cos(b),e*Math.sin(b)]}}function Dg(){return 64}function Eg(){return"circle"}function Ff(g){g=Math.sqrt(g/P);
return"M0,"+g+"A"+g+","+g+" 0 1,1 0,"+-g+"A"+g+","+g+" 0 1,1 0,"+g+"Z"}function Dc(g,b){Ha(g,ya);g.id=b;return g}function cb(g,b,e,a){var c=g.id;return na(g,"function"===typeof e?function(g,d,m){g.__transition__[c].tween.set(b,a(e.call(g,g.__data__,d,m)))}:(e=a(e),function(g){g.__transition__[c].tween.set(b,e)}))}function Gf(g){null==g&&(g="");return function(){this.textContent=g}}function Zc(g,b,e,c){var d=g.__transition__||(g.__transition__={active:0,count:0}),m=d[e];if(!m){var h=c.time,m=d[e]=
{tween:new a,time:h,ease:c.ease,delay:c.delay,duration:c.duration};++d.count;v.timer(function(a){function c(a){if(d.active>e)return l();d.active=e;m.event&&m.event.start.call(g,u,b);m.tween.forEach(function(e,a){(a=a.call(g,u,b))&&q.push(a)});v.timer(function(){t.c=f(a||1)?Db:f;return 1},0,h)}function f(a){if(d.active!==e)return l();a/=n;for(var c=k(a),h=q.length;0<h;)q[--h].call(g,c);if(1<=a)return m.event&&m.event.end.call(g,u,b),l()}function l(){--d.count?delete d[e]:delete g.__transition__;return 1}
var u=g.__data__,k=m.ease,ca=m.delay,n=m.duration,t=Pb,q=[];t.t=ca+h;if(ca<=a)return c(a-ca);t.c=c},0,h)}}function Be(g,b){g.attr("transform",function(g){return"translate("+b(g)+",0)"})}function Hf(g,b){g.attr("transform",function(g){return"translate(0,"+b(g)+")"})}function Jb(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ec(g,b,e){function a(b){var e=g(b),c=d(e,1);return b-e<c-b?e:c}function c(e){b(e=g(new Pa(e-1)),1);return e}function d(g,e){b(g=new Pa(+g),
e);return g}function m(g,a,d){g=c(g);var h=[];if(1<d)for(;g<a;)e(g)%d||h.push(new Date(+g)),b(g,1);else for(;g<a;)h.push(new Date(+g)),b(g,1);return h}g.floor=g;g.round=a;g.ceil=c;g.offset=d;g.range=m;var h=g.utc=Ce(g);h.floor=h;h.round=Ce(a);h.ceil=Ce(c);h.offset=Ce(d);h.range=function(g,b,e){try{Pa=Jb;var a=new Jb;a._=g;return m(a,b,e)}finally{Pa=Date}};return g}function Ce(g){return function(b,e){try{Pa=Jb;var a=new Jb;a._=b;return g(a,e)._}finally{Pa=Date}}}function ta(g){function b(a){for(var c=
[],d=-1,m=0,y,h;++d<e;)if(37===g.charCodeAt(d)){c.push(g.substring(m,d));null!=(y=Lh[m=g.charAt(++d)])&&(m=g.charAt(++d));if(h=Fg[m])m=h(a,null==y?"e"===m?" ":"0":y);c.push(m);m=d+1}c.push(g.substring(m,d));return c.join("")}var e=g.length;b.parse=function(b){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if($c(e,g,b,0)!=b.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);b=null!=e.Z&&Pa!==Jb;var a=new (b?Jb:Pa);"j"in e?a.setFullYear(e.y,0,e.j):"w"in e&&("W"in e||"U"in e)?(a.setFullYear(e.y,0,1),a.setFullYear(e.y,
0,"W"in e?(e.w+6)%7+7*e.W-(a.getDay()+5)%7:e.w+7*e.U-(a.getDay()+6)%7)):a.setFullYear(e.y,e.m,e.d);a.setHours(e.H+Math.floor(e.Z/100),e.M+e.Z%100,e.S,e.L);return b?a._:a};b.toString=function(){return g};return b}function $c(g,b,e,a){for(var c,d=0,m=b.length,h=e.length;d<m;){if(a>=h)return-1;c=b.charCodeAt(d++);if(37===c){if(c=b.charAt(d++),c=bi[c in Lh?b.charAt(d++):c],!c||0>(a=c(g,e,a)))return-1}else if(c!=e.charCodeAt(a++))return-1}return a}function Qa(g){return new RegExp("^(?:"+g.map(v.requote).join("|")+
")","i")}function Fc(g){for(var b=new a,e=-1,c=g.length;++e<c;)b.set(g[e].toLowerCase(),e);return b}function ua(g,b,e){var a=0>g?"-":"";g=(a?-g:g)+"";var c=g.length;return a+(c<e?Array(e-c+1).join(b)+g:g)}function Xb(g,b,e){la.lastIndex=0;return(b=la.exec(b.substring(e,e+2)))?(g.d=+b[0],e+b[0].length):-1}function ma(g,b,e){la.lastIndex=0;return(b=la.exec(b.substring(e,e+2)))?(g.H=+b[0],e+b[0].length):-1}function Kb(g){function b(g){try{Pa=Jb;var a=new Pa;a._=g;return e(a)}finally{Pa=Date}}var e=ta(g);
b.parse=function(g){try{Pa=Jb;var b=e.parse(g);return b&&b._}finally{Pa=Date}};b.toString=e.toString;return b}function If(g){return g.toISOString()}function Fa(g,b,e){function a(b){return g(b)}function c(g,e){var a=(g[1]-g[0])/e,d=v.bisect(Gg,a);return d==Gg.length?[b.year,Ta(g.map(function(g){return g/31536E6}),e)[2]]:d?b[a/Gg[d-1]<Gg[d]/a?d-1:d]:[ci,Ta(g,e)[2]]}a.invert=function(b){return Gc(g.invert(b))};a.domain=function(b){if(!arguments.length)return g.domain().map(Gc);g.domain(b);return a};
a.nice=function(g,b){function e(a){return!isNaN(a)&&!g.range(a,Gc(+a+1),b).length}var d=a.domain(),m=Bc(d);if(m=null==g?c(m,10):"number"===typeof g&&c(m,g))g=m[0],b=m[1];return a.domain(ud(d,1<b?{floor:function(b){for(;e(b=g.floor(b));)b=Gc(b-1);return b},ceil:function(b){for(;e(b=g.ceil(b));)b=Gc(+b+1);return b}}:g))};a.ticks=function(g,b){var e=Bc(a.domain()),d=null==g?c(e,10):"number"===typeof g?c(e,g):!g.range&&[{range:g},b];d&&(g=d[0],b=d[1]);return g.range(e[0],Gc(+e[1]+1),1>b?1:b)};a.tickFormat=
function(){return e};a.copy=function(){return Fa(g.copy(),b,e)};return vd(a,g)}function Gc(g){return new Date(g)}function Jf(g){return function(b){for(var e=g.length-1,a=g[e];!a[1](b);)a=g[--e];return a[0](b)}}function Hg(g){return JSON.parse(g.responseText)}function Ig(g){var b=lb.createRange();b.selectNode(lb.body);return b.createContextualFragment(g.responseText)}var v={version:"3.3.13"};Date.now||(Date.now=function(){return+new Date});var xd=[].slice,eb=function(g){return xd.call(g)},lb=document,
pb=lb.documentElement,Ba=window;try{eb(pb.childNodes)[0].nodeType}catch(g){eb=function(g){for(var b=g.length,e=Array(b);b--;)e[b]=g[b];return e}}try{lb.createElement("div").style.setProperty("opacity",0,"")}catch(g){var Lb=Ba.Element.prototype,hh=Lb.setAttribute,Kf=Lb.setAttributeNS,yd=Ba.CSSStyleDeclaration.prototype,De=yd.setProperty;Lb.setAttribute=function(g,b){hh.call(this,g,b+"")};Lb.setAttributeNS=function(g,b,e){Kf.call(this,g,b,e+"")};yd.setProperty=function(g,b,e){De.call(this,g,b+"",e)}}v.ascending=
function(g,b){return g<b?-1:g>b?1:g>=b?0:NaN};v.descending=function(g,b){return b<g?-1:b>g?1:b>=g?0:NaN};v.min=function(g,b){var e=-1,a=g.length,c,d;if(1===arguments.length){for(;++e<a&&!(null!=(c=g[e])&&c<=c);)c=void 0;for(;++e<a;)null!=(d=g[e])&&c>d&&(c=d)}else{for(;++e<a&&!(null!=(c=b.call(g,g[e],e))&&c<=c);)c=void 0;for(;++e<a;)null!=(d=b.call(g,g[e],e))&&c>d&&(c=d)}return c};v.max=function(g,b){var e=-1,a=g.length,c,d;if(1===arguments.length){for(;++e<a&&!(null!=(c=g[e])&&c<=c);)c=void 0;for(;++e<
a;)null!=(d=g[e])&&d>c&&(c=d)}else{for(;++e<a&&!(null!=(c=b.call(g,g[e],e))&&c<=c);)c=void 0;for(;++e<a;)null!=(d=b.call(g,g[e],e))&&d>c&&(c=d)}return c};v.extent=function(g,b){var e=-1,a=g.length,c,d,m;if(1===arguments.length){for(;++e<a&&!(null!=(c=m=g[e])&&c<=c);)c=m=void 0;for(;++e<a;)null!=(d=g[e])&&(c>d&&(c=d),m<d&&(m=d))}else{for(;++e<a&&!(null!=(c=m=b.call(g,g[e],e))&&c<=c);)c=void 0;for(;++e<a;)null!=(d=b.call(g,g[e],e))&&(c>d&&(c=d),m<d&&(m=d))}return[c,m]};v.sum=function(g,b){var e=0,a=
g.length,c,d=-1;if(1===arguments.length)for(;++d<a;)isNaN(c=+g[d])||(e+=c);else for(;++d<a;)isNaN(c=+b.call(g,g[d],d))||(e+=c);return e};v.mean=function(g,b){var e=g.length,a,c=0,d=-1,m=0;if(1===arguments.length)for(;++d<e;)k(a=g[d])&&(c+=(a-c)/++m);else for(;++d<e;)k(a=b.call(g,g[d],d))&&(c+=(a-c)/++m);return m?c:void 0};v.quantile=function(g,b){var e=(g.length-1)*b+1,a=Math.floor(e),c=+g[a-1];return(e-=a)?c+e*(g[a]-c):c};v.median=function(g,b){1<arguments.length&&(g=g.map(b));g=g.filter(k);return g.length?
v.quantile(g.sort(v.ascending),.5):void 0};v.bisector=function(g){return{left:function(b,e,a,c){3>arguments.length&&(a=0);4>arguments.length&&(c=b.length);for(;a<c;){var d=a+c>>>1;g.call(b,b[d],d)<e?a=d+1:c=d}return a},right:function(b,e,a,c){3>arguments.length&&(a=0);4>arguments.length&&(c=b.length);for(;a<c;){var d=a+c>>>1;e<g.call(b,b[d],d)?c=d:a=d+1}return a}}};var zd=v.bisector(function(g){return g});v.bisectLeft=zd.left;v.bisect=v.bisectRight=zd.right;v.shuffle=function(g){for(var b=g.length,
e,a;b;)a=Math.random()*b--|0,e=g[b],g[b]=g[a],g[a]=e;return g};v.permute=function(g,b){for(var e=b.length,a=Array(e);e--;)a[e]=g[b[e]];return a};v.pairs=function(g){for(var b=0,e=g.length-1,a=g[0],c=Array(0>e?0:e);b<e;)c[b]=[a,a=g[++b]];return c};v.zip=function(){if(!(c=arguments.length))return[];for(var g=-1,b=v.min(arguments,f),e=Array(b);++g<b;)for(var a=-1,c,d=e[g]=Array(c);++a<c;)d[a]=arguments[a][g];return e};v.transpose=function(g){return v.zip.apply(v,g)};v.keys=function(g){var b=[],e;for(e in g)b.push(e);
return b};v.values=function(g){var b=[],e;for(e in g)b.push(g[e]);return b};v.entries=function(g){var b=[],e;for(e in g)b.push({key:e,value:g[e]});return b};v.merge=function(g){var b=g.length,e;e=-1;for(var a=0,c,d;++e<b;)a+=g[e].length;for(c=Array(a);0<=--b;)for(d=g[b],e=d.length;0<=--e;)c[--a]=d[e];return c};var O=Math.abs;v.range=function(g,b,e){3>arguments.length&&(e=1,2>arguments.length&&(b=g,g=0));if(Infinity===(b-g)/e)throw Error("infinite range");var a=[],c;c=O(e);for(var d=1;c*d%1;)d*=10;
c=d;var d=-1,m;g*=c;b*=c;e*=c;if(0>e)for(;(m=g+e*++d)>b;)a.push(m/c);else for(;(m=g+e*++d)<b;)a.push(m/c);return a};v.map=function(g){var b=new a;if(g instanceof a)g.forEach(function(g,e){b.set(g,e)});else for(var e in g)b.set(e,g[e]);return b};c(a,{has:function(g){return ic+g in this},get:function(g){return this[ic+g]},set:function(g,b){return this[ic+g]=b},remove:function(g){g=ic+g;return g in this&&delete this[g]},keys:function(){var g=[];this.forEach(function(b){g.push(b)});return g},values:function(){var g=
[];this.forEach(function(b,e){g.push(e)});return g},entries:function(){var g=[];this.forEach(function(b,e){g.push({key:b,value:e})});return g},forEach:function(g){for(var b in this)b.charCodeAt(0)===Jg&&g.call(this,b.substring(1),this[b])}});var ic="\x00",Jg=ic.charCodeAt(0);v.nest=function(){function g(b,d,y){if(y>=c.length)return h?h.call(e,d):m?d.sort(m):d;for(var f=-1,l=d.length,u=c[y++],k,n,H=new a,t;++f<l;)(t=H.get(k=u(n=d[f])))?t.push(n):H.set(k,[n]);b?(n=b(),d=function(e,a){n.set(e,g(b,a,
y))}):(n={},d=function(e,a){n[e]=g(b,a,y)});H.forEach(d);return n}function b(g,e){if(e>=c.length)return g;var a=[],m=d[e++];g.forEach(function(g,c){a.push({key:g,values:b(c,e)})});return m?a.sort(function(g,b){return m(g.key,b.key)}):a}var e={},c=[],d=[],m,h;e.map=function(b,e){return g(e,b,0)};e.entries=function(e){return b(g(v.map,e,0),0)};e.key=function(g){c.push(g);return e};e.sortKeys=function(g){d[c.length-1]=g;return e};e.sortValues=function(g){m=g;return e};e.rollup=function(g){h=g;return e};
return e};v.set=function(g){var b=new d;if(g)for(var e=0,a=g.length;e<a;++e)b.add(g[e]);return b};c(d,{has:function(g){return ic+g in this},add:function(g){this[ic+g]=!0;return g},remove:function(g){g=ic+g;return g in this&&delete this[g]},values:function(){var g=[];this.forEach(function(b){g.push(b)});return g},forEach:function(g){for(var b in this)b.charCodeAt(0)===Jg&&g.call(this,b.substring(1))}});v.behavior={};v.rebind=function(g,b){for(var e=1,a=arguments.length,c;++e<a;)g[c=arguments[e]]=h(g,
b,b[c]);return g};var Pf="webkit ms moz Moz o O".split(" ");v.dispatch=function(){for(var g=new C,b=-1,e=arguments.length;++b<e;)g[arguments[b]]=r(g);return g};C.prototype.on=function(g,b){var e=g.indexOf("."),a="";0<=e&&(a=g.substring(e+1),g=g.substring(0,e));if(g)return 2>arguments.length?this[g].on(a):this[g].on(a,b);if(2===arguments.length){if(null==b)for(g in this)if(this.hasOwnProperty(g))this[g].on(a,null);return this}};v.event=null;v.requote=function(g){return g.replace(Ga,"\\$&")};var Ga=
/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ha={}.__proto__?function(g,b){g.__proto__=b}:function(g,b){for(var e in b)g[e]=b[e]},Pe=function(g,b){return b.querySelector(g)},Fd=function(g,b){return b.querySelectorAll(g)},ih=pb[n(pb,"matchesSelector")],mb=function(g,b){return ih.call(g,b)};"function"===typeof Sizzle&&(Pe=function(g,b){return Sizzle(g,b)[0]||null},Fd=function(g,b){return Sizzle.uniqueSort(Sizzle(g,b))},mb=Sizzle.matchesSelector);v.selection=function(){return Ad};var W=v.selection.prototype=[];
W.select=function(g){var b=[],e,a,c,d;g=A(g);for(var m=-1,h=this.length;++m<h;){b.push(e=[]);e.parentNode=(c=this[m]).parentNode;for(var f=-1,l=c.length;++f<l;)(d=c[f])?(e.push(a=g.call(d,d.__data__,f,m)),a&&"__data__"in d&&(a.__data__=d.__data__)):e.push(null)}return x(b)};W.selectAll=function(g){var b=[],e,a;g=D(g);for(var c=-1,d=this.length;++c<d;)for(var m=this[c],h=-1,f=m.length;++h<f;)if(a=m[h])b.push(e=eb(g.call(a,a.__data__,h,c))),e.parentNode=a;return x(b)};var jc={svg:"http://www.w3.org/2000/svg",
xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};v.ns={prefix:jc,qualify:function(g){var b=g.indexOf(":"),e=g;0<=b&&(e=g.substring(0,b),g=g.substring(b+1));return jc.hasOwnProperty(e)?{space:jc[e],local:g}:g}};W.attr=function(g,b){if(2>arguments.length){if("string"===typeof g){var e=this.node();g=v.ns.qualify(g);return g.local?e.getAttributeNS(g.space,g.local):e.getAttribute(g)}for(b in g)this.each(R(b,
g[b]));return this}return this.each(R(g,b))};W.classed=function(g,b){if(2>arguments.length){if("string"===typeof g){var e=this.node(),a=(g=g.trim().split(/^|\s+/)).length,c=-1;if(b=e.classList)for(;++c<a;){if(!b.contains(g[c]))return!1}else for(b=e.getAttribute("class");++c<a;)if(!E(g[c]).test(b))return!1;return!0}for(b in g)this.each(J(b,g[b]));return this}return this.each(J(g,b))};W.style=function(g,b,e){var a=arguments.length;if(3>a){if("string"!==typeof g){2>a&&(b="");for(e in g)this.each(qa(e,
g[e],b));return this}if(2>a)return Ba.getComputedStyle(this.node(),null).getPropertyValue(g);e=""}return this.each(qa(g,b,e))};W.property=function(g,b){if(2>arguments.length){if("string"===typeof g)return this.node()[g];for(b in g)this.each(U(b,g[b]));return this}return this.each(U(g,b))};W.text=function(g){return arguments.length?this.each("function"===typeof g?function(){var b=g.apply(this,arguments);this.textContent=null==b?"":b}:null==g?function(){this.textContent=""}:function(){this.textContent=
g}):this.node().textContent};W.html=function(b){return arguments.length?this.each("function"===typeof b?function(){var e=b.apply(this,arguments);this.innerHTML=null==e?"":e}:null==b?function(){this.innerHTML=""}:function(){this.innerHTML=b}):this.node().innerHTML};W.append=function(b){b=F(b);return this.select(function(){return this.appendChild(b.apply(this,arguments))})};W.insert=function(b,e){b=F(b);e=A(e);return this.select(function(){return this.insertBefore(b.apply(this,arguments),e.apply(this,
arguments)||null)})};W.remove=function(){return this.each(function(){var b=this.parentNode;b&&b.removeChild(this)})};W.data=function(b,e){function c(b,g){var d,m=b.length,h=g.length,f=Math.min(m,h),w=Array(h),G=Array(h),n=Array(m),t,H;if(e){var f=new a,q=new a,ca=[],p;for(d=-1;++d<m;)p=e.call(t=b[d],t.__data__,d),f.has(p)?n[d]=t:f.set(p,t),ca.push(p);for(d=-1;++d<h;)p=e.call(g,H=g[d],d),(t=f.get(p))?(w[d]=t,t.__data__=H):q.has(p)||(G[d]={__data__:H}),q.set(p,H),f.remove(p);for(d=-1;++d<m;)f.has(ca[d])&&
(n[d]=b[d])}else{for(d=-1;++d<f;)t=b[d],H=g[d],t?(t.__data__=H,w[d]=t):G[d]={__data__:H};for(;d<h;++d)G[d]={__data__:g[d]};for(;d<m;++d)n[d]=b[d]}G.update=w;G.parentNode=w.parentNode=n.parentNode=b.parentNode;l.push(G);u.push(w);k.push(n)}var d=-1,m=this.length,h,f;if(!arguments.length){for(b=Array(m=(h=this[0]).length);++d<m;)if(f=h[d])b[d]=f.__data__;return b}var l=Mb([]),u=x([]),k=x([]);if("function"===typeof b)for(;++d<m;)c(h=this[d],b.call(h,h.parentNode.__data__,d));else for(;++d<m;)c(h=this[d],
b);u.enter=function(){return l};u.exit=function(){return k};return u};W.datum=function(b){return arguments.length?this.property("__data__",b):this.property("__data__")};W.filter=function(b){var e=[],a,c,d;"function"!==typeof b&&(b=Ua(b));for(var m=0,h=this.length;m<h;m++){e.push(a=[]);a.parentNode=(c=this[m]).parentNode;for(var f=0,l=c.length;f<l;f++)(d=c[f])&&b.call(d,d.__data__,f,m)&&a.push(d)}return x(e)};W.order=function(){for(var b=-1,e=this.length;++b<e;)for(var a=this[b],c=a.length-1,d=a[c],
m;0<=--c;)if(m=a[c])d&&d!==m.nextSibling&&d.parentNode.insertBefore(m,d),d=m;return this};W.sort=function(b){b=Qe.apply(this,arguments);for(var e=-1,a=this.length;++e<a;)this[e].sort(b);return this.order()};W.each=function(b){return na(this,function(e,a,c){b.call(e,e.__data__,a,c)})};W.call=function(b){var e=eb(arguments);b.apply(e[0]=this,e);return this};W.empty=function(){return!this.node()};W.node=function(){for(var b=0,e=this.length;b<e;b++)for(var a=this[b],c=0,d=a.length;c<d;c++){var m=a[c];
if(m)return m}return null};W.size=function(){var b=0;this.each(function(){++b});return b};var Ra=[];v.selection.enter=Mb;v.selection.enter.prototype=Ra;Ra.append=W.append;Ra.empty=W.empty;Ra.node=W.node;Ra.call=W.call;Ra.size=W.size;Ra.select=function(b){for(var e=[],a,c,d,m,h,f=-1,l=this.length;++f<l;){d=(m=this[f]).update;e.push(a=[]);a.parentNode=m.parentNode;for(var u=-1,k=m.length;++u<k;)(h=m[u])?(a.push(d[u]=c=b.call(m.parentNode,h.__data__,u,f)),c.__data__=h.__data__):a.push(null)}return x(e)};
Ra.insert=function(b,e){2>arguments.length&&(e=db(this));return W.insert.call(this,b,e)};W.transition=function(){for(var b=Bd||++Mh,e=[],a,c,d=Kg||{time:Date.now(),ease:je,delay:0,duration:250},m=-1,h=this.length;++m<h;){e.push(a=[]);for(var f=this[m],l=-1,u=f.length;++l<u;)(c=f[l])&&Zc(c,l,b,d),a.push(c)}return Dc(e,b)};W.interrupt=function(){return this.each(T)};v.select=function(b){b=["string"===typeof b?Pe(b,lb):b];b.parentNode=pb;return x([b])};v.selectAll=function(b){b=eb("string"===typeof b?
Fd(b,lb):b);b.parentNode=pb;return x([b])};var Ad=v.select(pb);W.on=function(b,e,a){var c=arguments.length;if(3>c){if("string"!==typeof b){2>c&&(e=!1);for(a in b)this.each(nb(a,b[a],e));return this}if(2>c)return(c=this.node()["__on"+b])&&c._;a=!1}return this.each(nb(b,e,a))};var Hd=v.map({mouseenter:"mouseover",mouseleave:"mouseout"});Hd.forEach(function(b){"on"+b in lb&&Hd.remove(b)});var Nb="onselectstart"in lb?null:n(pb.style,"userSelect"),Ug=0;v.mouse=function(b){return mc(b,z())};var Se=/WebKit/.test(Ba.navigator.userAgent)?
-1:0;v.touches=function(b,e){2>arguments.length&&(e=z().touches);return e?eb(e).map(function(e){var a=mc(b,e);a.identifier=e.identifier;return a}):[]};v.behavior.drag=function(){function b(){this.on("mousedown.drag",d).on("touchstart.drag",m)}function e(b,g,d,m){return function(){var e=this.parentNode,h=a.of(this,arguments),f=v.event.target,y=b(),l=null==y?"drag":"drag-"+y,u=g(e,y),k=0,n,G=v.select(Ba).on(d+"."+l,function(){var b=g(e,y),a=b[0]-u[0],c=b[1]-u[1];k=k|a|c;u=b;h({type:"drag",x:b[0]+n[0],
y:b[1]+n[1],dx:a,dy:c})}).on(m+"."+l,function(){G.on(d+"."+l,null).on(m+"."+l,null);t(k&&v.event.target===f);h({type:"dragend"})}),t=lc();c?(n=c.apply(this,arguments),n=[n.x-u[0],n.y-u[1]]):n=[0,0];h({type:"dragstart"})}}var a=I(b,"drag","dragstart","dragend"),c=null,d=e(p,v.mouse,"mousemove","mouseup"),m=e(function(){return v.event.changedTouches[0].identifier},function(b,g){return v.touches(b).filter(function(b){return b.identifier===g})[0]},"touchmove","touchend");b.origin=function(e){if(!arguments.length)return c;
c=e;return b};return v.rebind(b,a,"on")};var P=Math.PI,Da=2*P,wa=P/2,N=P/180,ba=180/P,ad=Math.SQRT2;v.interpolateZoom=function(b,e){function a(b){var g=b*p;if(q){b=M(t);var e,h=ad*g+t;e=((h=Math.exp(2*h))-1)/(h+1);var y=t,h=((y=Math.exp(y))-1/y)/2;e=m/(2*k)*(b*e-h);return[c+e*f,d+e*l,m*b/M(ad*g+t)]}return[c+b*f,d+b*l,m*Math.exp(ad*g)]}var c=b[0],d=b[1],m=b[2],h=e[2],f=e[0]-c,l=e[1]-d,u=f*f+l*l,k=Math.sqrt(u),n=(h*h-m*m+4*u)/(4*m*k),u=(h*h-m*m-4*u)/(4*h*k),t=Math.log(Math.sqrt(n*n+1)-n),q=Math.log(Math.sqrt(u*
u+1)-u)-t,p=(q||Math.log(h/m))/ad;a.duration=1E3*p;return a};v.behavior.zoom=function(){function b(g){g.on("mousedown.zoom",u).on(Lg+".zoom",n).on("mousemove.zoom",t).on("dblclick.zoom",q).on("touchstart.zoom",k)}function e(b){return[(b[0]-p.x)/p.k,(b[1]-p.y)/p.k]}function a(b){p.k=Math.max(E[0],Math.min(E[1],b))}function c(b,g){g=[g[0]*p.k+p.x,g[1]*p.k+p.y];p.x+=b[0]-g[0];p.y+=b[1]-g[1]}function d(){J&&J.domain(pa.range().map(function(b){return(b-p.x)/p.k}).map(pa.invert));Q&&Q.domain(U.range().map(function(b){return(b-
p.y)/p.k}).map(U.invert))}function m(b){b({type:"zoomstart"})}function h(b){d();b({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function f(b){b({type:"zoomend"})}function u(){var b=this,g=B.of(b,arguments),a=v.event.target,d=0,w=v.select(Ba).on("mousemove.zoom",function(){d=1;c(v.mouse(b),l);h(g)}).on("mouseup.zoom",function(){w.on("mousemove.zoom",Ba===b?t:null).on("mouseup.zoom",null);k(d&&v.event.target===a);f(g)}),l=e(v.mouse(b)),k=lc();T.call(b);m(g)}function k(){function b(){var g=v.touches(d);
z=p.k;g.forEach(function(b){b.identifier in t&&(t[b.identifier]=e(b))});return g}function g(){for(var e=v.event.changedTouches,d=0,m=e.length;d<m;++d)t[e[d].identifier]=null;m=b();d=Date.now();1===m.length?(500>d-C&&(e=m[0],m=t[e.identifier],a(2*p.k),c(e,m),l(),h(n)),C=d):1<m.length&&(e=m[0],m=m[1],d=e[0]-m[0],e=e[1]-m[1],q=d*d+e*e)}var d=this,n=B.of(d,arguments),t={},q=0,z,H=v.event.changedTouches[0].identifier,r="touchmove.zoom-"+H,F="touchend.zoom-"+H,E=v.select(Ba).on(r,function(){for(var b=v.touches(d),
g,e,m,f,y=0,l=b.length;y<l;++y,f=null)if(m=b[y],f=t[m.identifier]){if(e)break;g=m;e=f}if(f){var u=(u=m[0]-g[0])*u+(u=m[1]-g[1])*u,b=q&&Math.sqrt(u/q);g=[(g[0]+m[0])/2,(g[1]+m[1])/2];e=[(e[0]+f[0])/2,(e[1]+f[1])/2];a(b*z)}C=null;c(g,e);h(n)}).on(F,function(){if(v.event.touches.length){for(var g=v.event.changedTouches,e=0,a=g.length;e<a;++e)delete t[g[e].identifier];for(var c in t)return void b()}E.on(r,null).on(F,null);L.on("mousedown.zoom",u).on("touchstart.zoom",k);pa();f(n)}),L=v.select(d).on("mousedown.zoom",
null).on("touchstart.zoom",g),pa=lc();T.call(d);g();m(n)}function n(){var b=B.of(this,arguments);L?clearTimeout(L):(T.call(this),m(b));L=setTimeout(function(){L=null;f(b)},50);l();var g=r||v.mouse(this);z||(z=e(g));a(Math.pow(2,.002*Cd())*p.k);c(g,z);h(b)}function t(){z=null}function q(){var b=B.of(this,arguments),g=v.mouse(this),d=e(g),l=Math.log(p.k)/Math.LN2;m(b);a(Math.pow(2,v.event.shiftKey?Math.ceil(l)-1:Math.floor(l)+1));c(g,d);h(b);f(b)}var p={x:0,y:0,k:1},z,r,F=[960,500],E=Ee,L,C,B=I(b,"zoomstart",
"zoom","zoomend"),pa,J,U,Q;b.event=function(b){b.each(function(){var b=B.of(this,arguments),g=p;Bd?v.select(this).transition().each("start.zoom",function(){p=this.__chart__||{x:0,y:0,k:1};m(b)}).tween("zoom:zoom",function(){var e=F[0],a=e/2,c=F[1]/2,d=v.interpolateZoom([(a-p.x)/p.k,(c-p.y)/p.k,e/p.k],[(a-g.x)/g.k,(c-g.y)/g.k,e/g.k]);return function(g){g=d(g);var m=e/g[2];this.__chart__=p={x:a-g[0]*m,y:c-g[1]*m,k:m};h(b)}}).each("end.zoom",function(){f(b)}):(this.__chart__=p,m(b),h(b),f(b))})};b.translate=
function(e){if(!arguments.length)return[p.x,p.y];p={x:+e[0],y:+e[1],k:p.k};d();return b};b.scale=function(e){if(!arguments.length)return p.k;p={x:p.x,y:p.y,k:+e};d();return b};b.scaleExtent=function(e){if(!arguments.length)return E;E=null==e?Ee:[+e[0],+e[1]];return b};b.center=function(e){if(!arguments.length)return r;r=e&&[+e[0],+e[1]];return b};b.size=function(e){if(!arguments.length)return F;F=e&&[+e[0],+e[1]];return b};b.x=function(e){if(!arguments.length)return J;J=e;pa=e.copy();p={x:0,y:0,k:1};
return b};b.y=function(e){if(!arguments.length)return Q;Q=e;U=e.copy();p={x:0,y:0,k:1};return b};return v.rebind(b,B,"on")};var Ee=[0,Infinity],Cd,Lg="onwheel"in lb?(Cd=function(){return-v.event.deltaY*(v.event.deltaMode?120:1)},"wheel"):"onmousewheel"in lb?(Cd=function(){return v.event.wheelDelta},"mousewheel"):(Cd=function(){return-v.event.detail},"MozMousePixelScroll");da.prototype.toString=function(){return this.rgb()+""};v.hsl=function(b,e,a){return 1===arguments.length?b instanceof qb?za(b.h,
b.s,b.l):Uf(""+b,Ye,za):za(+b,+e,+a)};var Lf=qb.prototype=new da;Lf.brighter=function(b){b=Math.pow(.7,arguments.length?b:1);return za(this.h,this.s,this.l/b)};Lf.darker=function(b){b=Math.pow(.7,arguments.length?b:1);return za(this.h,this.s,b*this.l)};Lf.rgb=function(){return Jc(this.h,this.s,this.l)};v.hcl=function(b,e,a){return 1===arguments.length?b instanceof Va?new Va(b.h,b.c,b.l):b instanceof fb?Tf(b.l,b.a,b.b):Tf((b=Vf((b=v.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new Va(+b,+e,+a)};var Dd=Va.prototype=
new da;Dd.brighter=function(b){return new Va(this.h,this.c,Math.min(100,this.l+Fe*(arguments.length?b:1)))};Dd.darker=function(b){return new Va(this.h,this.c,Math.max(0,this.l-Fe*(arguments.length?b:1)))};Dd.rgb=function(){return B(this.h,this.c,this.l).rgb()};v.lab=function(b,e,a){return 1===arguments.length?b instanceof fb?new fb(b.l,b.a,b.b):b instanceof Va?B(b.l,b.c,b.h):Vf((b=v.rgb(b)).r,b.g,b.b):new fb(+b,+e,+a)};var Fe=18,Rf=.95047,Ue=1,Sf=1.08883,Mf=fb.prototype=new da;Mf.brighter=function(b){return new fb(Math.min(100,
this.l+Fe*(arguments.length?b:1)),this.a,this.b)};Mf.darker=function(b){return new fb(Math.max(0,this.l-Fe*(arguments.length?b:1)),this.a,this.b)};Mf.rgb=function(){return Qf(this.l,this.a,this.b)};v.rgb=function(b,e,a){return 1===arguments.length?b instanceof We?Bb(b.r,b.g,b.b):Uf(""+b,Bb,Jc):Bb(~~b,~~e,~~a)};var Ge=We.prototype=new da;Ge.brighter=function(b){b=Math.pow(.7,arguments.length?b:1);var e=this.r,a=this.g,c=this.b;if(!e&&!a&&!c)return Bb(30,30,30);e&&30>e&&(e=30);a&&30>a&&(a=30);c&&30>
c&&(c=30);return Bb(Math.min(255,~~(e/b)),Math.min(255,~~(a/b)),Math.min(255,~~(c/b)))};Ge.darker=function(b){b=Math.pow(.7,arguments.length?b:1);return Bb(~~(b*this.r),~~(b*this.g),~~(b*this.b))};Ge.hsl=function(){return Ye(this.r,this.g,this.b)};Ge.toString=function(){return"#"+Kc(this.r)+Kc(this.g)+Kc(this.b)};var Jd=v.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,
brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,
darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,
lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,
mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,
red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Jd.forEach(function(b,e){Jd.set(b,
Bb(e>>16,e>>8&255,e&255))});v.functor=fa;v.xhr=ed(xa);v.dsv=function(b,e){function a(b,g,d){3>arguments.length&&(d=g,g=null);var h=Kd(b,e,null==g?c:m(g),d);h.row=function(b){return arguments.length?h.response(null==(g=b)?c:m(b)):g};return h}function c(b){return a.parse(b.responseText)}function m(b){return function(g){return a.parse(g.responseText,b)}}function h(e){return e.map(f).join(b)}function f(b){return l.test(b)?'"'+b.replace(/\"/g,'""')+'"':b}var l=new RegExp('["'+b+"\n]"),u=b.charCodeAt(0);
a.parse=function(b,g){var e;return a.parseRows(b,function(b,a){if(e)return e(b,a-1);var c=new Function("d","return {"+b.map(function(b,g){return JSON.stringify(b)+": d["+g+"]"}).join(",")+"}");e=g?function(b,e){return g(c(b),e)}:c})};a.parseRows=function(b,g){function e(){if(h>=m)return c;if(w)return w=!1,a;var g=h;if(34===b.charCodeAt(g)){for(var d=g;d++<m;)if(34===b.charCodeAt(d)){if(34!==b.charCodeAt(d+1))break;++d}h=d+2;var f=b.charCodeAt(d+1);13===f?(w=!0,10===b.charCodeAt(d+2)&&++h):10===f&&
(w=!0);return b.substring(g+1,d).replace(/""/g,'"')}for(;h<m;){f=b.charCodeAt(h++);d=1;if(10===f)w=!0;else if(13===f)w=!0,10===b.charCodeAt(h)&&(++h,++d);else if(f!==u)continue;return b.substring(g,h-d)}return b.substring(g)}for(var a={},c={},d=[],m=b.length,h=0,f=0,y,w;(y=e())!==c;){for(var l=[];y!==a&&y!==c;)l.push(y),y=e();g&&!(l=g(l,f++))||d.push(l)}return d};a.format=function(e){if(Array.isArray(e[0]))return a.formatRows(e);var c=new d,m=[];e.forEach(function(b){for(var g in b)c.has(g)||m.push(c.add(g))});
return[m.map(f).join(b)].concat(e.map(function(e){return m.map(function(b){return f(e[b])}).join(b)})).join("\n")};a.formatRows=function(b){return b.map(h).join("\n")};return a};v.csv=v.dsv(",","text/csv");v.tsv=v.dsv("\t","text/tab-separated-values");var Nd,Od,Md,Ld,Pb,Xf=Ba[n(Ba,"requestAnimationFrame")]||function(b){setTimeout(b,17)};v.timer=function(b,e,a){var c=arguments.length;2>c&&(e=0);3>c&&(a=Date.now());c={c:b,t:a+e,f:!1,n:null};Od?Od.n=c:Nd=c;Od=c;Md||(Ld=clearTimeout(Ld),Md=1,Xf($e))};
v.timer.flush=function(){Wf();af()};var He=[3,3],jh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(b,e){var a=Math.pow(10,3*O(8-e));return{scale:8<e?function(b){return b/a}:function(b){return b*a},symbol:b}});v.formatPrefix=function(b,e){var a=0;b&&(0>b&&(b*=-1),e&&(b=v.round(b,bf(b,e))),a=1+Math.floor(1E-12+Math.log(b)/Math.LN10),a=Math.max(-24,Math.min(24,3*Math.floor((0>=a?a+1:a-1)/3))));return jh[8+a/3]};v.round=function(b,e){return e?Math.round(b*(e=Math.pow(10,e)))/e:Math.round(b)};
v.format=function(b){b=Ag.exec(b);var e=b[1]||" ",a=b[2]||">",c=b[3]||"",d=b[4]||"",m=b[5],h=+b[6],f=b[7],l=b[8],u=b[9],k=1,n="",t=!1;l&&(l=+l.substring(1));if(m||"0"===e&&"="===a)m=e="0",a="=",f&&(h-=Math.floor((h-1)/4));switch(u){case "n":f=!0;u="g";break;case "%":k=100;n="%";u="f";break;case "p":k=100;n="%";u="r";break;case "b":case "o":case "x":case "X":"#"===d&&(d="0"+u.toLowerCase());case "c":case "d":t=!0;l=0;break;case "s":k=-1,u="r"}"#"===d?d="":"$"===d&&(d="$");"r"!=u||l||(u="g");if(null!=
l)if("g"==u)l=Math.max(1,Math.min(21,l));else if("e"==u||"f"==u)l=Math.max(0,Math.min(20,l));var u=kh.get(u)||Wg,p=m&&f;return function(b){if(t&&b%1)return"";var g=0>b||0===b&&0>1/b?(b=-b,"-"):c;if(0>k){var q=v.formatPrefix(b,l);b=q.scale(b);n=q.symbol}else b*=k;b=u(b,l);var z=b.lastIndexOf("."),q=0>z?b:b.substring(0,z);b=0>z?"":"."+b.substring(z+1);!m&&f&&(q=Nf(q));var z=d.length+q.length+b.length+(p?0:g.length),r=z<h?Array(z=h-z+1).join(e):"";p&&(q=Nf(r+q));g+=d;b=q+b;return("<"===a?g+b+r:">"===
a?r+g+b:"^"===a?r.substring(0,z>>=1)+g+b+r.substring(z):g+(p?b:r+b))+n}};var Ag=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,kh=v.map({b:function(b){return b.toString(2)},c:function(b){return String.fromCharCode(b)},o:function(b){return b.toString(8)},x:function(b){return b.toString(16)},X:function(b){return b.toString(16).toUpperCase()},g:function(b,e){return b.toPrecision(e)},e:function(b,e){return b.toExponential(e)},f:function(b,e){return b.toFixed(e)},r:function(b,
e){return(b=v.round(b,bf(b,e))).toFixed(Math.max(0,Math.min(20,bf(b*(1+1E-15),e))))}}),Nf=xa;if(He)var lh=He.length,Nf=function(b){for(var e=b.length,a=[],c=0,d=He[0];0<e&&0<d;)a.push(b.substring(e-=d,e+d)),d=He[c=(c+1)%lh];return a.reverse().join(",")};v.geo={};cf.prototype={s:0,t:0,add:function(b){Yf(b,this.t,Ie);Yf(Ie.s,this.s,this);this.s?this.t+=Ie.t:this.s=Ie.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ie=new cf;v.geo.stream=function(b,e){if(b&&Mg.hasOwnProperty(b.type))Mg[b.type](b,
e);else Pd(b,e)};var Mg={Feature:function(b,e){Pd(b.geometry,e)},FeatureCollection:function(b,e){for(var a=b.features,c=-1,d=a.length;++c<d;)Pd(a[c].geometry,e)}},Zf={Sphere:function(b,e){e.sphere()},Point:function(b,e){b=b.coordinates;e.point(b[0],b[1],b[2])},MultiPoint:function(b,e){for(var a=b.coordinates,c=-1,d=a.length;++c<d;)b=a[c],e.point(b[0],b[1],b[2])},LineString:function(b,e){fd(b.coordinates,e,0)},MultiLineString:function(b,e){for(var a=b.coordinates,c=-1,d=a.length;++c<d;)fd(a[c],e,0)},
Polygon:function(b,e){$f(b.coordinates,e)},MultiPolygon:function(b,e){for(var a=b.coordinates,c=-1,d=a.length;++c<d;)$f(a[c],e)},GeometryCollection:function(b,e){for(var a=b.geometries,c=-1,d=a.length;++c<d;)Pd(a[c],e)}};v.geo.area=function(b){bd=0;v.geo.stream(b,Wa);return bd};var bd,nc=new cf,Wa={sphere:function(){bd+=4*P},point:p,lineStart:p,lineEnd:p,polygonStart:function(){nc.reset();Wa.lineStart=Qd},polygonEnd:function(){var b=2*nc;bd+=0>b?4*P+b:b;Wa.lineStart=Wa.lineEnd=Wa.point=p}};v.geo.bounds=
function(){function b(g,e){L.push(C=[k=g,t=g]);e<n&&(n=e);e>p&&(p=e)}function e(a,c){var d=oc([a*N,c*N]);if(F){var m=Ca(F,d),m=Ca([m[1],-m[0],0],m);Td(m);var m=Ud(m),h=a-q,l=0<h?1:-1,w=m[0]*ba*l,h=180<O(h);h^(l*q<w&&w<l*a)?(m=m[1]*ba,m>p&&(p=m)):(w=(w+360)%360-180,h^(l*q<w&&w<l*a))?(m=-m[1]*ba,m<n&&(n=m)):(c<n&&(n=c),c>p&&(p=c));h?a<q?f(k,a)>f(k,t)&&(t=a):f(a,t)>f(k,t)&&(k=a):t>=k?(a<k&&(k=a),a>t&&(t=a)):a>q?f(k,a)>f(k,t)&&(t=a):f(a,t)>f(k,t)&&(k=a)}else b(a,c);F=d;q=a}function a(){B.point=e}function c(){C[0]=
k;C[1]=t;B.point=b;F=null}function d(b,g){if(F){var a=b-q;E+=180<O(a)?a+(0<a?360:-360):a}else z=b,r=g;Wa.point(b,g);e(b,g)}function m(){Wa.lineStart()}function h(){d(z,r);Wa.lineEnd();1E-6<O(E)&&(k=-(t=180));C[0]=k;C[1]=t;F=null}function f(b,g){return 0>(g-=b)?g+360:g}function l(b,g){return b[0]-g[0]}function u(b,g){return g[0]<=g[1]?g[0]<=b&&b<=g[1]:b<g[0]||g[1]<b}var k,n,t,p,q,z,r,F,E,L,C,B={point:b,lineStart:a,lineEnd:c,polygonStart:function(){B.point=d;B.lineStart=m;B.lineEnd=h;E=0;Wa.polygonStart()},
polygonEnd:function(){Wa.polygonEnd();B.point=b;B.lineStart=a;B.lineEnd=c;0>nc?(k=-(t=180),n=-(p=90)):1E-6<E?p=90:-1E-6>E&&(n=-90);C[0]=k;C[1]=t}};return function(b){p=t=-(k=n=Infinity);L=[];v.geo.stream(b,B);if(b=L.length){L.sort(l);for(var g=1,e=L[0],a,c=[e];g<b;++g)a=L[g],u(a[0],e)||u(a[1],e)?(f(e[0],a[1])>f(e[0],e[1])&&(e[1]=a[1]),f(a[0],e[1])>f(e[0],e[1])&&(e[0]=a[0])):c.push(e=a);var d=-Infinity,m;b=c.length-1;g=0;for(e=c[b];g<=b;e=a,++g)a=c[g],(m=f(e[1],a[0]))>d&&(d=m,k=a[0],t=e[1])}L=C=null;
return Infinity===k||Infinity===n?[[NaN,NaN],[NaN,NaN]]:[[k,n],[t,p]]}}();v.geo.centroid=function(b){gd=Mc=Qb=Xa=gb=Ya=hb=Sa=$b=Cb=sb=0;v.geo.stream(b,rb);b=$b;var e=Cb,a=sb,c=b*b+e*e+a*a;return 1E-12>c&&(b=Ya,e=hb,a=Sa,1E-6>Mc&&(b=Qb,e=Xa,a=gb),c=b*b+e*e+a*a,1E-12>c)?[NaN,NaN]:[Math.atan2(e,b)*ba,Ma(a/Math.sqrt(c))*ba]};var gd,Mc,Qb,Xa,gb,Ya,hb,Sa,$b,Cb,sb,rb={sphere:p,point:df,lineStart:ia,lineEnd:hd,polygonStart:function(){rb.lineStart=ef},polygonEnd:function(){rb.lineStart=ia}},Y=ag(Db,function(b){var e=
NaN,a=NaN,c=NaN,d;return{lineStart:function(){b.lineStart();d=1},point:function(m,h){var f=0<m?P:-P,l=O(m-e);if(1E-6>O(l-P))b.point(e,a=0<(a+h)/2?wa:-wa),b.point(c,a),b.lineEnd(),b.lineStart(),b.point(f,a),b.point(m,a),d=0;else if(c!==f&&l>=P){1E-6>O(e-c)&&(e-=1E-6*c);1E-6>O(m-f)&&(m-=1E-6*f);var l=e,u=a,k=m,n,t,p=Math.sin(l-k);a=1E-6<O(p)?Math.atan((Math.sin(u)*(t=Math.cos(h))*Math.sin(k)-Math.sin(h)*(n=Math.cos(u))*Math.sin(l))/(n*t*p)):(u+h)/2;b.point(c,a);b.lineEnd();b.lineStart();b.point(f,a);
d=0}b.point(e=m,a=h);c=f},lineEnd:function(){b.lineEnd();e=a=NaN},clean:function(){return 2-d}}},function(b,e,a,c){null==b?(a*=wa,c.point(-P,a),c.point(0,a),c.point(P,a),c.point(P,0),c.point(P,-a),c.point(0,-a),c.point(-P,-a),c.point(-P,0),c.point(-P,a)):1E-6<O(b[0]-e[0])?(b=b[0]<e[0]?P:-P,a=a*b/2,c.point(-b,a),c.point(0,a),c.point(b,a)):c.point(e[0],e[1])},[-P,-P/2]);v.geo.clipExtent=function(){var b,e,a,c,d,m,h={stream:function(b){d&&(d.valid=!1);d=m(b);d.valid=!0;return d},extent:function(f){if(!arguments.length)return[[b,
e],[a,c]];m=pc(b=+f[0][0],e=+f[0][1],a=+f[1][0],c=+f[1][1]);d&&(d.valid=!1,d=null);return h}};return h.extent([[0,0],[960,500]])};(v.geo.conicEqualArea=function(){return ib(Rb)}).raw=Rb;v.geo.albers=function(){return v.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};v.geo.albersUsa=function(){function b(g){var e=g[0];g=g[1];d=null;(h(e,g),d)||(f(e,g),d)||l(e,g);return d}var e=v.geo.albers(),a=v.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,
65]),c=v.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d,m={point:function(b,g){d=[b,g]}},h,f,l;b.invert=function(b){var g=e.scale(),d=e.translate(),m=(b[0]-d[0])/g,g=(b[1]-d[1])/g;return(.12<=g&&.234>g&&-.425<=m&&-.214>m?a:.166<=g&&.234>g&&-.214<=m&&-.115>m?c:e).invert(b)};b.stream=function(b){var g=e.stream(b),d=a.stream(b),m=c.stream(b);return{point:function(b,e){g.point(b,e);d.point(b,e);m.point(b,e)},sphere:function(){g.sphere();d.sphere();m.sphere()},lineStart:function(){g.lineStart();
d.lineStart();m.lineStart()},lineEnd:function(){g.lineEnd();d.lineEnd();m.lineEnd()},polygonStart:function(){g.polygonStart();d.polygonStart();m.polygonStart()},polygonEnd:function(){g.polygonEnd();d.polygonEnd();m.polygonEnd()}}};b.precision=function(d){if(!arguments.length)return e.precision();e.precision(d);a.precision(d);c.precision(d);return b};b.scale=function(d){if(!arguments.length)return e.scale();e.scale(d);a.scale(.35*d);c.scale(d);return b.translate(e.translate())};b.translate=function(d){if(!arguments.length)return e.translate();
var u=e.scale(),k=+d[0],n=+d[1];h=e.translate(d).clipExtent([[k-.455*u,n-.238*u],[k+.455*u,n+.238*u]]).stream(m).point;f=a.translate([k-.307*u,n+.201*u]).clipExtent([[k-.425*u+1E-6,n+.12*u+1E-6],[k-.214*u-1E-6,n+.234*u-1E-6]]).stream(m).point;l=c.translate([k-.205*u,n+.212*u]).clipExtent([[k-.214*u+1E-6,n+.166*u+1E-6],[k-.115*u-1E-6,n+.234*u-1E-6]]).stream(m).point;return b};return b.scale(1070)};var Ed,Yd,Sb={point:p,lineStart:p,lineEnd:p,polygonStart:function(){Yd=0;Sb.lineStart=Xh},polygonEnd:function(){Sb.lineStart=
Sb.lineEnd=Sb.point=p;Ed+=O(Yd/2)}},kc,Je,Ke,Le,mh={point:function(b,e){b<kc&&(kc=b);b>Ke&&(Ke=b);e<Je&&(Je=e);e>Le&&(Le=e)},lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p},wb={point:id,lineStart:Ch,lineEnd:Dh,polygonStart:function(){wb.lineStart=bc},polygonEnd:function(){wb.point=id;wb.lineStart=Ch;wb.lineEnd=Dh}};v.geo.path=function(){function b(g){g&&("function"===typeof a&&h.pointRadius(+a.apply(this,arguments)),f&&f.valid||(f=m(h)),v.geo.stream(g,f));return h.result()}function e(){f=null;
return b}var a=4.5,c,d,m,h,f;b.area=function(b){Ed=0;v.geo.stream(b,m(Sb));return Ed};b.centroid=function(b){Qb=Xa=gb=Ya=hb=Sa=$b=Cb=sb=0;v.geo.stream(b,m(wb));return sb?[$b/sb,Cb/sb]:Sa?[Ya/Sa,hb/Sa]:gb?[Qb/gb,Xa/gb]:[NaN,NaN]};b.bounds=function(b){Ke=Le=-(kc=Je=Infinity);v.geo.stream(b,m(mh));return[[kc,Je],[Ke,Le]]};b.projection=function(b){if(!arguments.length)return c;m=(c=b)?b.stream||xb(b):xa;return e()};b.context=function(b){if(!arguments.length)return d;h=null==(d=b)?new q:new Yh(b);"function"!==
typeof a&&h.pointRadius(a);return e()};b.pointRadius=function(e){if(!arguments.length)return a;a="function"===typeof e?e:(h.pointRadius(+e),+e);return b};return b.projection(v.geo.albersUsa()).context(null)};v.geo.transform=function(b){return{stream:function(e){e=new Gh(e);for(var a in b)e[a]=b[a];return e}}};Gh.prototype={point:function(b,e){this.stream.point(b,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},
polygonEnd:function(){this.stream.polygonEnd()}};v.geo.projection=jb;v.geo.projectionMutator=Xg;(v.geo.equirectangular=function(){return jb(Oc)}).raw=Oc.invert=Oc;v.geo.rotation=function(b){function e(a){a=b(a[0]*N,a[1]*N);return a[0]*=ba,a[1]*=ba,a}b=Yg(b[0]%360*N,b[1]*N,2<b.length?b[2]*N:0);e.invert=function(e){e=b.invert(e[0]*N,e[1]*N);return e[0]*=ba,e[1]*=ba,e};return e};rc.invert=Oc;v.geo.circle=function(){function b(){var g="function"===typeof e?e.apply(this,arguments):e,a=Yg(-g[0]*N,-g[1]*
N,0).invert,c=[];d(null,null,1,{point:function(b,g){c.push(b=a(b,g));b[0]*=ba;b[1]*=ba}});return{type:"Polygon",coordinates:[c]}}var e=[0,0],a,c=6,d;b.origin=function(a){if(!arguments.length)return e;e=a;return b};b.angle=function(e){if(!arguments.length)return a;d=vb((a=+e)*N,c*N);return b};b.precision=function(e){if(!arguments.length)return c;d=vb(a*N,(c=+e)*N);return b};return b.angle(90)};v.geo.distance=function(b,e){var a=(e[0]-b[0])*N,c=b[1]*N,d=e[1]*N,m=Math.cos(a),h=Math.sin(c),c=Math.cos(c),
f=Math.sin(d),d=Math.cos(d),l;return Math.atan2(Math.sqrt((l=d*Math.sin(a))*l+(l=c*f-h*d*m)*l),h*f+c*d*m)};v.geo.graticule=function(){function b(){return{type:"MultiLineString",coordinates:e()}}function e(){return v.range(Math.ceil(m/t)*t,d,t).map(r).concat(v.range(Math.ceil(u/p)*p,l,p).map(F)).concat(v.range(Math.ceil(c/k)*k,a,k).filter(function(b){return 1E-6<O(b%t)}).map(q)).concat(v.range(Math.ceil(f/n)*n,h,n).filter(function(b){return 1E-6<O(b%p)}).map(z))}var a,c,d,m,h,f,l,u,k=10,n=k,t=90,p=
360,q,z,r,F,E=2.5;b.lines=function(){return e().map(function(b){return{type:"LineString",coordinates:b}})};b.outline=function(){return{type:"Polygon",coordinates:[r(m).concat(F(l).slice(1),r(d).reverse().slice(1),F(u).reverse().slice(1))]}};b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()};b.majorExtent=function(e){if(!arguments.length)return[[m,u],[d,l]];m=+e[0][0];d=+e[1][0];u=+e[0][1];l=+e[1][1];m>d&&(e=m,m=d,d=e);u>l&&(e=u,u=l,l=e);return b.precision(E)};
b.minorExtent=function(e){if(!arguments.length)return[[c,f],[a,h]];c=+e[0][0];a=+e[1][0];f=+e[0][1];h=+e[1][1];c>a&&(e=c,c=a,a=e);f>h&&(e=f,f=h,h=e);return b.precision(E)};b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()};b.majorStep=function(e){if(!arguments.length)return[t,p];t=+e[0];p=+e[1];return b};b.minorStep=function(e){if(!arguments.length)return[k,n];k=+e[0];n=+e[1];return b};b.precision=function(e){if(!arguments.length)return E;E=+e;q=sc(f,h,90);z=kb(c,
a,E);r=sc(u,l,90);F=kb(m,d,E);return b};return b.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])};v.geo.greatArc=function(){function b(){return{type:"LineString",coordinates:[a||e.apply(this,arguments),d||c.apply(this,arguments)]}}var e=gf,a,c=dc,d;b.distance=function(){return v.geo.distance(a||e.apply(this,arguments),d||c.apply(this,arguments))};b.source=function(c){if(!arguments.length)return e;e=c;a="function"===typeof c?null:c;return b};b.target=
function(e){if(!arguments.length)return c;c=e;d="function"===typeof e?null:e;return b};b.precision=function(){return arguments.length?b:0};return b};v.geo.interpolate=function(b,e){return Zh(b[0]*N,b[1]*N,e[0]*N,e[1]*N)};v.geo.length=function(b){Me=0;v.geo.stream(b,cd);return Me};var Me,cd={sphere:p,point:p,lineStart:function(){function b(g,d){var m=Math.sin(d*=N),h=Math.cos(d),f=O((g*=N)-e),l=Math.cos(f);Me+=Math.atan2(Math.sqrt((f=h*Math.sin(f))*f+(f=c*m-a*h*l)*f),a*m+c*h*l);e=g;a=m;c=h}var e,a,
c;cd.point=function(d,m){e=d*N;a=Math.sin(m*=N);c=Math.cos(m);cd.point=b};cd.lineEnd=function(){cd.point=cd.lineEnd=p}},lineEnd:p,polygonStart:p,polygonEnd:p},Ng=yb(function(b){return Math.sqrt(2/(1+b))},function(b){return 2*Math.asin(b/2)});(v.geo.azimuthalEqualArea=function(){return jb(Ng)}).raw=Ng;var Of=yb(function(b){return(b=Math.acos(b))&&b/Math.sin(b)},xa);(v.geo.azimuthalEquidistant=function(){return jb(Of)}).raw=Of;(v.geo.conicConformal=function(){return ib(Ih)}).raw=Ih;(v.geo.conicEquidistant=
function(){return ib(hf)}).raw=hf;var Og=yb(function(b){return 1/b},Math.atan);(v.geo.gnomonic=function(){return jb(Og)}).raw=Og;ja.invert=function(b,e){return[b,2*Math.atan(Math.exp(e))-wa]};(v.geo.mercator=function(){return cg(ja)}).raw=ja;var Pg=yb(function(){return 1},Math.asin);(v.geo.orthographic=function(){return jb(Pg)}).raw=Pg;var Qg=yb(function(b){return 1/(1+b)},function(b){return 2*Math.atan(b)});(v.geo.stereographic=function(){return jb(Qg)}).raw=Qg;Za.invert=function(b,e){return[-e,
2*Math.atan(Math.exp(b))-wa]};(v.geo.transverseMercator=function(){var b=cg(Za),e=b.center,a=b.rotate;b.center=function(b){return b?e([-b[1],b[0]]):(b=e(),[-b[1],b[0]])};b.rotate=function(b){return b?a([b[0],b[1],2<b.length?b[2]+90:90]):(b=a(),[b[0],b[1],b[2]-90])};return b.rotate([0,0])}).raw=Za;v.geom={};v.geom.hull=function(b){function e(b){if(3>b.length)return[];var g=fa(a),d=fa(c),m=b.length,h,f=m-1,l=[],u=[],k,y,n=0,t,p,q,z;if(g===Tb&&c===Ub)h=b;else for(y=0,h=[];y<m;++y)h.push([+g.call(this,
k=b[y],y),+d.call(this,k,y)]);for(y=1;y<m;++y)if(h[y][1]<h[n][1]||h[y][1]==h[n][1]&&h[y][0]<h[n][0])n=y;for(y=0;y<m;++y)y!==n&&(d=h[y][1]-h[n][1],g=h[y][0]-h[n][0],l.push({angle:Math.atan2(d,g),index:y}));l.sort(function(b,g){return b.angle-g.angle});z=l[0].angle;q=l[0].index;p=0;for(y=1;y<f;++y){m=l[y].index;if(z==l[y].angle)if(g=h[q][0]-h[n][0],d=h[q][1]-h[n][1],k=h[m][0]-h[n][0],t=h[m][1]-h[n][1],g*g+d*d>=k*k+t*t){l[y].index=-1;continue}else l[p].index=-1;z=l[y].angle;p=y;q=m}u.push(n);for(m=y=
0;2>y;++m)-1<l[m].index&&(u.push(l[m].index),y++);for(y=u.length;m<f;++m)if(!(0>l[m].index)){for(;!jd(u[y-2],u[y-1],l[m].index,h);)--y;u[y++]=l[m].index}h=[];for(--y;0<=y;--y)h.push(b[u[y]]);return h}var a=Tb,c=Ub;if(arguments.length)return e(b);e.x=function(b){return arguments.length?(a=b,e):a};e.y=function(b){return arguments.length?(c=b,e):c};return e};v.geom.polygon=function(b){Ha(b,Ne);return b};var Ne=v.geom.polygon.prototype=[];Ne.area=function(){for(var b=-1,e=this.length,a,c=this[e-1],d=
0;++b<e;)a=c,c=this[b],d+=a[1]*c[0]-a[0]*c[1];return.5*d};Ne.centroid=function(b){var e=-1,a=this.length,c=0,d=0,m,h=this[a-1],f;for(arguments.length||(b=-1/(6*this.area()));++e<a;)m=h,h=this[e],f=m[0]*h[1]-h[0]*m[1],c+=(m[0]+h[0])*f,d+=(m[1]+h[1])*f;return[c*b,d*b]};Ne.clip=function(b){for(var e,a=be(b),c=-1,d=this.length-be(this),m,h,f=this[d-1],l,u,k;++c<d;){e=b.slice();b.length=0;l=this[c];u=e[(h=e.length-a)-1];for(m=-1;++m<h;)k=e[m],kd(k,f,l)?(kd(u,f,l)||b.push(dg(u,k,f,l)),b.push(k)):kd(u,f,
l)&&b.push(dg(u,k,f,l)),u=k;a&&b.push(b[0]);f=l}return b};var Rc,wc,uc,eg=[],mf,md,lf=[];jf.prototype.prepare=function(){for(var b=this.edges,e=b.length,a;e--;)a=b[e].edge,a.b&&a.a||b.splice(e,1);b.sort(kf);return b.length};ee.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};nd.prototype={insert:function(b,e){var a,c,d;if(b){e.P=b;if(e.N=b.N)b.N.P=e;b.N=e;if(b.R){for(b=b.R;b.L;)b=b.L;b.L=e}else b.R=
e;a=b}else this._?(b=Fb(this._),e.P=null,e.N=b,b.P=b.L=e,a=b):(e.P=e.N=null,this._=e,a=null);e.L=e.R=null;e.U=a;e.C=!0;for(b=e;a&&a.C;)c=a.U,a===c.L?(d=c.R)&&d.C?(a.C=d.C=!1,c.C=!0,b=c):(b===a.R&&(xc(this,a),b=a,a=b.U),a.C=!1,c.C=!0,Vb(this,c)):(d=c.L)&&d.C?(a.C=d.C=!1,c.C=!0,b=c):(b===a.L&&(Vb(this,a),b=a,a=b.U),a.C=!1,c.C=!0,xc(this,c)),a=b.U;this._.C=!1},remove:function(b){b.N&&(b.N.P=b.P);b.P&&(b.P.N=b.N);b.N=b.P=null;var e=b.U,a=b.L,c=b.R,d,m;d=a?c?Fb(c):a:c;e?e.L===b?e.L=d:e.R=d:this._=d;a&&
c?(m=d.C,d.C=b.C,d.L=a,a.U=d,d!==c?(e=d.U,d.U=b.U,b=d.R,e.L=b,d.R=c,c.U=d):(d.U=e,e=d,b=d.R)):(m=b.C,b=d);b&&(b.U=e);if(!m)if(b&&b.C)b.C=!1;else{do{if(b===this._)break;if(b===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,xc(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,Vb(this,b),b=e.R);b.C=e.C;e.C=b.R.C=!1;xc(this,e);b=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,Vb(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,xc(this,b),b=e.L);b.C=e.C;e.C=b.L.C=!1;Vb(this,e);
b=this._;break}b.C=!0;b=e;e=e.U}while(!b.C);b&&(b.C=!1)}}};v.geom.voronoi=function(b){function e(b){var g=Array(b.length),c=f[0][0],d=f[0][1],m=f[1][0],h=f[1][1];of(a(b),f).cells.forEach(function(e,a){var f=e.edges,l=e.site;(g[a]=f.length?f.map(function(b){b=b.start();return[b.x,b.y]}):l.x>=c&&l.x<=m&&l.y>=d&&l.y<=h?[[c,h],[m,h],[m,d],[c,d]]:[]).point=b[a]});return g}function a(b){return b.map(function(b,g){return{x:1E-6*Math.round(m(b,g)/1E-6),y:1E-6*Math.round(h(b,g)/1E-6),i:g}})}var c=Tb,d=Ub,
m=c,h=d,f=Oe;if(b)return e(b);e.links=function(b){return of(a(b)).edges.filter(function(b){return b.l&&b.r}).map(function(g){return{source:b[g.l.i],target:b[g.r.i]}})};e.triangles=function(b){var g=[];of(a(b)).cells.forEach(function(e,a){for(var c=e.site,d=e.edges.sort(kf),m=-1,h=d.length,f,l=d[h-1].edge,l=l.l===c?l.r:l.l;++m<h;)f=l,l=d[m].edge,l=l.l===c?l.r:l.l,a<f.i&&a<l.i&&0>(c.x-l.x)*(f.y-c.y)-(c.x-f.x)*(l.y-c.y)&&g.push([b[a],b[f.i],b[l.i]])});return g};e.x=function(b){return arguments.length?
(m=fa(c=b),e):c};e.y=function(b){return arguments.length?(h=fa(d=b),e):d};e.clipExtent=function(b){if(!arguments.length)return f===Oe?null:f;f=null==b?Oe:b;return e};e.size=function(b){return arguments.length?e.clipExtent(b&&[[0,0],b]):f===Oe?null:f&&f[1]};return e};var Oe=[[-1E6,-1E6],[1E6,1E6]];v.geom.delaunay=function(b){return v.geom.voronoi().triangles(b)};v.geom.quadtree=function(b,e,a,c,d){function m(b){function g(b,e,a,c,d,m,h,f){if(!isNaN(a)&&!isNaN(c))if(b.leaf){var l=b.x,k=b.y;if(null!=
l){if(!(.01>O(l-a)+O(k-c))){var y=b.point;b.x=b.y=b.point=null;u(b,y,l,k,d,m,h,f)}u(b,e,a,c,d,m,h,f)}else b.x=a,b.y=c,b.point=e}else u(b,e,a,c,d,m,h,f)}function u(b,e,a,c,d,m,h,f){var l=.5*(d+h),k=.5*(m+f),y=a>=l,w=c>=k,n=(w<<1)+y;b.leaf=!1;b=b.nodes[n]||(b.nodes[n]=ec());y?d=l:h=l;w?m=k:f=k;g(b,e,a,c,d,m,h,f)}var k,n=fa(h),t=fa(f),p,q,z,r,F,E,G,L;if(null!=e)F=e,E=a,G=c,L=d;else if(G=L=-(F=E=Infinity),p=[],q=[],r=b.length,l)for(z=0;z<r;++z)k=b[z],k.x<F&&(F=k.x),k.y<E&&(E=k.y),k.x>G&&(G=k.x),k.y>L&&
(L=k.y),p.push(k.x),q.push(k.y);else for(z=0;z<r;++z){var C=+n(k=b[z],z);k=+t(k,z);C<F&&(F=C);k<E&&(E=k);C>G&&(G=C);k>L&&(L=k);p.push(C);q.push(k)}C=G-F;k=L-E;C>k?L=E+C:G=F+k;var v=ec();v.add=function(b){g(v,b,+n(b,++z),+t(b,z),F,E,G,L)};v.visit=function(b){fc(b,v,F,E,G,L)};z=-1;if(null==e){for(;++z<r;)g(v,b[z],p[z],q[z],F,E,G,L);--z}else b.forEach(v.add);p=q=b=k=null;return v}var h=Tb,f=Ub,l;if(l=arguments.length)return h=pf,f=hg,3===l&&(d=a,c=e,a=e=0),m(b);m.x=function(b){return arguments.length?
(h=b,m):h};m.y=function(b){return arguments.length?(f=b,m):f};m.extent=function(b){if(!arguments.length)return null==e?null:[[e,a],[c,d]];null==b?e=a=c=d=null:(e=+b[0][0],a=+b[0][1],c=+b[1][0],d=+b[1][1]);return m};m.size=function(b){if(!arguments.length)return null==e?null:[c-e,d-a];null==b?e=a=c=d=null:(e=a=0,c=+b[0],d=+b[1]);return m};return m};v.interpolateRgb=ge;v.interpolateObject=he;v.interpolateNumber=Gb;v.interpolateString=ig;var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;v.interpolate=
gc;v.interpolators=[function(b,e){var a=typeof e;return("string"===a?Jd.has(e)||/^(#|rgb\(|hsl\()/.test(e)?ge:ig:e instanceof da?ge:"object"===a?Array.isArray(e)?od:he:Gb)(b,e)}];v.interpolateArray=od;var Rg=function(){return xa},nh=v.map({linear:Rg,poly:function(b){return function(e){return Math.pow(e,b)}},quad:function(){return qf},cubic:function(){return kg},sin:function(){return Uc},exp:function(){return lg},circle:function(){return mg},elastic:function(b,e){var a;2>arguments.length&&(e=.45);
arguments.length?a=e/Da*Math.asin(1/b):(b=1,a=e/4);return function(c){return 1+b*Math.pow(2,-10*c)*Math.sin((c-a)*Da/e)}},back:function(b){b||(b=1.70158);return function(e){return e*e*((b+1)*e-b)}},bounce:function(){return ai}}),oh=v.map({"in":xa,out:Ia,"in-out":Tc,"out-in":function(b){return Tc(Ia(b))}});v.ease=function(b){var e=b.indexOf("-"),a=0<=e?b.substring(0,e):b,e=0<=e?b.substring(e+1):"in",a=nh.get(a)||Rg,e=oh.get(e)||xa;return jg(e(a.apply(null,xd.call(arguments,1))))};v.interpolateHcl=
function(b,e){b=v.hcl(b);e=v.hcl(e);var a=b.h,c=b.c,d=b.l,m=e.h-a,h=e.c-c,f=e.l-d;isNaN(h)&&(h=0,c=isNaN(c)?e.c:c);isNaN(m)?(m=0,a=isNaN(a)?e.h:a):180<m?m-=360:-180>m&&(m+=360);return function(b){return B(a+m*b,c+h*b,d+f*b)+""}};v.interpolateHsl=function(b,e){b=v.hsl(b);e=v.hsl(e);var a=b.h,c=b.s,d=b.l,m=e.h-a,h=e.s-c,f=e.l-d;isNaN(h)&&(h=0,c=isNaN(c)?e.s:c);isNaN(m)?(m=0,a=isNaN(a)?e.h:a):180<m?m-=360:-180>m&&(m+=360);return function(b){return Jc(a+m*b,c+h*b,d+f*b)+""}};v.interpolateLab=function(b,
e){b=v.lab(b);e=v.lab(e);var a=b.l,c=b.a,d=b.b,m=e.l-a,h=e.a-c,f=e.b-d;return function(b){return Qf(a+m*b,c+h*b,d+f*b)+""}};v.interpolateRound=rf;v.transform=function(b){var e=lb.createElementNS(v.ns.prefix.svg,"g");return(v.transform=function(b){if(null!=b){e.setAttribute("transform",b);var g=e.transform.baseVal.consolidate()}return new yc(g?g.matrix:ph)})(b)};yc.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ph=
{a:1,b:0,c:0,d:1,e:0,f:0};v.interpolateTransform=ng;v.layout={};v.layout.bundle=function(){return function(b){for(var e=[],a=-1,c=b.length;++a<c;)e.push(pg(b[a]));return e}};v.layout.chord=function(){function b(){var g={},a=[],n=v.range(h),w=[],t,p,q,z,r;c=[];d=[];t=0;for(z=-1;++z<h;){p=0;for(r=-1;++r<h;)p+=m[z][r];a.push(p);w.push(v.range(h));t+=p}l&&n.sort(function(b,e){return l(a[b],a[e])});u&&w.forEach(function(b,e){b.sort(function(b,g){return u(m[e][b],m[e][g])})});t=(Da-f*h)/t;p=0;for(z=-1;++z<
h;){q=p;for(r=-1;++r<h;){var F=n[z],E=w[F][r],L=m[F][E],C=p,B=p+=L*t;g[F+"-"+E]={index:F,subindex:E,startAngle:C,endAngle:B,value:L}}d[F]={index:F,startAngle:q,endAngle:p,value:(p-q)/t};p+=f}for(z=-1;++z<h;)for(r=z-1;++r<h;)n=g[z+"-"+r],w=g[r+"-"+z],(n.value||w.value)&&c.push(n.value<w.value?{source:w,target:n}:{source:n,target:w});k&&e()}function e(){c.sort(function(b,e){return k((b.source.value+b.target.value)/2,(e.source.value+e.target.value)/2)})}var a={},c,d,m,h,f=0,l,u,k;a.matrix=function(b){if(!arguments.length)return m;
h=(m=b)&&m.length;c=d=null;return a};a.padding=function(b){if(!arguments.length)return f;f=b;c=d=null;return a};a.sortGroups=function(b){if(!arguments.length)return l;l=b;c=d=null;return a};a.sortSubgroups=function(b){if(!arguments.length)return u;u=b;c=null;return a};a.sortChords=function(b){if(!arguments.length)return k;k=b;c&&e();return a};a.chords=function(){c||b();return c};a.groups=function(){d||b();return d};return a};v.layout.force=function(){function b(e){return function(b,g,a,c){if(b.point!==
e){a=b.cx-e.x;var d=b.cy-e.y,m=1/Math.sqrt(a*a+d*d);if((c-g)*m<t)return g=b.charge*m*m,e.px-=a*g,e.py-=d*g,!0;b.point&&isFinite(m)&&(g=b.pointCharge*m*m,e.px-=a*g,e.py-=d*g)}return!b.charge}}function e(b){b.px=v.event.x;b.py=v.event.y;a.resume()}var a={},c=v.dispatch("start","tick","end"),d=[1,1],m,h,f=.9,l=qh,u=rh,k=-30,n=.1,t=.8,p=[],q=[],z,r,F;a.tick=function(){if(.005>(h*=.99))return c.end({type:"end",alpha:h=0}),!0;var e=p.length,a=q.length,m,l,u,y,t,w,E;for(m=0;m<a;++m)if(l=q[m],u=l.source,
y=l.target,w=y.x-u.x,E=y.y-u.y,t=w*w+E*E)t=h*r[m]*((t=Math.sqrt(t))-z[m])/t,w*=t,E*=t,y.x-=w*(t=u.weight/(y.weight+u.weight)),y.y-=E*t,u.x+=w*(t=1-t),u.y+=E*t;if(t=h*n)if(w=d[0]/2,E=d[1]/2,m=-1,t)for(;++m<e;)l=p[m],l.x+=(w-l.x)*t,l.y+=(E-l.y)*t;if(k)for(ne(a=v.geom.quadtree(p),h,F),m=-1;++m<e;)(l=p[m]).fixed||a.visit(b(l));for(m=-1;++m<e;)l=p[m],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*f,l.y-=(l.py-(l.py=l.y))*f);c.tick({type:"tick",alpha:h})};a.nodes=function(b){if(!arguments.length)return p;
p=b;return a};a.links=function(b){if(!arguments.length)return q;q=b;return a};a.size=function(b){if(!arguments.length)return d;d=b;return a};a.linkDistance=function(b){if(!arguments.length)return l;l="function"===typeof b?b:+b;return a};a.distance=a.linkDistance;a.linkStrength=function(b){if(!arguments.length)return u;u="function"===typeof b?b:+b;return a};a.friction=function(b){if(!arguments.length)return f;f=+b;return a};a.charge=function(b){if(!arguments.length)return k;k="function"===typeof b?
b:+b;return a};a.gravity=function(b){if(!arguments.length)return n;n=+b;return a};a.theta=function(b){if(!arguments.length)return t;t=+b;return a};a.alpha=function(b){if(!arguments.length)return h;b=+b;h?h=0<b?b:0:0<b&&(c.start({type:"start",alpha:h=b}),v.timer(a.tick));return a};a.start=function(){function b(a,c){if(!f){f=Array(g);for(m=0;m<g;++m)f[m]=[];for(m=0;m<h;++m){var d=q[m];f[d.source.index].push(d.target);f[d.target.index].push(d.source)}}for(var d=f[e],m=-1,h=d.length,l;++m<h;)if(!isNaN(l=
d[m][a]))return l;return Math.random()*c}var e,g=p.length,c=q.length,m=d[0],h=d[1],f,n;for(e=0;e<g;++e)(n=p[e]).index=e,n.weight=0;for(e=0;e<c;++e)n=q[e],"number"==typeof n.source&&(n.source=p[n.source]),"number"==typeof n.target&&(n.target=p[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<g;++e)n=p[e],isNaN(n.x)&&(n.x=b("x",m)),isNaN(n.y)&&(n.y=b("y",h)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);z=[];if("function"===typeof l)for(e=0;e<c;++e)z[e]=+l.call(this,q[e],e);else for(e=0;e<
c;++e)z[e]=l;r=[];if("function"===typeof u)for(e=0;e<c;++e)r[e]=+u.call(this,q[e],e);else for(e=0;e<c;++e)r[e]=u;F=[];if("function"===typeof k)for(e=0;e<g;++e)F[e]=+k.call(this,p[e],e);else for(e=0;e<g;++e)F[e]=k;return a.resume()};a.resume=function(){return a.alpha(.1)};a.stop=function(){return a.alpha(0)};a.drag=function(){m||(m=v.behavior.drag().origin(xa).on("dragstart.force",me).on("drag.force",e).on("dragend.force",Zg));if(!arguments.length)return m;this.on("mouseover.force",qg).on("mouseout.force",
rg).call(m)};return v.rebind(a,c,"on")};var qh=20,rh=1;v.layout.hierarchy=function(){function b(e,h,f){var l=d.call(a,e,h);e.depth=h;f.push(e);if(l&&(k=l.length)){var u=-1,k,n=e.children=Array(k),t=0;h+=1;for(var y;++u<k;)y=n[u]=b(l[u],h,f),y.parent=e,t+=y.value;c&&n.sort(c);m&&(e.value=t)}else delete e.children,m&&(e.value=+m.call(a,e,h)||0);return e}function e(b,g){var c=b.children,d=0;if(c&&(f=c.length))for(var h=-1,f,l=g+1;++h<f;)d+=e(c[h],l);else m&&(d=+m.call(a,b,g)||0);m&&(b.value=d);return d}
function a(e){var c=[];b(e,0,c);return c}var c=oe,d=sg,m=$g;a.sort=function(b){if(!arguments.length)return c;c=b;return a};a.children=function(b){if(!arguments.length)return d;d=b;return a};a.value=function(b){if(!arguments.length)return m;m=b;return a};a.revalue=function(b){e(b,0);return b};return a};v.layout.partition=function(){function b(e,a,c,d){var m=e.children;e.x=a;e.y=e.depth*d;e.dx=c;e.dy=d;if(m&&(f=m.length)){var h=-1,f,l;for(c=e.value?c/e.value:0;++h<f;)b(l=m[h],a,e=l.value*c,d),a+=e}}
function e(b){b=b.children;var g=0;if(b&&(c=b.length))for(var a=-1,c;++a<c;)g=Math.max(g,e(b[a]));return 1+g}function a(m,h){var f=c.call(this,m,h);b(f[0],0,d[0],d[1]/e(f[0]));return f}var c=v.layout.hierarchy(),d=[1,1];a.size=function(b){if(!arguments.length)return d;d=b;return a};return $a(a,c)};v.layout.pie=function(){function b(m){var h=m.map(function(a,c){return+e.call(b,a,c)}),f=+("function"===typeof c?c.apply(this,arguments):c),l=(("function"===typeof d?d.apply(this,arguments):d)-f)/v.sum(h),
u=v.range(m.length);null!=a&&u.sort(a===Sg?function(b,e){return h[e]-h[b]}:function(b,e){return a(m[b],m[e])});var k=[];u.forEach(function(b){var e;k[b]={data:m[b],value:e=h[b],startAngle:f,endAngle:f+=e*l}});return k}var e=Number,a=Sg,c=0,d=Da;b.value=function(a){if(!arguments.length)return e;e=a;return b};b.sort=function(e){if(!arguments.length)return a;a=e;return b};b.startAngle=function(e){if(!arguments.length)return c;c=e;return b};b.endAngle=function(e){if(!arguments.length)return d;d=e;return b};
return b};var Sg={};v.layout.stack=function(){function b(f,l){var u=f.map(function(a,c){return e.call(b,a,c)}),k=u.map(function(e){return e.map(function(e,a){return[m.call(b,e,a),h.call(b,e,a)]})}),n=a.call(b,k,l),u=v.permute(u,n),k=v.permute(k,n),n=c.call(b,k,l),t=u.length,p=u[0].length,q,z,r;for(z=0;z<p;++z)for(d.call(b,u[0][z],r=n[z],k[0][z][1]),q=1;q<t;++q)d.call(b,u[q][z],r+=k[q-1][z][1],k[q][z][1]);return f}var e=xa,a=ab,c=qe,d=Wc,m=sf,h=pe;b.values=function(a){if(!arguments.length)return e;
e=a;return b};b.order=function(e){if(!arguments.length)return a;a="function"===typeof e?e:sh.get(e)||ab;return b};b.offset=function(e){if(!arguments.length)return c;c="function"===typeof e?e:th.get(e)||qe;return b};b.x=function(e){if(!arguments.length)return m;m=e;return b};b.y=function(e){if(!arguments.length)return h;h=e;return b};b.out=function(e){if(!arguments.length)return d;d=e;return b};return b};var sh=v.map({"inside-out":function(b){var e=b.length,a,c=b.map(ah),d=b.map(bh),m=v.range(e).sort(function(b,
e){return c[b]-c[e]}),h=0,f=0,l=[],u=[];for(b=0;b<e;++b)a=m[b],h<f?(h+=d[a],l.push(a)):(f+=d[a],u.push(a));return u.reverse().concat(l)},reverse:function(b){return v.range(b.length).reverse()},"default":ab}),th=v.map({silhouette:function(b){var e=b.length,a=b[0].length,c=[],d=0,m,h,f,l=[];for(h=0;h<a;++h){for(f=m=0;m<e;m++)f+=b[m][h][1];f>d&&(d=f);c.push(f)}for(h=0;h<a;++h)l[h]=(d-c[h])/2;return l},wiggle:function(b){var e=b.length,a=b[0],c=a.length,d,m,h,f,l,u,k,n,t,p=[];p[0]=n=t=0;for(m=1;m<c;++m){for(f=
d=0;d<e;++d)f+=b[d][m][1];l=d=0;for(k=a[m][0]-a[m-1][0];d<e;++d){h=0;for(u=(b[d][m][1]-b[d][m-1][1])/(2*k);h<d;++h)u+=(b[h][m][1]-b[h][m-1][1])/k;l+=u*b[d][m][1]}p[m]=n-=f?l/f*k:0;n<t&&(t=n)}for(m=0;m<c;++m)p[m]-=t;return p},expand:function(b){var e=b.length,a=b[0].length,c=1/e,d,m,h,f=[];for(m=0;m<a;++m){for(h=d=0;d<e;d++)h+=b[d][m][1];if(h)for(d=0;d<e;d++)b[d][m][1]/=h;else for(d=0;d<e;d++)b[d][m][1]=c}for(m=0;m<a;++m)f[m]=0;return f},zero:qe});v.layout.histogram=function(){function b(g,m){var h=
[],f=g.map(a,this),l=c.call(this,f,m),u=d.call(this,l,f,m),k;m=-1;for(var n=f.length,t=u.length-1,p=e?1:1/n;++m<t;)k=h[m]=[],k.dx=u[m+1]-(k.x=u[m]),k.y=0;if(0<t)for(m=-1;++m<n;)k=f[m],k>=l[0]&&k<=l[1]&&(k=h[v.bisect(u,k,1,t)-1],k.y+=p,k.push(g[m]));return h}var e=!0,a=Number,c=Wb,d=tg;b.value=function(e){if(!arguments.length)return a;a=e;return b};b.range=function(e){if(!arguments.length)return c;c=fa(e);return b};b.bins=function(e){if(!arguments.length)return d;d="number"===typeof e?function(b){return zb(b,
e)}:fa(e);return b};b.frequency=function(a){if(!arguments.length)return e;e=!!a;return b};return b};v.layout.tree=function(){function b(g,m){function h(b,e){var g=b.children,c=b._tree;if(g&&(d=g.length)){for(var d,m=g[0],f,l=m,u,k=-1;++k<d;){u=g[k];h(u,f);var n=u;if(f){for(var t=n,p=n,y=n.parent.children[0],q=t._tree.mod,z=p._tree.mod,r=f._tree.mod,F=y._tree.mod,E=void 0;f=Ac(f),t=pd(t),f&&t;){y=pd(y);p=Ac(p);p._tree.ancestor=n;E=f._tree.prelim+r-t._tree.prelim-q+a(f,t);if(0<E){var L=f._tree.ancestor.parent==
n.parent?f._tree.ancestor:l,C=n,v=E,L=L._tree,C=C._tree,B=v/(C.number-L.number);L.change+=B;C.change-=B;C.shift+=v;C.prelim+=v;C.mod+=v;q+=E;z+=E}r+=f._tree.mod;q+=t._tree.mod;F+=y._tree.mod;z+=p._tree.mod}f&&!Ac(p)&&(p._tree.thread=f,p._tree.mod+=r-z);t&&!pd(y)&&(y._tree.thread=t,y._tree.mod+=q-F,l=n)}f=u}d=g=0;k=b.children;for(n=k.length;0<=--n;)l=k[n]._tree,l.prelim+=g,l.mod+=g,g+=l.shift+(d+=l.change);m=.5*(m._tree.prelim+u._tree.prelim);e?(c.prelim=e._tree.prelim+a(b,e),c.mod=c.prelim-m):c.prelim=
m}else e&&(c.prelim=e._tree.prelim+a(b,e))}function f(b,e){b.x=b._tree.prelim+e;var g=b.children;if(g&&(c=g.length)){var a=-1,c;for(e+=b._tree.mod;++a<c;)f(g[a],e)}}var l=e.call(this,g,m),u=l[0];Hb(u,function(b,e){b._tree={ancestor:b,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}});h(u);f(u,-u._tree.prelim);var k=qd(u,ug),n=qd(u,rd),t=qd(u,vg),p=k.x-a(k,n)/2,q=n.x+a(n,k)/2,z=t.depth||1;Hb(u,d?function(b){b.x*=c[0];b.y=b.depth*c[1];delete b._tree}:function(b){b.x=(b.x-p)/(q-p)*c[0];b.y=
b.depth/z*c[1];delete b._tree});return l}var e=v.layout.hierarchy().sort(null).value(null),a=zc,c=[1,1],d=!1;b.separation=function(e){if(!arguments.length)return a;a=e;return b};b.size=function(e){if(!arguments.length)return d?null:c;d=null==(c=e);return b};b.nodeSize=function(e){if(!arguments.length)return d?c:null;d=null!=(c=e);return b};return $a(b,e)};v.layout.pack=function(){function b(g,m){var h=e.call(this,g,m),f=h[0],l=c[0],u=c[1],k=null==d?Math.sqrt:"function"===typeof d?d:function(){return d};
f.x=f.y=0;Hb(f,function(b){b.r=+k(b.value)});Hb(f,se);if(a){var n=a*(d?1:Math.max(2*f.r/l,2*f.r/u))/2;Hb(f,function(b){b.r+=n});Hb(f,se);Hb(f,function(b){b.r-=n})}vf(f,l/2,u/2,d?1:1/Math.max(2*f.r/l,2*f.r/u));return h}var e=v.layout.hierarchy().sort(wg),a=0,c=[1,1],d;b.size=function(e){if(!arguments.length)return c;c=e;return b};b.radius=function(e){if(!arguments.length)return d;d=null==e||"function"===typeof e?e:+e;return b};b.padding=function(e){if(!arguments.length)return a;a=+e;return b};return $a(b,
e)};v.layout.cluster=function(){function b(g,m){var h=e.call(this,g,m),f=h[0],l,u=0;Hb(f,function(b){var e=b.children;e&&e.length?(b.x=yg(e),b.y=dh(e)):(b.x=l?u+=a(b,l):0,b.y=0,l=b)});var k=wf(f),n=xf(f),t=k.x-a(k,n)/2,p=n.x+a(n,k)/2;Hb(f,d?function(b){b.x=(b.x-f.x)*c[0];b.y=(f.y-b.y)*c[1]}:function(b){b.x=(b.x-t)/(p-t)*c[0];b.y=(1-(f.y?b.y/f.y:1))*c[1]});return h}var e=v.layout.hierarchy().sort(null).value(null),a=zc,c=[1,1],d=!1;b.separation=function(e){if(!arguments.length)return a;a=e;return b};
b.size=function(e){if(!arguments.length)return d?null:c;d=null==(c=e);return b};b.nodeSize=function(e){if(!arguments.length)return d?c:null;d=null!=(c=e);return b};return $a(b,e)};v.layout.treemap=function(){function b(e,g){for(var a=-1,c=e.length,d,m;++a<c;)m=(d=e[a]).value*(0>g?0:g),d.area=isNaN(m)||0>=m?0:m}function e(a){var d=a.children;if(d&&d.length){var m=u(a),h=[],f=d.slice(),l=Infinity,k,n="slice"===t?m.dx:"dice"===t?m.dy:"slice-dice"===t?a.depth&1?m.dy:m.dx:Math.min(m.dx,m.dy);b(f,m.dx*
m.dy/a.value);for(h.area=0;0<(a=f.length);){h.push(a=f[a-1]);h.area+=a.area;if(!(a="squarify"!==t)){k=n;a=h.area;for(var q=void 0,z=0,w=Infinity,r=-1,F=h.length;++r<F;)if(q=h[r].area)q<w&&(w=q),q>z&&(z=q);a*=a;k*=k;a=(k=a?Math.max(k*z*p/a,a/(k*w*p)):Infinity)<=l}a?(f.pop(),l=k):(h.area-=h.pop().area,c(h,n,m,!1),n=Math.min(m.dx,m.dy),h.length=h.area=0,l=Infinity)}h.length&&(c(h,n,m,!0),h.length=h.area=0);d.forEach(e)}}function a(e){var d=e.children;if(d&&d.length){var m=u(e),h=d.slice(),f=[];b(h,m.dx*
m.dy/e.value);for(f.area=0;e=h.pop();)f.push(e),f.area+=e.area,null!=e.z&&(c(f,e.z?m.dx:m.dy,m,!h.length),f.length=f.area=0);d.forEach(a)}}function c(b,e,g,a){var d=-1,m=b.length,f=g.x,l=g.y,u=e?h(b.area/e):0,k;if(e==g.dx){if(a||u>g.dy)u=g.dy;for(;++d<m;)k=b[d],k.x=f,k.y=l,k.dy=u,f+=k.dx=Math.min(g.x+g.dx-f,u?h(k.area/u):0);k.z=!0;k.dx+=g.x+g.dx-f;g.y+=u;g.dy-=u}else{if(a||u>g.dx)u=g.dx;for(;++d<m;)k=b[d],k.x=f,k.y=l,k.dx=u,l+=k.dy=Math.min(g.y+g.dy-l,u?h(k.area/u):0);k.z=!1;k.dy+=g.y+g.dy-l;g.x+=
u;g.dx-=u}}function d(c){c=n||m(c);var h=c[0];h.x=0;h.y=0;h.dx=f[0];h.dy=f[1];n&&m.revalue(h);b([h],h.dx*h.dy/h.value);(n?a:e)(h);k&&(n=c);return c}var m=v.layout.hierarchy(),h=Math.round,f=[1,1],l=null,u=te,k=!1,n,t="squarify",p=.5*(1+Math.sqrt(5));d.size=function(b){if(!arguments.length)return f;f=b;return d};d.padding=function(b){function e(g){var a=b.call(d,g,g.depth);return null==a?te(g):yf(g,"number"===typeof a?[a,a,a,a]:a)}function g(e){return yf(e,b)}if(!arguments.length)return l;var a;u=
null==(l=b)?te:"function"===(a=typeof b)?e:"number"===a?(b=[b,b,b,b],g):g;return d};d.round=function(b){if(!arguments.length)return h!=Number;h=b?Math.round:Number;return d};d.sticky=function(b){if(!arguments.length)return k;k=b;n=null;return d};d.ratio=function(b){if(!arguments.length)return p;p=b;return d};d.mode=function(b){if(!arguments.length)return t;t=b+"";return d};return $a(d,m)};v.random={normal:function(b,e){var a=arguments.length;2>a&&(e=1);1>a&&(b=0);return function(){var a,c;do a=2*
Math.random()-1,c=2*Math.random()-1,c=a*a+c*c;while(!c||1<c);return b+e*a*Math.sqrt(-2*Math.log(c)/c)}},logNormal:function(){var b=v.random.normal.apply(v,arguments);return function(){return Math.exp(b())}},bates:function(b){var e=v.random.irwinHall(b);return function(){return e()/b}},irwinHall:function(b){return function(){for(var e=0,a=0;a<b;a++)e+=Math.random();return e}}};v.scale={};var eh={floor:xa,ceil:xa};v.scale.linear=function(){return Ib([0,1],[0,1],gc,!1)};var fh={s:1,g:1,p:1,r:1,e:1};
v.scale.log=function(){return Ab(v.scale.linear().domain([0,1]),10,!0,[1,10])};var b=v.format(".0e"),e={floor:function(b){return-Math.ceil(-b)},ceil:function(b){return-Math.floor(-b)}};v.scale.pow=function(){return Af(v.scale.linear(),1,[0,1])};v.scale.sqrt=function(){return v.scale.pow().exponent(.5)};v.scale.ordinal=function(){return ka([],{t:"range",a:[[]]})};v.scale.category10=function(){return v.scale.ordinal().range(m)};v.scale.category20=function(){return v.scale.ordinal().range(u)};v.scale.category20b=
function(){return v.scale.ordinal().range(L)};v.scale.category20c=function(){return v.scale.ordinal().range(pa)};var m=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dd),u=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dd),L=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,
8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dd),pa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dd);v.scale.quantile=function(){return ra([],[])};v.scale.quantize=function(){return Bf(0,1,[0,1])};v.scale.threshold=function(){return Cf([.5],[0,1])};v.scale.identity=function(){return ve([0,1])};v.svg={};v.svg.arc=function(){function b(){var g=
e.apply(this,arguments),m=a.apply(this,arguments),h=c.apply(this,arguments)+Oa,f=d.apply(this,arguments)+Oa,l=(f<h&&(l=h,h=f,f=l),f-h),u=l<P?"0":"1",k=Math.cos(h),h=Math.sin(h),n=Math.cos(f),f=Math.sin(f);return l>=di?g?"M0,"+m+"A"+m+","+m+" 0 1,1 0,"+-m+"A"+m+","+m+" 0 1,1 0,"+m+"M0,"+g+"A"+g+","+g+" 0 1,0 0,"+-g+"A"+g+","+g+" 0 1,0 0,"+g+"Z":"M0,"+m+"A"+m+","+m+" 0 1,1 0,"+-m+"A"+m+","+m+" 0 1,1 0,"+m+"Z":g?"M"+m*k+","+m*h+"A"+m+","+m+" 0 "+u+",1 "+m*n+","+m*f+"L"+g*n+","+g*f+"A"+g+","+g+" 0 "+
u+",0 "+g*k+","+g*h+"Z":"M"+m*k+","+m*h+"A"+m+","+m+" 0 "+u+",1 "+m*n+","+m*f+"L0,0Z"}var e=Bg,a=Cc,c=Df,d=Xc;b.innerRadius=function(a){if(!arguments.length)return e;e=fa(a);return b};b.outerRadius=function(e){if(!arguments.length)return a;a=fa(e);return b};b.startAngle=function(e){if(!arguments.length)return c;c=fa(e);return b};b.endAngle=function(e){if(!arguments.length)return d;d=fa(e);return b};b.centroid=function(){var b=(e.apply(this,arguments)+a.apply(this,arguments))/2,g=(c.apply(this,arguments)+
d.apply(this,arguments))/2+Oa;return[Math.cos(g)*b,Math.sin(g)*b]};return b};var Oa=-wa,di=Da-1E-6;v.svg.line=function(){return we(xa)};var gh=v.map({linear:Na,"linear-closed":function(b){return Na(b)+"Z"},step:function(b){for(var e=0,a=b.length,c=b[0],d=[c[0],",",c[1]];++e<a;)d.push("H",(c[0]+(c=b[e])[0])/2,"V",c[1]);1<a&&d.push("H",c[0]);return d.join("")},"step-before":Z,"step-after":xe,basis:ea,"basis-open":function(b){if(4>b.length)return Na(b);for(var e=[],a=-1,c=b.length,d,m=[0],h=[0];3>++a;)d=
b[a],m.push(d[0]),h.push(d[1]);e.push(La(Yc,m)+","+La(Yc,h));for(--a;++a<c;)d=b[a],m.shift(),m.push(d[0]),h.shift(),h.push(d[1]),ze(e,m,h);return e.join("")},"basis-closed":function(b){for(var e,a=-1,c=b.length,d=c+4,m,h=[],f=[];4>++a;)m=b[a%c],h.push(m[0]),f.push(m[1]);e=[La(Yc,h),",",La(Yc,f)];for(--a;++a<d;)m=b[a%c],h.shift(),h.push(m[0]),f.shift(),f.push(m[1]),ze(e,h,f);return e.join("")},bundle:function(b,e){var a=b.length-1;if(a)for(var c=b[0][0],d=b[0][1],m=b[a][0]-c,h=b[a][1]-d,f=-1,l,u;++f<=
a;)l=b[f],u=f/a,l[0]=e*l[0]+(1-e)*(c+u*m),l[1]=e*l[1]+(1-e)*(d+u*h);return ea(b)},cardinal:function(b,e){return 3>b.length?Na(b):b[0]+sa(b,ye(b,e))},"cardinal-open":function(b,e){return 4>b.length?Na(b):b[1]+sa(b.slice(1,b.length-1),ye(b,e))},"cardinal-closed":function(b,e){return 3>b.length?Na(b):b[0]+sa((b.push(b[0]),b),ye([b[b.length-2]].concat(b,[b[1]]),e))},monotone:function(b){if(3>b.length)b=Na(b);else{var e=b[0],a=[],c,d,m,h;c=0;d=b.length-1;var f=[];m=b[1];for(h=f[0]=Ae(b[0],m);++c<d;)f[c]=
(h+(h=Ae(m,m=b[c+1])))/2;f[c]=h;for(var l=-1,u=b.length-1;++l<u;)c=Ae(b[l],b[l+1]),1E-6>O(c)?f[l]=f[l+1]=0:(d=f[l]/c,m=f[l+1]/c,h=d*d+m*m,9<h&&(h=3*c/Math.sqrt(h),f[l]=h*d,f[l+1]=h*m));for(l=-1;++l<=u;)h=(b[Math.min(u,l+1)][0]-b[Math.max(0,l-1)][0])/(6*(1+f[l]*f[l])),a.push([h||0,f[l]*h||0]);b=e+sa(b,a)}return b}});gh.forEach(function(b,e){e.key=b;e.closed=/-closed$/.test(b)});var Jh=[0,2/3,1/3,0],Kh=[0,1/3,2/3,0],Yc=[0,1/6,2/3,1/6];v.svg.line.radial=function(){var b=we(Ea);b.radius=b.x;delete b.x;
b.angle=b.y;delete b.y;return b};Z.reverse=xe;xe.reverse=Z;v.svg.area=function(){return bb(xa)};v.svg.area.radial=function(){var b=bb(Ea);b.radius=b.x;delete b.x;b.innerRadius=b.x0;delete b.x0;b.outerRadius=b.x1;delete b.x1;b.angle=b.y;delete b.y;b.startAngle=b.y0;delete b.y0;b.endAngle=b.y1;delete b.y1;return b};v.svg.chord=function(){function b(g,m){var h=e(this,c,g,m),f=e(this,d,g,m);return"M"+h.p0+a(h.r,h.p1,h.a1-h.a0)+(h.a0==f.a0&&h.a1==f.a1?"Q 0,0 "+h.p0:"Q 0,0 "+f.p0+a(f.r,f.p1,f.a1-f.a0)+
("Q 0,0 "+h.p0))+"Z"}function e(b,g,a,c){var d=g.call(b,a,c);g=m.call(b,d,c);a=h.call(b,d,c)+Oa;b=f.call(b,d,c)+Oa;return{r:g,a0:a,a1:b,p0:[g*Math.cos(a),g*Math.sin(a)],p1:[g*Math.cos(b),g*Math.sin(b)]}}function a(b,e,g){return"A"+b+","+b+" 0 "+ +(g>P)+",1 "+e}var c=gf,d=dc,m=Cg,h=Df,f=Xc;b.radius=function(e){if(!arguments.length)return m;m=fa(e);return b};b.source=function(e){if(!arguments.length)return c;c=fa(e);return b};b.target=function(e){if(!arguments.length)return d;d=fa(e);return b};b.startAngle=
function(e){if(!arguments.length)return h;h=fa(e);return b};b.endAngle=function(e){if(!arguments.length)return f;f=fa(e);return b};return b};v.svg.diagonal=function(){function b(g,d){var m=e.call(this,g,d),h=a.call(this,g,d),f=(m.y+h.y)/2,m=[m,{x:m.x,y:f},{x:h.x,y:f},h],m=m.map(c);return"M"+m[0]+"C"+m[1]+" "+m[2]+" "+m[3]}var e=gf,a=dc,c=wd;b.source=function(a){if(!arguments.length)return e;e=fa(a);return b};b.target=function(e){if(!arguments.length)return a;a=fa(e);return b};b.projection=function(e){if(!arguments.length)return c;
c=e;return b};return b};v.svg.diagonal.radial=function(){var b=v.svg.diagonal(),e=wd,a=b.projection;b.projection=function(b){return arguments.length?a(Ef(e=b)):e};return b};v.svg.symbol=function(){function b(g,c){return(Nh.get(e.call(this,g,c))||Ff)(a.call(this,g,c))}var e=Eg,a=Dg;b.type=function(a){if(!arguments.length)return e;e=fa(a);return b};b.size=function(e){if(!arguments.length)return a;a=fa(e);return b};return b};var Nh=v.map({circle:Ff,cross:function(b){b=Math.sqrt(b/5)/2;return"M"+-3*b+
","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(b){b=Math.sqrt(b/(2*Oh));var e=b*Oh;return"M0,"+-b+"L"+e+",0 0,"+b+" "+-e+",0Z"},square:function(b){b=Math.sqrt(b)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(b){b=Math.sqrt(b/Tg);var e=b*Tg/2;return"M0,"+e+"L"+b+","+-e+" "+-b+","+-e+"Z"},"triangle-up":function(b){b=Math.sqrt(b/Tg);var e=b*Tg/2;return"M0,"+-e+"L"+b+","+e+" "+-b+","+e+"Z"}});v.svg.symbolTypes=
Nh.keys();var Tg=Math.sqrt(3),Oh=Math.tan(30*N),ya=[],Mh=0,Bd,Kg;ya.call=W.call;ya.empty=W.empty;ya.node=W.node;ya.size=W.size;v.transition=function(b){return arguments.length?Bd?b.transition():b:Ad.transition()};v.transition.prototype=ya;ya.select=function(b){var e=this.id,a=[],c,d,m;b=A(b);for(var h=-1,f=this.length;++h<f;){a.push(c=[]);for(var l=this[h],u=-1,k=l.length;++u<k;)(m=l[u])&&(d=b.call(m,m.__data__,u,h))?("__data__"in m&&(d.__data__=m.__data__),Zc(d,u,e,m.__transition__[e]),c.push(d)):
c.push(null)}return Dc(a,e)};ya.selectAll=function(b){var e=this.id,a=[],c,d,m,h;b=D(b);for(var f=-1,l=this.length;++f<l;)for(var u=this[f],k=-1,n=u.length;++k<n;)if(c=u[k]){h=c.__transition__[e];d=b.call(c,c.__data__,k,f);a.push(c=[]);for(var t=-1,p=d.length;++t<p;)(m=d[t])&&Zc(m,t,e,h),c.push(m)}return Dc(a,e)};ya.filter=function(b){var e=[],a,c,d;"function"!==typeof b&&(b=Ua(b));for(var m=0,h=this.length;m<h;m++){e.push(a=[]);c=this[m];for(var f=0,l=c.length;f<l;f++)(d=c[f])&&b.call(d,d.__data__,
f,m)&&a.push(d)}return Dc(e,this.id)};ya.tween=function(b,e){var a=this.id;return 2>arguments.length?this.node().__transition__[a].tween.get(b):na(this,null==e?function(e){e.__transition__[a].tween.remove(b)}:function(c){c.__transition__[a].tween.set(b,e)})};ya.attr=function(b,e){function a(){this.removeAttribute(f)}function c(){this.removeAttributeNS(f.space,f.local)}function d(b){return null==b?a:(b+="",function(){var e=this.getAttribute(f),g;return e!==b&&(g=h(e,b),function(b){this.setAttribute(f,
g(b))})})}function m(b){return null==b?c:(b+="",function(){var e=this.getAttributeNS(f.space,f.local),g;return e!==b&&(g=h(e,b),function(b){this.setAttributeNS(f.space,f.local,g(b))})})}if(2>arguments.length){for(e in b)this.attr(e,b[e]);return this}var h="transform"==b?ng:gc,f=v.ns.qualify(b);return cb(this,"attr."+b,e,f.local?m:d)};ya.attrTween=function(b,e){function a(b,g){var c=e.call(this,b,g,this.getAttribute(d));return c&&function(b){this.setAttribute(d,c(b))}}function c(b,g){var a=e.call(this,
b,g,this.getAttributeNS(d.space,d.local));return a&&function(b){this.setAttributeNS(d.space,d.local,a(b))}}var d=v.ns.qualify(b);return this.tween("attr."+b,d.local?c:a)};ya.style=function(b,e,a){function c(){this.style.removeProperty(b)}var d=arguments.length;if(3>d){if("string"!==typeof b){2>d&&(e="");for(a in b)this.style(a,b[a],e);return this}a=""}return cb(this,"style."+b,e,function(e){return null==e?c:(e+="",function(){var c=Ba.getComputedStyle(this,null).getPropertyValue(b),d;return c!==e&&
(d=gc(c,e),function(e){this.style.setProperty(b,d(e),a)})})})};ya.styleTween=function(b,e,a){3>arguments.length&&(a="");return this.tween("style."+b,function(c,d){var m=e.call(this,c,d,Ba.getComputedStyle(this,null).getPropertyValue(b));return m&&function(e){this.style.setProperty(b,m(e),a)}})};ya.text=function(b){return cb(this,"text",b,Gf)};ya.remove=function(){return this.each("end.transition",function(){var b;2>this.__transition__.count&&(b=this.parentNode)&&b.removeChild(this)})};ya.ease=function(b){var e=
this.id;if(1>arguments.length)return this.node().__transition__[e].ease;"function"!==typeof b&&(b=v.ease.apply(v,arguments));return na(this,function(a){a.__transition__[e].ease=b})};ya.delay=function(b){var e=this.id;return na(this,"function"===typeof b?function(a,c,d){a.__transition__[e].delay=+b.call(a,a.__data__,c,d)}:(b=+b,function(a){a.__transition__[e].delay=b}))};ya.duration=function(b){var e=this.id;return na(this,"function"===typeof b?function(a,c,d){a.__transition__[e].duration=Math.max(1,
b.call(a,a.__data__,c,d))}:(b=Math.max(1,b),function(a){a.__transition__[e].duration=b}))};ya.each=function(b,e){var a=this.id;if(2>arguments.length){var c=Kg,d=Bd;Bd=a;na(this,function(e,c,d){Kg=e.__transition__[a];b.call(e,e.__data__,c,d)});Kg=c;Bd=d}else na(this,function(c){c=c.__transition__[a];(c.event||(c.event=v.dispatch("start","end"))).on(b,e)});return this};ya.transition=function(){for(var b=this.id,e=++Mh,a=[],c,d,m,h,f=0,l=this.length;f<l;f++){a.push(c=[]);d=this[f];for(var u=0,k=d.length;u<
k;u++){if(m=d[u])h=Object.create(m.__transition__[b]),h.delay+=h.duration,Zc(m,u,e,h);c.push(m)}}return Dc(a,e)};v.svg.axis=function(){function b(g){g.each(function(){var b=v.select(this),g=this.__chart__||e,u=this.__chart__=e.copy(),k=null==f?u.ticks?u.ticks.apply(u,h):u.domain():f,n=null==l?u.tickFormat?u.tickFormat.apply(u,h):xa:l,t=b.selectAll(".tick").data(k,u),k=t.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),p=v.transition(t.exit()).style("opacity",1E-6).remove(),
q=v.transition(t).style("opacity",1),z,r=td(u),b=b.selectAll(".domain").data([0]),b=(b.enter().append("path").attr("class","domain"),v.transition(b));k.append("line");k.append("text");var F=k.select("line"),E=q.select("line"),n=t.select("text").text(n),t=k.select("text"),L=q.select("text");switch(a){case "bottom":z=Be;F.attr("y2",c);t.attr("y",Math.max(c,0)+m);E.attr("x2",0).attr("y2",c);L.attr("x",0).attr("y",Math.max(c,0)+m);n.attr("dy",".71em").style("text-anchor","middle");b.attr("d","M"+r[0]+
","+d+"V0H"+r[1]+"V"+d);break;case "top":z=Be;F.attr("y2",-c);t.attr("y",-(Math.max(c,0)+m));E.attr("x2",0).attr("y2",-c);L.attr("x",0).attr("y",-(Math.max(c,0)+m));n.attr("dy","0em").style("text-anchor","middle");b.attr("d","M"+r[0]+","+-d+"V0H"+r[1]+"V"+-d);break;case "left":z=Hf;F.attr("x2",-c);t.attr("x",-(Math.max(c,0)+m));E.attr("x2",-c).attr("y2",0);L.attr("x",-(Math.max(c,0)+m)).attr("y",0);n.attr("dy",".32em").style("text-anchor","end");b.attr("d","M"+-d+","+r[0]+"H0V"+r[1]+"H"+-d);break;
case "right":z=Hf,F.attr("x2",c),t.attr("x",Math.max(c,0)+m),E.attr("x2",c).attr("y2",0),L.attr("x",Math.max(c,0)+m).attr("y",0),n.attr("dy",".32em").style("text-anchor","start"),b.attr("d","M"+d+","+r[0]+"H0V"+r[1]+"H"+d)}if(u.rangeBand)var C=u,B=C.rangeBand()/2,g=u=function(b){return C(b)+B};else g.rangeBand?g=u:p.call(z,u);k.call(z,g);q.call(z,u)})}var e=v.scale.linear(),a=Ph,c=6,d=6,m=3,h=[10],f=null,l;b.scale=function(a){if(!arguments.length)return e;e=a;return b};b.orient=function(e){if(!arguments.length)return a;
a=e in ei?e+"":Ph;return b};b.ticks=function(){if(!arguments.length)return h;h=arguments;return b};b.tickValues=function(e){if(!arguments.length)return f;f=e;return b};b.tickFormat=function(e){if(!arguments.length)return l;l=e;return b};b.tickSize=function(e){var a=arguments.length;if(!a)return c;c=+e;d=+arguments[a-1];return b};b.innerTickSize=function(e){if(!arguments.length)return c;c=+e;return b};b.outerTickSize=function(e){if(!arguments.length)return d;d=+e;return b};b.tickPadding=function(e){if(!arguments.length)return m;
m=+e;return b};b.tickSubdivide=function(){return arguments.length&&b};return b};var Ph="bottom",ei={top:1,right:1,bottom:1,left:1};v.svg.brush=function(){function b(m){m.each(function(){var m=v.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d),l=m.selectAll(".background").data([0]);l.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");m.selectAll(".extent").data([0]).enter().append("rect").attr("class",
"extent").style("cursor","move");var u=m.selectAll(".resize").data(z,xa);u.exit().remove();u.enter().append("g").attr("class",function(b){return"resize "+b}).style("cursor",function(b){return fi[b]}).append("rect").attr("x",function(b){return/[ew]$/.test(b)?-3:null}).attr("y",function(b){return/^[ns]/.test(b)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");u.style("display",b.empty()?"none":null);m=v.transition(m);l=v.transition(l);h&&(u=td(h),l.attr("x",u[0]).attr("width",
u[1]-u[0]),a(m));f&&(u=td(f),l.attr("y",u[0]).attr("height",u[1]-u[0]),c(m));e(m)})}function e(b){b.selectAll(".resize").attr("transform",function(b){return"translate("+u[+/e$/.test(b)]+","+k[+/^s/.test(b)]+")"})}function a(b){b.select(".extent").attr("x",u[0]);b.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function c(b){b.select(".extent").attr("y",k[0]);b.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function d(){function z(){var b=v.mouse(E),g=!1;A&&(b[0]+=A[0],
b[1]+=A[1]);U||(v.event.altKey?(Oa||(Oa=[(u[0]+u[1])/2,(k[0]+k[1])/2]),x[0]=u[+(b[0]<Oa[0])],x[1]=k[+(b[1]<Oa[1])]):Oa=null);J&&r(b,h,0)&&(a(B),g=!0);I&&r(b,f,1)&&(c(B),g=!0);g&&(e(B),C({type:"brush",mode:U?"move":"resize"}))}function r(b,e,a){var g=td(e);e=g[0];var c=g[1],g=x[a],d=a?k:u,m=d[1]-d[0];U&&(e-=g,c-=m+g);b=(a?q:p)?Math.max(e,Math.min(c,b[a])):b[a];U?e=(b+=g)+m:(Oa&&(g=Math.max(e,Math.min(c,2*Oa[a]-b))),g<b?(e=b,b=g):e=g);if(d[0]!=b||d[1]!=e)return a?t=null:n=null,d[0]=b,d[1]=e,!0}function F(){z();
B.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null);v.select("body").style("cursor",null);R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);Q();C({type:"brushend"})}var E=this,L=v.select(v.event.target),C=m.of(E,arguments),B=v.select(E),pa=L.datum(),J=!/^(n|s)$/.test(pa)&&h,I=!/^(e|w)$/.test(pa)&&f,U=L.classed("extent"),Q=lc(),Oa,x=v.mouse(E),A,R=v.select(Ba).on("keydown.brush",
function(){32==v.event.keyCode&&(U||(Oa=null,x[0]-=u[1],x[1]-=k[1],U=2),l())}).on("keyup.brush",function(){32==v.event.keyCode&&2==U&&(x[0]+=u[1],x[1]+=k[1],U=0,l())});if(v.event.changedTouches)R.on("touchmove.brush",z).on("touchend.brush",F);else R.on("mousemove.brush",z).on("mouseup.brush",F);B.interrupt().selectAll("*").interrupt();if(U)x[0]=u[0]-x[0],x[1]=k[0]-x[1];else if(pa){var Ua=+/w$/.test(pa),pa=+/^n/.test(pa);A=[u[1-Ua]-x[0],k[1-pa]-x[1]];x[0]=u[Ua];x[1]=k[pa]}else v.event.altKey&&(Oa=
x.slice());B.style("pointer-events","none").selectAll(".resize").style("display",null);v.select("body").style("cursor",L.style("cursor"));C({type:"brushstart"});z()}var m=I(b,"brushstart","brush","brushend"),h=null,f=null,u=[0,0],k=[0,0],n,t,p=!0,q=!0,z=uh[0];b.event=function(b){b.each(function(){var b=m.of(this,arguments),e={x:u,y:k,i:n,j:t},a=this.__chart__||e;this.__chart__=e;Bd?v.select(this).transition().each("start.brush",function(){n=a.i;t=a.j;u=a.x;k=a.y;b({type:"brushstart"})}).tween("brush:brush",
function(){var a=od(u,e.x),g=od(k,e.y);n=t=null;return function(c){u=e.x=a(c);k=e.y=g(c);b({type:"brush",mode:"resize"})}}).each("end.brush",function(){n=e.i;t=e.j;b({type:"brush",mode:"resize"});b({type:"brushend"})}):(b({type:"brushstart"}),b({type:"brush",mode:"resize"}),b({type:"brushend"}))})};b.x=function(e){if(!arguments.length)return h;h=e;z=uh[!h<<1|!f];return b};b.y=function(e){if(!arguments.length)return f;f=e;z=uh[!h<<1|!f];return b};b.clamp=function(e){if(!arguments.length)return h&&
f?[p,q]:h?p:f?q:null;h&&f?(p=!!e[0],q=!!e[1]):h?p=!!e:f&&(q=!!e);return b};b.extent=function(e){var a,c,d,m,l;if(!arguments.length)return h&&(n?(a=n[0],c=n[1]):(a=u[0],c=u[1],h.invert&&(a=h.invert(a),c=h.invert(c)),c<a&&(l=a,a=c,c=l))),f&&(t?(d=t[0],m=t[1]):(d=k[0],m=k[1],f.invert&&(d=f.invert(d),m=f.invert(m)),m<d&&(l=d,d=m,m=l))),h&&f?[[a,d],[c,m]]:h?[a,c]:f&&[d,m];h&&(a=e[0],c=e[1],f&&(a=a[0],c=c[0]),n=[a,c],h.invert&&(a=h(a),c=h(c)),c<a&&(l=a,a=c,c=l),a!=u[0]||c!=u[1])&&(u=[a,c]);f&&(d=e[0],m=
e[1],h&&(d=d[1],m=m[1]),t=[d,m],f.invert&&(d=f(d),m=f(m)),m<d&&(l=d,d=m,m=l),d!=k[0]||m!=k[1])&&(k=[d,m]);return b};b.clear=function(){b.empty()||(u=[0,0],k=[0,0],n=t=null);return b};b.empty=function(){return!!h&&u[0]==u[1]||!!f&&k[0]==k[1]};return v.rebind(b,m,"on")};var fi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},uh=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],K=v.time={},Pa=Date;Jb.prototype={getDate:function(){return this._.getUTCDate()},
getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Hc.setUTCDate.apply(this._,
arguments)},setDay:function(){Hc.setUTCDay.apply(this._,arguments)},setFullYear:function(){Hc.setUTCFullYear.apply(this._,arguments)},setHours:function(){Hc.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Hc.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Hc.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Hc.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Hc.setUTCSeconds.apply(this._,arguments)},setTime:function(){Hc.setTime.apply(this._,arguments)}};
var Hc=Date.prototype,vh="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),wh="Sun Mon Tue Wed Thu Fri Sat".split(" "),xh="January February March April May June July August September October November December".split(" "),yh="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");K.year=Ec(function(b){b=K.day(b);b.setMonth(0,1);return b},function(b,e){b.setFullYear(b.getFullYear()+e)},function(b){return b.getFullYear()});K.years=K.year.range;K.years.utc=K.year.utc.range;K.day=
Ec(function(b){var e=new Pa(2E3,0);e.setFullYear(b.getFullYear(),b.getMonth(),b.getDate());return e},function(b,e){b.setDate(b.getDate()+e)},function(b){return b.getDate()-1});K.days=K.day.range;K.days.utc=K.day.utc.range;K.dayOfYear=function(b){var e=K.year(b);return Math.floor((b-e-6E4*(b.getTimezoneOffset()-e.getTimezoneOffset()))/864E5)};"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ").forEach(function(b,e){b=b.toLowerCase();e=7-e;var a=K[b]=Ec(function(b){(b=K.day(b)).setDate(b.getDate()-
(b.getDay()+e)%7);return b},function(b,e){b.setDate(b.getDate()+7*Math.floor(e))},function(b){var a=K.year(b).getDay();return Math.floor((K.dayOfYear(b)+(a+e)%7)/7)-(a!==e)});K[b+"s"]=a.range;K[b+"s"].utc=a.utc.range;K[b+"OfYear"]=function(b){var a=K.year(b).getDay();return Math.floor((K.dayOfYear(b)+(a+e)%7)/7)}});K.week=K.sunday;K.weeks=K.sunday.range;K.weeks.utc=K.sunday.utc.range;K.weekOfYear=K.sundayOfYear;K.format=ta;var Qh=Qa(vh),gi=Fc(vh),Rh=Qa(wh),hi=Fc(wh),Sh=Qa(xh),ii=Fc(xh),Th=Qa(yh),
ji=Fc(yh),Uh=/^%/,Lh={"-":"",_:" ",0:"0"},Fg={a:function(b){return wh[b.getDay()]},A:function(b){return vh[b.getDay()]},b:function(b){return yh[b.getMonth()]},B:function(b){return xh[b.getMonth()]},c:ta("%a %b %e %X %Y"),d:function(b,e){return ua(b.getDate(),e,2)},e:function(b,e){return ua(b.getDate(),e,2)},H:function(b,e){return ua(b.getHours(),e,2)},I:function(b,e){return ua(b.getHours()%12||12,e,2)},j:function(b,e){return ua(1+K.dayOfYear(b),e,3)},L:function(b,e){return ua(b.getMilliseconds(),
e,3)},m:function(b,e){return ua(b.getMonth()+1,e,2)},M:function(b,e){return ua(b.getMinutes(),e,2)},p:function(b){return 12<=b.getHours()?"PM":"AM"},S:function(b,e){return ua(b.getSeconds(),e,2)},U:function(b,e){return ua(K.sundayOfYear(b),e,2)},w:function(b){return b.getDay()},W:function(b,e){return ua(K.mondayOfYear(b),e,2)},x:ta("%m/%d/%Y"),X:ta("%H:%M:%S"),y:function(b,e){return ua(b.getFullYear()%100,e,2)},Y:function(b,e){return ua(b.getFullYear()%1E4,e,4)},Z:function(b){var e=b.getTimezoneOffset();
b=0<e?"-":"+";var a=~~(O(e)/60),e=O(e)%60;return b+ua(a,"0",2)+ua(e,"0",2)},"%":function(){return"%"}},bi={a:function(b,e,a){Rh.lastIndex=0;return(e=Rh.exec(e.substring(a)))?(b.w=hi.get(e[0].toLowerCase()),a+e[0].length):-1},A:function(b,e,a){Qh.lastIndex=0;return(e=Qh.exec(e.substring(a)))?(b.w=gi.get(e[0].toLowerCase()),a+e[0].length):-1},b:function(b,e,a){Th.lastIndex=0;return(e=Th.exec(e.substring(a)))?(b.m=ji.get(e[0].toLowerCase()),a+e[0].length):-1},B:function(b,e,a){Sh.lastIndex=0;return(e=
Sh.exec(e.substring(a)))?(b.m=ii.get(e[0].toLowerCase()),a+e[0].length):-1},c:function(b,e,a){return $c(b,Fg.c.toString(),e,a)},d:Xb,e:Xb,H:ma,I:ma,j:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,a+3)))?(b.j=+e[0],a+e[0].length):-1},L:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,a+3)))?(b.L=+e[0],a+e[0].length):-1},m:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,a+2)))?(b.m=e[0]-1,a+e[0].length):-1},M:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,
a+2)))?(b.M=+e[0],a+e[0].length):-1},p:function(b,e,a){e=ki.get(e.substring(a,a+=2).toLowerCase());return null==e?-1:(b.p=e,a)},S:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,a+2)))?(b.S=+e[0],a+e[0].length):-1},U:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a)))?(b.U=+e[0],a+e[0].length):-1},w:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,a+1)))?(b.w=+e[0],a+e[0].length):-1},W:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a)))?(b.W=+e[0],
a+e[0].length):-1},x:function(b,e,a){return $c(b,Fg.x.toString(),e,a)},X:function(b,e,a){return $c(b,Fg.X.toString(),e,a)},y:function(b,e,a){la.lastIndex=0;if(e=la.exec(e.substring(a,a+2))){var c=+e[0];b=(b.y=c+(68<c?1900:2E3),a+e[0].length)}else b=-1;return b},Y:function(b,e,a){la.lastIndex=0;return(e=la.exec(e.substring(a,a+4)))?(b.y=+e[0],a+e[0].length):-1},Z:function(b,e,a){return/^[+-]\d{4}$/.test(e=e.substring(a,a+5))?(b.Z=+e,a+5):-1},"%":function(b,e,a){Uh.lastIndex=0;return(b=Uh.exec(e.substring(a,
a+1)))?a+b[0].length:-1}},la=/^\s*\d+/,ki=v.map({am:0,pm:1});ta.utc=Kb;var Vh=Kb("%Y-%m-%dT%H:%M:%S.%LZ");ta.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?If:Vh;If.parse=function(b){b=new Date(b);return isNaN(b)?null:b};If.toString=Vh.toString;K.second=Ec(function(b){return new Pa(1E3*Math.floor(b/1E3))},function(b,e){b.setTime(b.getTime()+1E3*Math.floor(e))},function(b){return b.getSeconds()});K.seconds=K.second.range;K.seconds.utc=K.second.utc.range;K.minute=Ec(function(b){return new Pa(6E4*
Math.floor(b/6E4))},function(b,e){b.setTime(b.getTime()+6E4*Math.floor(e))},function(b){return b.getMinutes()});K.minutes=K.minute.range;K.minutes.utc=K.minute.utc.range;K.hour=Ec(function(b){var e=b.getTimezoneOffset()/60;return new Pa(36E5*(Math.floor(b/36E5-e)+e))},function(b,e){b.setTime(b.getTime()+36E5*Math.floor(e))},function(b){return b.getHours()});K.hours=K.hour.range;K.hours.utc=K.hour.utc.range;K.month=Ec(function(b){b=K.day(b);b.setDate(1);return b},function(b,e){b.setMonth(b.getMonth()+
e)},function(b){return b.getMonth()});K.months=K.month.range;K.months.utc=K.month.utc.range;var Gg=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],zh=[[K.second,1],[K.second,5],[K.second,15],[K.second,30],[K.minute,1],[K.minute,5],[K.minute,15],[K.minute,30],[K.hour,1],[K.hour,3],[K.hour,6],[K.hour,12],[K.day,1],[K.day,2],[K.week,1],[K.month,1],[K.month,3],[K.year,1]],li=[[ta("%Y"),Db],[ta("%B"),function(b){return b.getMonth()}],[ta("%b %d"),function(b){return 1!=
b.getDate()}],[ta("%a %d"),function(b){return b.getDay()&&1!=b.getDate()}],[ta("%I %p"),function(b){return b.getHours()}],[ta("%I:%M"),function(b){return b.getMinutes()}],[ta(":%S"),function(b){return b.getSeconds()}],[ta(".%L"),function(b){return b.getMilliseconds()}]],mi=Jf(li);zh.year=K.year;K.scale=function(){return Fa(v.scale.linear(),zh,mi)};var ci={range:function(b,e,a){return v.range(+b,+e,a).map(Gc)},floor:xa,ceil:xa},Wh=zh.map(function(b){return[b[0].utc,b[1]]}),ni=[[Kb("%Y"),Db],[Kb("%B"),
function(b){return b.getUTCMonth()}],[Kb("%b %d"),function(b){return 1!=b.getUTCDate()}],[Kb("%a %d"),function(b){return b.getUTCDay()&&1!=b.getUTCDate()}],[Kb("%I %p"),function(b){return b.getUTCHours()}],[Kb("%I:%M"),function(b){return b.getUTCMinutes()}],[Kb(":%S"),function(b){return b.getUTCSeconds()}],[Kb(".%L"),function(b){return b.getUTCMilliseconds()}]],oi=Jf(ni);Wh.year=K.year.utc;K.scale.utc=function(){return Fa(v.scale.linear(),Wh,oi)};v.text=ed(function(b){return b.responseText});v.json=
function(b,e){return Kd(b,"application/json",Hg,e)};v.html=function(b,e){return Kd(b,"text/html",Ig,e)};v.xml=ed(function(b){return b.responseXML});return v}()},{}],15:[function(A,D,x){A("./d3");D.exports=d3;(function(){delete this.d3})()},{"./d3":14}],16:[function(A,D,x){function k(){var c;try{c=x.storage.debug}catch(a){}return c}x=D.exports=A("./debug");x.log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)};x.formatArgs=function(){var c=
arguments,a=this.useColors;c[0]=(a?"%c":"")+this.namespace+(a?" %c":" ")+c[0]+(a?"%c ":" ")+"+"+x.humanize(this.diff);if(!a)return c;var a="color: "+this.color,c=[c[0],a,"color: inherit"].concat(Array.prototype.slice.call(c,1)),d=0,h=0;c[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(d++,"%c"===a&&(h=d))});c.splice(h,0,a);return c};x.save=function(c){try{null==c?x.storage.removeItem("debug"):x.storage.debug=c}catch(a){}};x.load=k;x.useColors=function(){return"WebkitAppearance"in document.documentElement.style||
window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};var f;if("undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage)f=chrome.storage.local;else a:{try{f=window.localStorage;break a}catch(c){}f=void 0}x.storage=f;x.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");x.formatters.j=function(c){return JSON.stringify(c)};x.enable(k())},{"./debug":17}],17:[function(A,
D,x){x=D.exports=function(c){function a(){}function d(){var a=+new Date;d.diff=a-(f||a);d.prev=f;f=d.curr=a;null==d.useColors&&(d.useColors=x.useColors());null==d.color&&d.useColors&&(d.color=x.colors[k++%x.colors.length]);var c=Array.prototype.slice.call(arguments);c[0]=x.coerce(c[0]);"string"!==typeof c[0]&&(c=["%o"].concat(c));var h=0;c[0]=c[0].replace(/%([a-z%])/g,function(a,f){if("%%"===a)return a;h++;var k=x.formatters[f];"function"===typeof k&&(a=k.call(d,c[h]),c.splice(h,1),h--);return a});
"function"===typeof x.formatArgs&&(c=x.formatArgs.apply(d,c));(d.log||x.log||console.log.bind(console)).apply(d,c)}a.enabled=!1;d.enabled=!0;var h=x.enabled(c)?d:a;h.namespace=c;return h};x.coerce=function(c){return c instanceof Error?c.stack||c.message:c};x.disable=function(){x.enable("")};x.enable=function(c){x.save(c);for(var a=(c||"").split(/[\s,]+/),d=a.length,h=0;h<d;h++)a[h]&&(c=a[h].replace(/\*/g,".*?"),"-"===c[0]?x.skips.push(new RegExp("^"+c.substr(1)+"$")):x.names.push(new RegExp("^"+c+
"$")))};x.enabled=function(c){var a,d;a=0;for(d=x.skips.length;a<d;a++)if(x.skips[a].test(c))return!1;a=0;for(d=x.names.length;a<d;a++)if(x.names[a].test(c))return!0;return!1};x.humanize=A("ms");x.names=[];x.skips=[];x.formatters={};var k=0,f},{ms:40}],18:[function(A,D,x){D.exports=A("./lib/")},{"./lib/":19}],19:[function(A,D,x){D.exports=A("./socket");D.exports.parser=A("engine.io-parser")},{"./socket":20,"engine.io-parser":29}],20:[function(A,D,x){(function(k){function f(a,c){if(!(this instanceof
f))return new f(a,c);c=c||{};a&&"object"==typeof a&&(c=a,a=null);a?(a=p(a),c.hostname=a.host,c.secure="https"==a.protocol||"wss"==a.protocol,c.port=a.port,a.query&&(c.query=a.query)):c.host&&(c.hostname=p(c.host).host);this.secure=null!=c.secure?c.secure:k.location&&"https:"==location.protocol;c.hostname&&!c.port&&(c.port=this.secure?"443":"80");this.agent=c.agent||!1;this.hostname=c.hostname||(k.location?location.hostname:"localhost");this.port=c.port||(k.location&&location.port?location.port:this.secure?
443:80);this.query=c.query||{};"string"==typeof this.query&&(this.query=r.decode(this.query));this.upgrade=!1!==c.upgrade;this.path=(c.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!c.forceJSONP;this.jsonp=!1!==c.jsonp;this.forceBase64=!!c.forceBase64;this.enablesXDR=!!c.enablesXDR;this.timestampParam=c.timestampParam||"t";this.timestampRequests=c.timestampRequests;this.transports=c.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.policyPort=c.policyPort||
843;this.rememberUpgrade=c.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=c.onlyBinaryUpgrades;this.perMessageDeflate=!1!==c.perMessageDeflate?c.perMessageDeflate||{}:!1;!0===this.perMessageDeflate&&(this.perMessageDeflate={});this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024);this.pfx=c.pfx||null;this.key=c.key||null;this.passphrase=c.passphrase||null;this.cert=c.cert||null;this.ca=c.ca||null;this.ciphers=c.ciphers||null;this.rejectUnauthorized=
void 0===c.rejectUnauthorized?null:c.rejectUnauthorized;var d="object"==typeof k&&k;d.global===d&&c.extraHeaders&&0<Object.keys(c.extraHeaders).length&&(this.extraHeaders=c.extraHeaders);this.open()}var c=A("./transports"),a=A("component-emitter"),d=A("debug")("engine.io-client:socket"),h=A("indexof"),n=A("engine.io-parser"),p=A("parseuri"),C=A("parsejson"),r=A("parseqs");D.exports=f;f.priorWebsocketSuccess=!1;a(f.prototype);f.protocol=n.protocol;f.Socket=f;f.Transport=A("./transport");f.transports=
A("./transports");f.parser=A("engine.io-parser");f.prototype.createTransport=function(a){d('creating transport "%s"',a);var h=this.query,f={},k;for(k in h)h.hasOwnProperty(k)&&(f[k]=h[k]);f.EIO=n.protocol;f.transport=a;this.id&&(f.sid=this.id);return new c[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:f,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,
policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})};f.prototype.open=function(){var a;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var c=this;setTimeout(function(){c.emit("error","No transports available")},
0);return}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(d){this.transports.shift();this.open();return}a.open();this.setTransport(a)};f.prototype.setTransport=function(a){d("setting transport %s",a.name);var c=this;this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){c.onDrain()}).on("packet",function(a){c.onPacket(a)}).on("error",function(a){c.onError(a)}).on("close",
function(){c.onClose("transport close")})};f.prototype.probe=function(a){function c(){if(Q.onlyBinaryUpgrades){var h=!this.supportsBinary&&Q.transport.supportsBinary;C=C||h}C||(d('probe transport "%s" opened',a),E.send([{type:"ping",data:"probe"}]),E.once("packet",function(c){C||("pong"==c.type&&"probe"==c.data?(d('probe transport "%s" pong',a),Q.upgrading=!0,Q.emit("upgrading",E),E&&(f.priorWebsocketSuccess="websocket"==E.name,d('pausing current transport "%s"',Q.transport.name),Q.transport.pause(function(){C||
"closed"==Q.readyState||(d("changing transport and sending upgrade packet"),t(),Q.setTransport(E),E.send([{type:"upgrade"}]),Q.emit("upgrade",E),E=null,Q.upgrading=!1,Q.flush())}))):(d('probe transport "%s" failed',a),c=Error("probe error"),c.transport=E.name,Q.emit("upgradeError",c)))}))}function h(){C||(C=!0,t(),E.close(),E=null)}function k(c){var f=Error("probe error: "+c);f.transport=E.name;h();d('probe transport "%s" failed because of error: %s',a,c);Q.emit("upgradeError",f)}function n(){k("transport closed")}
function p(){k("socket closed")}function r(a){E&&a.name!=E.name&&(d('"%s" works - aborting "%s"',a.name,E.name),h())}function t(){E.removeListener("open",c);E.removeListener("error",k);E.removeListener("close",n);Q.removeListener("close",p);Q.removeListener("upgrading",r)}d('probing transport "%s"',a);var E=this.createTransport(a,{probe:1}),C=!1,Q=this;f.priorWebsocketSuccess=!1;E.once("open",c);E.once("error",k);E.once("close",n);this.once("close",p);this.once("upgrading",r);E.open()};f.prototype.onOpen=
function(){d("socket open");this.readyState="open";f.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){d("starting upgrade probes");for(var a=0,c=this.upgrades.length;a<c;a++)this.probe(this.upgrades[a])}};f.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(d('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),
a.type){case "open":this.onHandshake(C(a.data));break;case "pong":this.setPing();this.emit("pong");break;case "error":var c=Error("server error");c.code=a.data;this.onError(c);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else d('packet received with socket readyState "%s"',this.readyState)};f.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;
this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};f.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};f.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){d("writing ping packet - expecting pong within %sms",
a.pingTimeout);a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};f.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})};f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0===this.writeBuffer.length?this.emit("drain"):this.flush()};f.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(d("flushing %d packets in socket",this.writeBuffer.length),
this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};f.prototype.write=f.prototype.send=function(a,c,d){this.sendPacket("message",a,c,d);return this};f.prototype.sendPacket=function(a,c,d,h){"function"==typeof c&&(h=c,c=void 0);"function"==typeof d&&(h=d,d=null);if("closing"!=this.readyState&&"closed"!=this.readyState){d=d||{};d.compress=!1!==d.compress;a={type:a,data:c,options:d};this.emit("packetCreate",a);this.writeBuffer.push(a);if(h)this.once("flush",
h);this.flush()}};f.prototype.close=function(){function a(){f.onClose("forced close");d("socket closing - telling transport to close");f.transport.close()}function c(){f.removeListener("upgrade",c);f.removeListener("upgradeError",c);a()}function h(){f.once("upgrade",c);f.once("upgradeError",c)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var f=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?h():a()});else this.upgrading?h():a()}return this};
f.prototype.onError=function(a){d("socket error %j",a);f.priorWebsocketSuccess=!1;this.emit("error",a);this.onClose("transport error",a)};f.prototype.onClose=function(a,c){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState)d('socket close with reason: "%s"',a),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=
null,this.emit("close",a,c),this.writeBuffer=[],this.prevBufferLen=0};f.prototype.filterUpgrades=function(a){for(var c=[],d=0,f=a.length;d<f;d++)~h(this.transports,a[d])&&c.push(a[d]);return c}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":21,"./transports":22,"component-emitter":28,debug:16,"engine.io-parser":29,indexof:36,parsejson:41,parseqs:42,parseuri:43}],21:[function(A,D,x){function k(c){this.path=c.path;
this.hostname=c.hostname;this.port=c.port;this.secure=c.secure;this.query=c.query;this.timestampParam=c.timestampParam;this.timestampRequests=c.timestampRequests;this.readyState="";this.agent=c.agent||!1;this.socket=c.socket;this.enablesXDR=c.enablesXDR;this.pfx=c.pfx;this.key=c.key;this.passphrase=c.passphrase;this.cert=c.cert;this.ca=c.ca;this.ciphers=c.ciphers;this.rejectUnauthorized=c.rejectUnauthorized;this.extraHeaders=c.extraHeaders}var f=A("engine.io-parser");A=A("component-emitter");D.exports=
k;A(k.prototype);k.prototype.onError=function(c,a){var d=Error(c);d.type="TransportError";d.description=a;this.emit("error",d);return this};k.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};k.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};k.prototype.send=function(c){if("open"==this.readyState)this.write(c);else throw Error("Transport not open");
};k.prototype.onOpen=function(){this.readyState="open";this.writable=!0;this.emit("open")};k.prototype.onData=function(c){c=f.decodePacket(c,this.socket.binaryType);this.onPacket(c)};k.prototype.onPacket=function(c){this.emit("packet",c)};k.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":28,"engine.io-parser":29}],22:[function(A,D,x){(function(k){var f=A("xmlhttprequest-ssl"),c=A("./polling-xhr"),a=A("./polling-jsonp"),d=A("./websocket");x.polling=function(d){var n=
!1,p=!1,C=!1!==d.jsonp;k.location&&(p="https:"==location.protocol,(n=location.port)||(n=p?443:80),n=d.hostname!=location.hostname||n!=d.port,p=d.secure!=p);d.xdomain=n;d.xscheme=p;if("open"in new f(d)&&!d.forceJSONP)return new c(d);if(!C)throw Error("JSONP disabled");return new a(d)};x.websocket=d}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":23,"./polling-xhr":24,"./websocket":26,"xmlhttprequest-ssl":27}],
23:[function(A,D,x){(function(k){function f(){}function c(c){a.call(this,c);this.query=this.query||{};p||(k.___eio||(k.___eio=[]),p=k.___eio);this.index=p.length;var d=this;p.push(function(a){d.onData(a)});this.query.j=this.index;k.document&&k.addEventListener&&k.addEventListener("beforeunload",function(){d.script&&(d.script.onerror=f)},!1)}var a=A("./polling"),d=A("component-inherit");D.exports=c;var h=/\n/g,n=/\\n/g,p;d(c,a);c.prototype.supportsBinary=!1;c.prototype.doClose=function(){this.script&&
(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null);a.prototype.doClose.call(this)};c.prototype.doPoll=function(){var a=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",c)};var d=document.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(c,
d):(document.head||document.body).appendChild(c);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a);document.body.removeChild(a)},100)};c.prototype.doWrite=function(a,c){function d(){f();c()}function f(){if(k.iframe)try{k.form.removeChild(k.iframe)}catch(a){k.onError("jsonp polling iframe removal error",a)}try{R=document.createElement('<iframe src="javascript:0" name="'+k.iframeId+
'">')}catch(a){R=document.createElement("iframe"),R.name=k.iframeId,R.src="javascript:0"}R.id=k.iframeId;k.form.appendChild(R);k.iframe=R}var k=this;if(!this.form){var p=document.createElement("form"),x=document.createElement("textarea"),A=this.iframeId="eio_iframe_"+this.index,R;p.className="socketio";p.style.position="absolute";p.style.top="-1000px";p.style.left="-1000px";p.target=A;p.method="POST";p.setAttribute("accept-charset","utf-8");x.name="d";p.appendChild(x);document.body.appendChild(p);
this.form=p;this.area=x}this.form.action=this.uri();f();a=a.replace(n,"\\\n");this.area.value=a.replace(h,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==k.iframe.readyState&&d()}:this.iframe.onload=d}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":25,"component-inherit":13}],24:[function(A,D,x){(function(k){function f(){}function c(a){n.call(this,
a);if(k.location){var c="https:"==location.protocol,d=location.port;d||(d=c?443:80);this.xd=a.hostname!=k.location.hostname||d!=a.port;this.xs=a.secure!=c}else this.extraHeaders=a.extraHeaders}function a(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;
this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.extraHeaders=a.extraHeaders;this.create()}function d(){for(var c in a.requests)a.requests.hasOwnProperty(c)&&a.requests[c].abort()}var h=A("xmlhttprequest-ssl"),n=A("./polling"),p=A("component-emitter"),C=A("component-inherit"),r=A("debug")("engine.io-client:polling-xhr");D.exports=c;D.exports.Request=a;C(c,n);c.prototype.supportsBinary=!0;c.prototype.request=function(c){c=c||{};c.uri=this.uri();
c.xd=this.xd;c.xs=this.xs;c.agent=this.agent||!1;c.supportsBinary=this.supportsBinary;c.enablesXDR=this.enablesXDR;c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;c.extraHeaders=this.extraHeaders;return new a(c)};c.prototype.doWrite=function(a,c){var d=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),h=this;d.on("success",c);d.on("error",function(a){h.onError("xhr post error",
a)});this.sendXhr=d};c.prototype.doPoll=function(){r("xhr poll");var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",function(a){c.onError("xhr poll error",a)});this.pollXhr=a};p(a.prototype);a.prototype.create=function(){var c={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;var d=this.xhr=
new h(c),f=this;try{r("xhr open %s: %s",this.method,this.uri);d.open(this.method,this.uri,this.async);try{if(this.extraHeaders){d.setDisableHeaderCheck(!0);for(var n in this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&d.setRequestHeader(n,this.extraHeaders[n])}}catch(p){}this.supportsBinary&&(d.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?d.setRequestHeader("Content-type","application/octet-stream"):d.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(p){}"withCredentials"in
d&&(d.withCredentials=!0);this.hasXDR()?(d.onload=function(){f.onLoad()},d.onerror=function(){f.onError(d.responseText)}):d.onreadystatechange=function(){if(4==d.readyState)if(200==d.status||1223==d.status)f.onLoad();else setTimeout(function(){f.onError(d.status)},0)};r("xhr data %s",this.data);d.send(this.data)}catch(p){setTimeout(function(){f.onError(p)},0);return}k.document&&(this.index=a.requestsCount++,a.requests[this.index]=this)};a.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
a.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};a.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};a.prototype.cleanup=function(c){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=f:this.xhr.onreadystatechange=f;if(c)try{this.xhr.abort()}catch(d){}k.document&&delete a.requests[this.index];this.xhr=null}};a.prototype.onLoad=function(){var a;try{var c;try{c=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(d){}if("application/octet-stream"===
c)a=this.xhr.response;else if(this.supportsBinary)try{a=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(d){var h=new Uint8Array(this.xhr.response);c=[];for(var f=0,k=h.length;f<k;f++)c.push(h[f]);a=String.fromCharCode.apply(null,c)}else a=this.xhr.responseText}catch(d){this.onError(d)}if(null!=a)this.onData(a)};a.prototype.hasXDR=function(){return"undefined"!==typeof k.XDomainRequest&&!this.xs&&this.enablesXDR};a.prototype.abort=function(){this.cleanup()};k.document&&(a.requestsCount=
0,a.requests={},k.attachEvent?k.attachEvent("onunload",d):k.addEventListener&&k.addEventListener("beforeunload",d,!1))}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":25,"component-emitter":28,"component-inherit":13,debug:16,"xmlhttprequest-ssl":27}],25:[function(A,D,x){function k(a){var c=a&&a.forceBase64;if(!n||c)this.supportsBinary=!1;f.call(this,a)}var f=A("../transport"),c=A("parseqs"),a=A("engine.io-parser");
x=A("component-inherit");var d=A("yeast"),h=A("debug")("engine.io-client:polling");D.exports=k;var n=null!=(new (A("xmlhttprequest-ssl"))({xdomain:!1})).responseType;x(k,f);k.prototype.name="polling";k.prototype.doOpen=function(){this.poll()};k.prototype.pause=function(a){function c(){h("paused");d.readyState="paused";a()}var d=this;this.readyState="pausing";if(this.polling||!this.writable){var f=0;this.polling&&(h("we are currently polling - waiting to pause"),f++,this.once("pollComplete",function(){h("pre-pause polling complete");
--f||c()}));this.writable||(h("we are currently writing - waiting to pause"),f++,this.once("drain",function(){h("pre-pause writing complete");--f||c()}))}else c()};k.prototype.poll=function(){h("polling");this.polling=!0;this.doPoll();this.emit("poll")};k.prototype.onData=function(c){var d=this;h("polling got data %s",c);a.decodePayload(c,this.socket.binaryType,function(a,c,h){if("opening"==d.readyState)d.onOpen();if("close"==a.type)return d.onClose(),!1;d.onPacket(a)});"closed"!=this.readyState&&
(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():h('ignoring poll - transport state "%s"',this.readyState))};k.prototype.doClose=function(){function a(){h("writing close packet");c.write([{type:"close"}])}var c=this;"open"==this.readyState?(h("transport open - closing"),a()):(h("transport not open - deferring close"),this.once("open",a))};k.prototype.write=function(c){var d=this;this.writable=!1;var h=function(){d.writable=!0;d.emit("drain")},d=this;a.encodePayload(c,
this.supportsBinary,function(a){d.doWrite(a,h)})};k.prototype.uri=function(){var a=this.query||{},h=this.secure?"https":"http",f="";!1!==this.timestampRequests&&(a[this.timestampParam]=d());this.supportsBinary||a.sid||(a.b64=1);a=c.encode(a);this.port&&("https"==h&&443!=this.port||"http"==h&&80!=this.port)&&(f=":"+this.port);a.length&&(a="?"+a);var k=-1!==this.hostname.indexOf(":");return h+"://"+(k?"["+this.hostname+"]":this.hostname)+f+this.path+a}},{"../transport":21,"component-inherit":13,debug:16,
"engine.io-parser":29,parseqs:42,"xmlhttprequest-ssl":27,yeast:64}],26:[function(A,D,x){(function(k){function f(a){a&&a.forceBase64&&(this.supportsBinary=!1);this.perMessageDeflate=a.perMessageDeflate;c.call(this,a)}var c=A("../transport"),a=A("engine.io-parser"),d=A("parseqs"),h=A("component-inherit"),n=A("yeast"),p=A("debug")("engine.io-client:websocket"),C=k.WebSocket||k.MozWebSocket,r=C;if(!r&&"undefined"===typeof window)try{r=A("ws")}catch(l){}D.exports=f;h(f,c);f.prototype.name="websocket";
f.prototype.supportsBinary=!0;f.prototype.doOpen=function(){if(this.check()){var a=this.uri(),c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;this.extraHeaders&&(c.headers=this.extraHeaders);this.ws=C?new r(a):new r(a,void 0,c);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=
!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer";this.addEventListeners()}};f.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(f.prototype.onData=function(a){var d=this;setTimeout(function(){c.prototype.onData.call(d,a)},
0)});f.prototype.write=function(c){function d(){h.emit("flush");setTimeout(function(){h.writable=!0;h.emit("drain")},0)}var h=this;this.writable=!1;for(var f=c.length,n=0,r=f;n<r;n++)(function(c){a.encodePacket(c,h.supportsBinary,function(a){if(!C){var l={};c.options&&(l.compress=c.options.compress);h.perMessageDeflate&&("string"==typeof a?k.Buffer.byteLength(a):a.length)<h.perMessageDeflate.threshold&&(l.compress=!1)}try{C?h.ws.send(a):h.ws.send(a,l)}catch(n){p("websocket closed before onclose event")}--f||
d()})})(c[n])};f.prototype.onClose=function(){c.prototype.onClose.call(this)};f.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};f.prototype.uri=function(){var a=this.query||{},c=this.secure?"wss":"ws",h="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(h=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=n());this.supportsBinary||(a.b64=1);a=d.encode(a);a.length&&(a="?"+a);var f=-1!==this.hostname.indexOf(":");return c+"://"+(f?"["+this.hostname+
"]":this.hostname)+h+this.path+a};f.prototype.check=function(){return!!r&&!("__initialize"in r&&this.name===f.prototype.name)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"../transport":21,"component-inherit":13,debug:16,"engine.io-parser":29,parseqs:42,ws:9,yeast:64}],27:[function(A,D,x){var k=A("has-cors");D.exports=function(f){var c=f.xdomain,a=f.xscheme;f=f.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||k))return new XMLHttpRequest}catch(d){}try{if("undefined"!=
typeof XDomainRequest&&!a&&f)return new XDomainRequest}catch(d){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(d){}}},{"has-cors":35}],28:[function(A,D,x){function k(f){if(f){for(var c in k.prototype)f[c]=k.prototype[c];return f}}D.exports=k;k.prototype.on=k.prototype.addEventListener=function(f,c){this._callbacks=this._callbacks||{};(this._callbacks[f]=this._callbacks[f]||[]).push(c);return this};k.prototype.once=function(f,c){function a(){d.off(f,a);c.apply(this,arguments)}var d=
this;this._callbacks=this._callbacks||{};a.fn=c;this.on(f,a);return this};k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(f,c){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var a=this._callbacks[f];if(!a)return this;if(1==arguments.length)return delete this._callbacks[f],this;for(var d,h=0;h<a.length;h++)if(d=a[h],d===c||d.fn===c){a.splice(h,1);break}return this};k.prototype.emit=function(f){this._callbacks=
this._callbacks||{};var c=[].slice.call(arguments,1),a=this._callbacks[f];if(a)for(var a=a.slice(0),d=0,h=a.length;d<h;++d)a[d].apply(this,c);return this};k.prototype.listeners=function(f){this._callbacks=this._callbacks||{};return this._callbacks[f]||[]};k.prototype.hasListeners=function(f){return!!this.listeners(f).length}},{}],29:[function(A,D,x){(function(k){function f(a,c,d){if(!c)return x.encodeBase64Packet(a,d);var h=new FileReader;h.onload=function(){a.data=h.result;x.encodePacket(a,c,!0,
d)};return h.readAsArrayBuffer(a.data)}function c(a,c,d){var h=Array(a.length);d=p(a.length,d);for(var f=function(a,d,f){c(d,function(c,d){h[a]=d;f(c,h)})},k=0;k<a.length;k++)f(k,a[k],d)}var a=A("./keys"),d=A("has-binary"),h=A("arraybuffer.slice"),n=A("base64-arraybuffer"),p=A("after"),C=A("utf8"),r=navigator.userAgent.match(/Android/i),l=/PhantomJS/i.test(navigator.userAgent),z=r||l;x.protocol=3;var I=x.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},D=a(I),X={type:"error",data:"parser error"},
ga=A("blob");x.encodePacket=function(a,c,d,h){"function"==typeof c&&(h=c,c=!1);"function"==typeof d&&(h=d,d=null);var l=void 0===a.data?void 0:a.data.buffer||a.data;if(k.ArrayBuffer&&l instanceof ArrayBuffer){if(c){d=a.data;c=new Uint8Array(d);d=new Uint8Array(1+d.byteLength);d[0]=I[a.type];for(a=0;a<c.length;a++)d[a+1]=c[a];a=h(d.buffer)}else a=x.encodeBase64Packet(a,h);return a}if(ga&&l instanceof k.Blob)return c?z?a=f(a,c,h):(c=new Uint8Array(1),c[0]=I[a.type],a=new ga([c.buffer,a.data]),a=h(a)):
a=x.encodeBase64Packet(a,h),a;if(l&&l.base64)return h("b"+x.packets[a.type]+a.data.data);c=I[a.type];void 0!==a.data&&(c+=d?C.encode(String(a.data)):String(a.data));return h(""+c)};x.encodeBase64Packet=function(a,c){var d="b"+x.packets[a.type];if(ga&&a.data instanceof k.Blob){var h=new FileReader;h.onload=function(){var a=h.result.split(",")[1];c(d+a)};return h.readAsDataURL(a.data)}var f;try{f=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(l){f=new Uint8Array(a.data);for(var n=Array(f.length),
p=0;p<f.length;p++)n[p]=f[p];f=String.fromCharCode.apply(null,n)}d+=k.btoa(f);return c(d)};x.decodePacket=function(a,c,d){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return x.decodeBase64Packet(a.substr(1),c);if(d)try{a=C.decode(a)}catch(f){return X}d=a.charAt(0);return Number(d)==d&&D[d]?1<a.length?{type:D[d],data:a.substring(1)}:{type:D[d]}:X}d=(new Uint8Array(a))[0];a=h(a,1);ga&&"blob"===c&&(a=new ga([a]));return{type:D[d],data:a}};x.decodeBase64Packet=function(a,c){var d=D[a.charAt(0)];
if(!k.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var h=n.decode(a.substr(1));"blob"===c&&ga&&(h=new ga([h]));return{type:d,data:h}};x.encodePayload=function(a,h,f){"function"==typeof h&&(f=h,h=null);var k=d(a);if(h&&k)return ga&&!z?x.encodePayloadAsBlob(a,f):x.encodePayloadAsArrayBuffer(a,f);if(!a.length)return f("0:");c(a,function(a,c){x.encodePacket(a,k?h:!1,!0,function(a){c(null,a.length+":"+a)})},function(a,c){return f(c.join(""))})};x.decodePayload=function(a,c,d){if("string"!=
typeof a)return x.decodePayloadAsBinary(a,c,d);"function"===typeof c&&(d=c,c=null);var h;if(""==a)return d(X,0,1);h="";for(var f,k,l=0,n=a.length;l<n;l++)if(k=a.charAt(l),":"!=k)h+=k;else{if(""==h||h!=(f=Number(h)))return d(X,0,1);k=a.substr(l+1,f);if(h!=k.length)return d(X,0,1);if(k.length){h=x.decodePacket(k,c,!0);if(X.type==h.type&&X.data==h.data)return d(X,0,1);if(!1===d(h,l+f,n))return}l+=f;h=""}if(""!=h)return d(X,0,1)};x.encodePayloadAsArrayBuffer=function(a,d){if(!a.length)return d(new ArrayBuffer(0));
c(a,function(a,c){x.encodePacket(a,!0,!0,function(a){return c(null,a)})},function(a,c){var h=c.reduce(function(a,c){var d;d="string"===typeof c?c.length:c.byteLength;return a+d.toString().length+d+2},0),f=new Uint8Array(h),k=0;c.forEach(function(a){var c="string"===typeof a,d=a;if(c){for(var d=new Uint8Array(a.length),h=0;h<a.length;h++)d[h]=a.charCodeAt(h);d=d.buffer}c?f[k++]=0:f[k++]=1;a=d.byteLength.toString();for(h=0;h<a.length;h++)f[k++]=parseInt(a[h]);f[k++]=255;d=new Uint8Array(d);for(h=0;h<
d.length;h++)f[k++]=d[h]});return d(f.buffer)})};x.encodePayloadAsBlob=function(a,d){c(a,function(a,c){x.encodePacket(a,!0,!0,function(a){var d=new Uint8Array(1);d[0]=1;if("string"===typeof a){for(var h=new Uint8Array(a.length),f=0;f<a.length;f++)h[f]=a.charCodeAt(f);a=h.buffer;d[0]=0}for(var h=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),k=new Uint8Array(h.length+1),f=0;f<h.length;f++)k[f]=parseInt(h[f]);k[h.length]=255;ga&&(a=new ga([d.buffer,k.buffer,a]),c(null,a))})},function(a,c){return d(new ga(c))})};
x.decodePayloadAsBinary=function(a,c,d){"function"===typeof c&&(d=c,c=null);for(var f=[],k=!1;0<a.byteLength;){for(var l=new Uint8Array(a),n=0===l[0],p="",r=1;255!=l[r];r++){if(310<p.length){k=!0;break}p+=l[r]}if(k)return d(X,0,1);a=h(a,2+p.length);p=parseInt(p);l=h(a,0,p);if(n)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(z){for(n=new Uint8Array(l),l="",r=0;r<n.length;r++)l+=String.fromCharCode(n[r])}f.push(l);a=h(a,p)}var C=f.length;f.forEach(function(a,h){d(x.decodePacket(a,c,!0),
h,C)})}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":30,after:3,"arraybuffer.slice":4,"base64-arraybuffer":7,blob:8,"has-binary":31,utf8:56}],30:[function(A,D,x){D.exports=Object.keys||function(k){var f=[],c=Object.prototype.hasOwnProperty,a;for(a in k)c.call(k,a)&&f.push(a);return f}},{}],31:[function(A,D,x){(function(k){var f=A("isarray");D.exports=function(c){function a(c){if(!c)return!1;if(k.Buffer&&k.Buffer.isBuffer(c)||
k.ArrayBuffer&&c instanceof ArrayBuffer||k.Blob&&c instanceof Blob||k.File&&c instanceof File)return!0;if(f(c))for(var h=0;h<c.length;h++){if(a(c[h]))return!0}else if(c&&"object"==typeof c)for(h in c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,h)&&a(c[h]))return!0;return!1}return a(c)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:37}],32:[function(A,D,x){function k(){this._events=this._events||
{};this._maxListeners=this._maxListeners||void 0}function f(a){return"function"===typeof a}function c(a){return"object"===typeof a&&null!==a}D.exports=k;k.EventEmitter=k;k.prototype._events=void 0;k.prototype._maxListeners=void 0;k.defaultMaxListeners=10;k.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};k.prototype.emit=function(a){var d,h,k,p;this._events||(this._events={});if("error"===a&&
(!this._events.error||c(this._events.error)&&!this._events.error.length)){d=arguments[1];if(d instanceof Error)throw d;throw TypeError('Uncaught, unspecified "error" event.');}h=this._events[a];if(void 0===h)return!1;if(f(h))switch(arguments.length){case 1:h.call(this);break;case 2:h.call(this,arguments[1]);break;case 3:h.call(this,arguments[1],arguments[2]);break;default:d=Array.prototype.slice.call(arguments,1),h.apply(this,d)}else if(c(h))for(d=Array.prototype.slice.call(arguments,1),p=h.slice(),
h=p.length,k=0;k<h;k++)p[k].apply(this,d);return!0};k.prototype.addListener=function(a,d){var h;if(!f(d))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",a,f(d.listener)?d.listener:d);this._events[a]?c(this._events[a])?this._events[a].push(d):this._events[a]=[this._events[a],d]:this._events[a]=d;c(this._events[a])&&!this._events[a].warned&&(h=void 0!==this._maxListeners?this._maxListeners:k.defaultMaxListeners)&&0<h&&
this._events[a].length>h&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===typeof console.trace&&console.trace());return this};k.prototype.on=k.prototype.addListener;k.prototype.once=function(a,c){function h(){this.removeListener(a,h);k||(k=!0,c.apply(this,arguments))}if(!f(c))throw TypeError("listener must be a function");var k=!1;h.listener=
c;this.on(a,h);return this};k.prototype.removeListener=function(a,d){var h,k,p;if(!f(d))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;h=this._events[a];p=h.length;k=-1;if(h===d||f(h.listener)&&h.listener===d)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,d);else if(c(h)){for(;0<p--;)if(h[p]===d||h[p].listener&&h[p].listener===d){k=p;break}if(0>k)return this;1===h.length?(h.length=0,delete this._events[a]):h.splice(k,
1);this._events.removeListener&&this.emit("removeListener",a,d)}return this};k.prototype.removeAllListeners=function(a){var c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(c in this._events)"removeListener"!==c&&this.removeAllListeners(c);this.removeAllListeners("removeListener");this._events={};return this}c=this._events[a];if(f(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,
c[c.length-1]);delete this._events[a];return this};k.prototype.listeners=function(a){return this._events&&this._events[a]?f(this._events[a])?[this._events[a]]:this._events[a].slice():[]};k.prototype.listenerCount=function(a){if(this._events){a=this._events[a];if(f(a))return 1;if(a)return a.length}return 0};k.listenerCount=function(a,c){return a.listenerCount(c)}},{}],33:[function(A,D,x){A("webrtc-adapter");D.exports=function(k,f){var c,a={video:!0,audio:!0};2!==arguments.length&&(f=k,k=a);if("undefined"===
typeof navigator||!navigator.getUserMedia)return c=Error("MediaStreamError"),c.name="NotSupportedError",setTimeout(function(){f(c)},0);if(!k.audio&&!k.video)return c=Error("MediaStreamError"),c.name="NoMediaRequestedError",setTimeout(function(){f(c)},0);localStorage&&"true"===localStorage.useFirefoxFakeDevice&&(k.fake=!0);navigator.mediaDevices.getUserMedia(k).then(function(a){f(null,a)}).catch(function(a){var c;"string"===typeof a?(c=Error("MediaStreamError"),c.name="PermissionDeniedError"===a||
"PERMISSION_DENIED"===a?"PermissionDeniedError":"ConstraintNotSatisfiedError"):(c=a,c.name||(a.name=c.PermissionDeniedError?"PermissionDeniedError":"ConstraintNotSatisfiedError"));f(c)})}},{"webrtc-adapter":58}],34:[function(A,D,x){(function(k){var f=A("isarray");D.exports=function(c){function a(c){if(!c)return!1;if(k.Buffer&&k.Buffer.isBuffer&&k.Buffer.isBuffer(c)||k.ArrayBuffer&&c instanceof ArrayBuffer||k.Blob&&c instanceof Blob||k.File&&c instanceof File)return!0;if(f(c))for(var h=0;h<c.length;h++){if(a(c[h]))return!0}else if(c&&
"object"==typeof c)for(h in c.toJSON&&"function"==typeof c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,h)&&a(c[h]))return!0;return!1}return a(c)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:37}],35:[function(A,D,x){try{D.exports="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(k){D.exports=!1}},{}],36:[function(A,D,x){var k=[].indexOf;D.exports=function(f,c){if(k)return f.indexOf(c);
for(var a=0;a<f.length;++a)if(f[a]===c)return a;return-1}},{}],37:[function(A,D,x){D.exports=Array.isArray||function(k){return"[object Array]"==Object.prototype.toString.call(k)}},{}],38:[function(A,D,x){(function(k){(function(){function f(c,d){function k(a){if(k[a]!==D)return k[a];var c;if("bug-string-char-index"==a)c=!1;else if("json"==a)c=k("json-stringify")&&k("json-parse");else{var h;if("json-stringify"==a){c=d.stringify;var f="function"==typeof c&&na;if(f){(h=function(){return 1}).toJSON=h;
try{f="0"===c(0)&&"0"===c(new l)&&'""'==c(new n)&&c(U)===D&&c(D)===D&&c()===D&&"1"===c(h)&&"[1]"==c([h])&&"[null]"==c([D])&&"null"==c(null)&&"[null,null,null]"==c([D,U,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[h,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===c(null,h)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new t(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==c(new t(864E13))&&'"-000001-01-01T00:00:00.000Z"'==c(new t(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==
c(new t(-1))}catch(p){f=!1}}c=f}if("json-parse"==a){c=d.parse;if("function"==typeof c)try{if(0===c("0")&&!c(!1)){h=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var r=5==h.a.length&&1===h.a[0];if(r){try{r=!c('"\t"')}catch(p){}if(r)try{r=1!==c("01")}catch(p){}if(r)try{r=1!==c("1.")}catch(p){}}}}catch(p){r=!1}c=r}}return k[a]=!!c}c||(c=h.Object());d||(d=h.Object());var l=c.Number||h.Number,n=c.String||h.String,p=c.Object||h.Object,t=c.Date||h.Date,r=c.SyntaxError||h.SyntaxError,C=c.TypeError||
h.TypeError,x=c.Math||h.Math,A=c.JSON||h.JSON;"object"==typeof A&&A&&(d.stringify=A.stringify,d.parse=A.parse);var p=p.prototype,U=p.toString,F,Ua,D,na=new t(-0xc782b5b800cec);try{na=-109252==na.getUTCFullYear()&&0===na.getUTCMonth()&&1===na.getUTCDate()&&10==na.getUTCHours()&&37==na.getUTCMinutes()&&6==na.getUTCSeconds()&&708==na.getUTCMilliseconds()}catch(B){}if(!k("json")){var Mb=k("bug-string-char-index");if(!na)var db=x.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],nb=function(a,c){return T[c]+
365*(a-1970)+db((a-1969+(c=+(1<c)))/4)-db((a-1901+c)/100)+db((a-1601+c)/400)};(F=p.hasOwnProperty)||(F=function(a){var c={},d;(c.__proto__=null,c.__proto__={toString:1},c).toString!=U?F=function(a){var c=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=c;return a}:(d=c.constructor,F=function(a){var c=(this.constructor||d).prototype;return a in this&&!(a in c&&this[a]===c[a])});c=null;return F.call(this,a)});Ua=function(c,d){var h=0,f,k,l;(f=function(){this.valueOf=0}).prototype.valueOf=
0;k=new f;for(l in k)F.call(k,l)&&h++;f=k=null;h?Ua=2==h?function(a,c){var d={},h="[object Function]"==U.call(a),f;for(f in a)h&&"prototype"==f||F.call(d,f)||!(d[f]=1)||!F.call(a,f)||c(f)}:function(a,c){var d="[object Function]"==U.call(a),h,f;for(h in a)d&&"prototype"==h||!F.call(a,h)||(f="constructor"===h)||c(h);(f||F.call(a,h="constructor"))&&c(h)}:(k="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),Ua=function(c,d){var h="[object Function]"==
U.call(c),f,l=!h&&"function"!=typeof c.constructor&&a[typeof c.hasOwnProperty]&&c.hasOwnProperty||F;for(f in c)h&&"prototype"==f||!l.call(c,f)||d(f);for(h=k.length;f=k[--h];l.call(c,f)&&d(f));});return Ua(c,d)};if(!k("json-stringify")){var Gd={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},ob=function(a,c){return("000000"+(c||0)).slice(-a)},lc=function(a){for(var c='"',d=0,h=a.length,f=!Mb||10<h,k=f&&(Mb?a.split(""):a);d<h;d++){var l=a.charCodeAt(d);switch(l){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=
Gd[l];break;default:c=32>l?c+("\\u00"+ob(2,l.toString(16))):c+(f?k[d]:a.charAt(d))}}return c+'"'},mc=function(a,c,d,h,f,k,l){var n,p,t,r,E,z,x,A,I;try{n=c[a]}catch(Q){}if("object"==typeof n&&n)if(p=U.call(n),"[object Date]"!=p||F.call(n,"toJSON"))"function"==typeof n.toJSON&&("[object Number]"!=p&&"[object String]"!=p&&"[object Array]"!=p||F.call(n,"toJSON"))&&(n=n.toJSON(a));else if(n>-1/0&&n<1/0){if(nb){r=db(n/864E5);for(p=db(r/365.2425)+1970-1;nb(p+1,0)<=r;p++);for(t=db((r-nb(p,0))/30.42);nb(p,
t+1)<=r;t++);r=1+r-nb(p,t);E=(n%864E5+864E5)%864E5;z=db(E/36E5)%24;x=db(E/6E4)%60;A=db(E/1E3)%60;E%=1E3}else p=n.getUTCFullYear(),t=n.getUTCMonth(),r=n.getUTCDate(),z=n.getUTCHours(),x=n.getUTCMinutes(),A=n.getUTCSeconds(),E=n.getUTCMilliseconds();n=(0>=p||1E4<=p?(0>p?"-":"+")+ob(6,0>p?-p:p):ob(4,p))+"-"+ob(2,t+1)+"-"+ob(2,r)+"T"+ob(2,z)+":"+ob(2,x)+":"+ob(2,A)+"."+ob(3,E)+"Z"}else n=null;d&&(n=d.call(c,a,n));if(null===n)return"null";p=U.call(n);if("[object Boolean]"==p)return""+n;if("[object Number]"==
p)return n>-1/0&&n<1/0?""+n:"null";if("[object String]"==p)return lc(""+n);if("object"==typeof n){for(a=l.length;a--;)if(l[a]===n)throw C();l.push(n);I=[];c=k;k+=f;if("[object Array]"==p){t=0;for(a=n.length;t<a;t++)p=mc(t,n,d,h,f,k,l),I.push(p===D?"null":p);a=I.length?f?"[\n"+k+I.join(",\n"+k)+"\n"+c+"]":"["+I.join(",")+"]":"[]"}else Ua(h||n,function(a){var c=mc(a,n,d,h,f,k,l);c!==D&&I.push(lc(a)+":"+(f?" ":"")+c)}),a=I.length?f?"{\n"+k+I.join(",\n"+k)+"\n"+c+"}":"{"+I.join(",")+"}":"{}";l.pop();
return a}};d.stringify=function(c,d,h){var f,k,l,n;if(a[typeof d]&&d)if("[object Function]"==(n=U.call(d)))k=d;else if("[object Array]"==n){l={};for(var p=0,t=d.length,r;p<t;r=d[p++],(n=U.call(r),"[object String]"==n||"[object Number]"==n)&&(l[r]=1));}if(h)if("[object Number]"==(n=U.call(h))){if(0<(h-=h%1))for(f="",10<h&&(h=10);f.length<h;f+=" ");}else"[object String]"==n&&(f=10>=h.length?h:h.slice(0,10));return mc("",(r={},r[""]=c,r),k,l,f,"",[])}}if(!k("json-parse")){var Zb=n.fromCharCode,Ma={92:"\\",
34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},M,Ob,da=function(){M=Ob=null;throw r();},za=function(){for(var a=Ob,c=a.length,d,h,f,k,l;M<c;)switch(l=a.charCodeAt(M),l){case 9:case 10:case 13:case 32:M++;break;case 123:case 125:case 91:case 93:case 58:case 44:return d=Mb?a.charAt(M):a[M],M++,d;case 34:d="@";for(M++;M<c;)if(l=a.charCodeAt(M),32>l)da();else if(92==l)switch(l=a.charCodeAt(++M),l){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:d+=Ma[l];M++;break;case 117:h=
++M;for(f=M+4;M<f;M++)l=a.charCodeAt(M),48<=l&&57>=l||97<=l&&102>=l||65<=l&&70>=l||da();d+=Zb("0x"+a.slice(h,M));break;default:da()}else{if(34==l)break;l=a.charCodeAt(M);for(h=M;32<=l&&92!=l&&34!=l;)l=a.charCodeAt(++M);d+=a.slice(h,M)}if(34==a.charCodeAt(M))return M++,d;da();default:h=M;45==l&&(k=!0,l=a.charCodeAt(++M));if(48<=l&&57>=l){for(48==l&&(l=a.charCodeAt(M+1),48<=l&&57>=l)&&da();M<c&&(l=a.charCodeAt(M),48<=l&&57>=l);M++);if(46==a.charCodeAt(M)){for(f=++M;f<c&&(l=a.charCodeAt(f),48<=l&&57>=
l);f++);f==M&&da();M=f}l=a.charCodeAt(M);if(101==l||69==l){l=a.charCodeAt(++M);43!=l&&45!=l||M++;for(f=M;f<c&&(l=a.charCodeAt(f),48<=l&&57>=l);f++);f==M&&da();M=f}return+a.slice(h,M)}k&&da();if("true"==a.slice(M,M+4))return M+=4,!0;if("false"==a.slice(M,M+5))return M+=5,!1;if("null"==a.slice(M,M+4))return M+=4,null;da()}return"$"},qb=function(a){var c,d;"$"==a&&da();if("string"==typeof a){if("@"==(Mb?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];;d||(d=!0)){a=za();if("]"==a)break;d&&(","==
a?(a=za(),"]"==a&&da()):da());","==a&&da();c.push(qb(a))}return c}if("{"==a){for(c={};;d||(d=!0)){a=za();if("}"==a)break;d&&(","==a?(a=za(),"}"==a&&da()):da());","!=a&&"string"==typeof a&&"@"==(Mb?a.charAt(0):a[0])&&":"==za()||da();c[a.slice(1)]=qb(za())}return c}da()}return a},Jc=function(a,c,d){d=Va(a,c,d);d===D?delete a[c]:a[c]=d},Va=function(a,c,d){var h=a[c],f;if("object"==typeof h&&h)if("[object Array]"==U.call(h))for(f=h.length;f--;)Jc(h,f,d);else Ua(h,function(a){Jc(h,a,d)});return d.call(a,
c,h)};d.parse=function(a,c){var d,h;M=0;Ob=""+a;d=qb(za());"$"!=za()&&da();M=Ob=null;return c&&"[object Function]"==U.call(c)?Va((h={},h[""]=d,h),"",c):d}}}d.runInContext=f;return d}var c="function"===typeof define&&define.amd,a={"function":!0,object:!0},d=a[typeof x]&&x&&!x.nodeType&&x,h=a[typeof window]&&window||this,n=d&&a[typeof D]&&D&&!D.nodeType&&"object"==typeof k&&k;!n||n.global!==n&&n.window!==n&&n.self!==n||(h=n);if(d&&!c)f(h,d);else{var p=h.JSON,C=h.JSON3,r=!1,l=f(h,h.JSON3={noConflict:function(){r||
(r=!0,h.JSON=p,h.JSON3=C,p=C=null);return l}});h.JSON={parse:l.parse,stringify:l.stringify}}c&&define(function(){return l})}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],39:[function(A,D,x){(function(k){(function(){function f(a,c){a.set(c[0],c[1]);return a}function c(a,c){a.add(c);return a}function a(a,c,d){switch(d.length){case 0:return a.call(c);case 1:return a.call(c,d[0]);case 2:return a.call(c,d[0],d[1]);
case 3:return a.call(c,d[0],d[1],d[2])}return a.apply(c,d)}function d(a,c,d,h){for(var f=-1,k=a.length;++f<k;){var l=a[f];c(h,l,d(l),a)}return h}function h(a,c){for(var d=-1,h=a.length;++d<h&&!1!==c(a[d],d,a););return a}function n(a,c){for(var d=-1,h=a.length;++d<h;)if(!c(a[d],d,a))return!1;return!0}function p(a,c){for(var d=-1,h=a.length,f=0,k=[];++d<h;){var l=a[d];c(l,d,a)&&(k[f++]=l)}return k}function C(a,c){return!!a.length&&-1<E(a,c,0)}function r(a,c,d){for(var h=-1,f=a.length;++h<f;)if(d(c,
a[h]))return!0;return!1}function l(a,c){for(var d=-1,h=a.length,f=Array(h);++d<h;)f[d]=c(a[d],d,a);return f}function z(a,c){for(var d=-1,h=c.length,f=a.length;++d<h;)a[f+d]=c[d];return a}function A(a,c,d,h){var f=-1,k=a.length;for(h&&k&&(d=a[++f]);++f<k;)d=c(d,a[f],f,a);return d}function Aa(a,c,d,h){var f=a.length;for(h&&f&&(d=a[--f]);f--;)d=c(d,a[f],f,a);return d}function X(a,c){for(var d=-1,h=a.length;++d<h;)if(c(a[d],d,a))return!0;return!1}function ga(a,c,d){for(var h=-1,f=a.length;++h<f;){var k=
a[h],l=c(k);if(null!=l&&(n===B?l===l:d(l,n)))var n=l,p=k}return p}function R(a,c,d,h){var f;d(a,function(a,d,k){if(c(a,d,k))return f=h?d:a,!1});return f}function t(a,c,d){for(var h=a.length,f=d?h:-1;d?f--:++f<h;)if(c(a[f],f,a))return f;return-1}function E(a,c,d){if(c!==c)return mc(a,d);--d;for(var h=a.length;++d<h;)if(a[d]===c)return d;return-1}function J(a,c,d,h){--d;for(var f=a.length;++d<f;)if(h(a[d],c))return d;return-1}function Q(a,c,d,h,f){f(a,function(a,f,k){d=h?(h=!1,a):c(d,a,f,k)});return d}
function qa(a,c){var d=a.length;for(a.sort(c);d--;)a[d]=a[d].value;return a}function U(a,c){for(var d,h=-1,f=a.length;++h<f;){var k=c(a[h]);k!==B&&(d=d===B?k:d+k)}return d}function F(a,c){for(var d=-1,h=Array(a);++d<a;)h[d]=c(d);return h}function Ua(a,c){return l(c,function(c){return[c,a[c]]})}function Qe(a){return function(c){return a(c)}}function na(a,c){return l(c,function(c){return a[c]})}function Mb(a,c){for(var d=-1,h=a.length;++d<h&&-1<E(c,a[d],0););return d}function db(a,c){for(var d=a.length;d--&&
-1<E(c,a[d],0););return d}function T(a){return a&&a.Object===Object?a:null}function nb(a,c){if(a!==c){var d=null===a,h=a===B,f=a===a,k=null===c,l=c===B,n=c===c;if(a>c&&!k||!f||d&&!l&&n||h&&n)return 1;if(a<c&&!d||!n||k&&!h&&f||l&&f)return-1}return 0}function Gd(a){return hd[a]}function ob(a){return ef[a]}function lc(a){return"\\"+Xd[a]}function mc(a,c,d){var h=a.length;for(c+=d?0:-1;d?c--:++c<h;){var f=a[c];if(f!==f)return c}return-1}function Zb(a){var c=!1;if(null!=a&&"function"!=typeof a.toString)try{c=
!!(a+"")}catch(d){}return c}function Ma(a,c){a="number"==typeof a||fd.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==c?9007199254740991:c)}function M(a){for(var c,d=[];!(c=a.next()).done;)d.push(c.value);return d}function Ob(a){var c=-1,d=Array(a.size);a.forEach(function(a,h){d[++c]=[h,a]});return d}function da(a,c){for(var d=-1,h=a.length,f=0,k=[];++d<h;){var l=a[d];if(l===c||"__lodash_placeholder__"===l)a[d]="__lodash_placeholder__",k[f++]=d}return k}function za(a){var c=-1,d=Array(a.size);a.forEach(function(a){d[++c]=
a});return d}function qb(a){if(!a||!Lc.test(a))return a.length;for(var c=Ca.lastIndex=0;Ca.test(a);)c++;return c}function Jc(a){return Db[a]}function Va(k){function q(b){if(ra(b)&&!Y(b)&&!(b instanceof T)){if(b instanceof D)return b;if(ma.call(b,"__wrapped__"))return vg(b)}return new D(b)}function x(){}function D(b,e){this.__wrapped__=b;this.__actions__=[];this.__chain__=!!e;this.__index__=0;this.__values__=B}function T(b){this.__wrapped__=b;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;
this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function Db(){}function bc(b){var e=-1,a=b?b.length:0;for(this.clear();++e<a;){var c=b[e];this.set(c[0],c[1])}}function tb(b){var e=-1,a=b?b.length:0;for(this.__data__=new bc;++e<a;)this.push(b[e])}function ub(b,e){var a=b.__data__;return zc(e)?(a=a.__data__,"__lodash_hash_undefined__"===("string"==typeof e?a.string:a.hash)[e]):a.has(e)}function xb(b){var e=-1,a=b?b.length:0;for(this.clear();++e<a;){var c=b[e];this.set(c[0],c[1])}}
function ac(b,e){var a=jb(b,e);if(0>a)return!1;a==b.length-1?b.pop():De.call(b,a,1);return!0}function pc(b,e){var a=jb(b,e);return 0>a?B:b[a][1]}function jb(b,e){for(var a=b.length;a--;)if(Ib(b[a][0],e))return a;return-1}function qc(b,e,a){var c=jb(b,e);0>c?b.push([e,a]):b[c][1]=a}function Zd(b,e,a,c){return b===B||Ib(b,ua[a])&&!ma.call(c,a)?e:b}function Oc(b,e,a){if(a!==B&&!Ib(b[e],a)||"number"==typeof e&&a===B&&!(e in b))b[e]=a}function rc(b,e,a){var c=b[e];ma.call(b,e)&&Ib(c,a)&&(a!==B||e in b)||
(b[e]=a)}function fd(b,e,a,c){ba(b,function(b,d,h){e(c,b,a(b),h)});return c}function Nc(b,e){return b&&Tc(e,Ea(e),b)}function $d(b,e){for(var a=-1,c=null==b,d=e.length,h=Array(d);++a<d;)h[a]=c?B:La(b,e[a]);return h}function ae(b){return oa(b)?b:[]}function vb(b){return"function"==typeof b?b:cb}function cc(b){return Y(b)?b:ug(b)}function sc(b,e,a){b===b&&(a!==B&&(b=b<=a?b:a),e!==B&&(b=b>=e?b:e));return b}function kb(b,e,a,c,d,f,k){var l;c&&(l=f?c(b,d,f,k):c(b));if(l!==B)return l;if(!ka(b))return b;
if(d=Y(b)){if(l=ah(b),!e)return Ia(b,l)}else{var n=ab(b),p="[object Function]"==n||"[object GeneratorFunction]"==n;if(Ed(b))return ig(b,e);if("[object Object]"==n||"[object Arguments]"==n||p&&!f){if(Zb(b))return f?b:{};l=bh(p?{}:b);if(!e)return l=Nc(l,b),a?kg(b,l):l}else{if(!ia[n])return f?b:{};l=ch(b,n,e)}}k||(k=new xb);if(f=k.get(b))return f;k.set(b,l);(d?h:Za)(b,function(d,h){rc(l,h,kb(d,e,a,c,h,b,k))});return a&&!d?kg(b,l):l}function gf(b){var e=Ea(b),a=e.length;return function(c){if(null==c)return!a;
for(var d=a;d--;){var h=e[d],f=b[h],k=c[h];if(k===B&&!(h in Object(c))||!f(k))return!1}return!0}}function dc(b){return ka(b)?hh(b):{}}function hd(b,e,a){if("function"!=typeof b)throw new Qa("Expected a function");return yd(function(){b.apply(B,a)},e)}function yb(b,e,a,c){var d=-1,h=C,f=!0,k=b.length,n=[],p=e.length;if(!k)return n;a&&(e=l(e,Qe(a)));c?(h=r,f=!1):200<=e.length&&(h=ub,f=!1,e=new tb(e));a:for(;++d<k;){var t=b[d],q=a?a(t):t;if(f&&q===q){for(var F=p;F--;)if(e[F]===q)continue a;n.push(t)}else h(e,
q,c)||n.push(t)}return n}function Xd(b,e){var a=!0;ba(b,function(b,c,d){return a=!!e(b,c,d)});return a}function hf(b,e){var a=[];ba(b,function(b,c,d){e(b,c,d)&&a.push(b)});return a}function ja(b,e,a,c){c||(c=[]);for(var d=-1,h=b.length;++d<h;){var f=b[d];0<e&&oa(f)&&(a||Y(f)||Ta(f))?1<e?ja(f,e-1,a,c):z(c,f):a||(c[c.length]=f)}return c}function cg(b,e){return null==b?b:Ee(b,e,bb)}function Za(b,e){return b&&Ee(b,e,Ea)}function Tb(b,e){return b&&Cd(b,e,Ea)}function Ub(b,e){return p(e,function(e){return Ab(b[e])})}
function jd(b,e){e=Wb(e,b)?[e+""]:cc(e);for(var a=0,c=e.length;null!=b&&a<c;)b=b[e[a++]];return a&&a==c?b:B}function kd(b,e){return ma.call(b,e)||"object"==typeof b&&e in b&&null===pb(b)}function dg(b,e){return e in Object(b)}function be(b,e,a){for(var c=a?r:C,d=b[0].length,h=b.length,f=h,k=Array(h),n=Infinity,p=[];f--;){var t=b[f];f&&e&&(t=l(t,Qe(e)));n=Ha(t.length,n);k[f]=!a&&(e||120<=d&&120<=t.length)?new tb(f&&t):B}var t=b[0],q=-1,F=k[0];a:for(;++q<d&&p.length<n;){var E=t[q],z=e?e(E):E;if(F?!ub(F,
z):!c(p,z,a)){for(f=h;--f;){var v=k[f];if(v?!ub(v,z):!c(b[f],z,a))continue a}F&&F.push(z);p.push(E)}}return p}function ef(b,e,a,c){Za(b,function(b,d,h){e(c,a(b),d,h)});return c}function Pc(b,e,c){Wb(e,b)||(e=cc(e),b=rd(b,e),e=Ja(e));e=null==b?b:b[e];return null==e?B:a(e,b,c)}function Eb(b,e,a,c,d){if(b===e)return!0;if(null==b||null==e||!ka(b)&&!ra(e))return b!==b&&e!==e;a:{var h=Y(b),f=Y(e),k="[object Array]",l="[object Array]";h||(k=ab(b),k="[object Arguments]"==k?"[object Object]":k);f||(l=ab(e),
l="[object Arguments]"==l?"[object Object]":l);var n="[object Object]"==k&&!Zb(b),f="[object Object]"==l&&!Zb(e);if((l=k==l)&&!n)d||(d=new xb),b=h||Xc(b)?sg(b,e,Eb,a,c,d):$g(b,e,k,Eb,a,c,d);else{if(!(c&2)&&(h=n&&ma.call(b,"__wrapped__"),k=f&&ma.call(e,"__wrapped__"),h||k)){d||(d=new xb);b=Eb(h?b.value():b,k?e.value():e,a,c,d);break a}if(l)b:if(d||(d=new xb),h=c&2,k=Ea(b),f=k.length,l=Ea(e).length,f==l||h){for(n=f;n--;){var p=k[n];if(!(h?p in e:kd(e,p))){b=!1;break b}}if(l=d.get(b))b=l==e;else{l=!0;
d.set(b,e);for(var t=h;++n<f;){var p=k[n],r=b[p],q=e[p];if(a)var F=h?a(q,r,p,e,b,d):a(r,q,p,b,e,d);if(F===B?r!==q&&!Eb(r,q,a,c,d):!F){l=!1;break}t||(t="constructor"==p)}l&&!t&&(a=b.constructor,c=e.constructor,a!=c&&"constructor"in b&&"constructor"in e&&!("function"==typeof a&&a instanceof a&&"function"==typeof c&&c instanceof c)&&(l=!1));d["delete"](b);b=l}}else b=!1;else b=!1}}return b}function ce(b,e,a,c){var d=a.length,h=d,f=!c;if(null==b)return!h;for(b=Object(b);d--;){var k=a[d];if(f&&k[2]?k[1]!==
b[k[0]]:!(k[0]in b))return!1}for(;++d<h;){var k=a[d],l=k[0],n=b[l],p=k[1];if(f&&k[2]){if(n===B&&!(l in b))return!1}else if(k=new xb,l=c?c(n,p,l,b,e,k):B,l===B?!Eb(p,n,c,3,k):!l)return!1}return!0}function jf(b){var e=typeof b;return"function"==e?b:null==b?cb:"object"==e?Y(b)?tc(b[0],b[1]):vc(b):Hf(b)}function kf(b){b=null==b?b:Object(b);var e=[],a;for(a in b)e.push(a);return e}function fg(b,e){var a=-1,c=Ka(b)?Array(b.length):[];ba(b,function(b,d,h){c[++a]=e(b,d,h)});return c}function vc(b){var e=
sf(b);if(1==e.length&&e[0][2]){var a=e[0][0],c=e[0][1];return function(b){return null==b?!1:b[a]===c&&(c!==B||a in Object(b))}}return function(a){return a===b||ce(a,b,e)}}function tc(b,e){return function(a){var c=La(a,b);return c===B&&c===e?Ae(a,b):Eb(e,c,B,3)}}function de(b,e,a,c,d){if(b!==e){var f=Y(e)||Xc(e)?B:bb(e);h(f||e,function(h,k){f&&(k=h,h=e[k]);if(ka(h)){d||(d=new xb);var l=k,n=d,p=b[l],t=e[l],r=n.get(t);if(!r){var r=c?c(p,t,l+"",b,e,n):B,q=r===B;q&&(r=t,Y(t)||Xc(t)?Y(p)?r=p:oa(p)?r=Ia(p):
(q=!1,r=kb(t,!c)):ve(t)||Ta(t)?Ta(p)?r=ye(p):!ka(p)||a&&Ab(p)?(q=!1,r=kb(t,!c)):r=p:q=!1);n.set(t,r);q&&de(r,t,a,c,n);n["delete"](t)}Oc(b,l,r)}else l=c?c(b[k],h,k+"",b,e,d):B,l===B&&(l=h),Oc(b,k,l)})}}function nf(b,e,a){var c=-1;e=l(e.length?e:Array(1),V());b=fg(b,function(b,a,d){return{criteria:l(e,function(e){return e(b)}),index:++c,value:b}});return qa(b,function(b,e){var c;a:{c=-1;for(var d=b.criteria,h=e.criteria,f=d.length,k=a.length;++c<f;){var l=nb(d[c],h[c]);if(l){if(c>=k){c=l;break a}c=
l*("desc"==a[c]?-1:1);break a}}c=b.index-e.index}return c})}function Qc(b,e){b=Object(b);return A(e,function(e,a){a in b&&(e[a]=b[a]);return e},{})}function gg(b,e){var a={};cg(b,function(b,c){e(b,c)&&(a[c]=b)});return a}function Sc(b){return function(e){return null==e?B:e[b]}}function ee(b){return function(e){return jd(e,b)}}function nd(b,e,a,c){var d=c?J:E,h=-1,f=e.length,k=b;for(a&&(k=l(b,Qe(a)));++h<f;)for(var n=0,p=e[h],p=a?a(p):p;-1<(n=d(k,p,n,c));)k!==b&&De.call(k,n,1),De.call(b,n,1);return b}
function ld(b,e){for(var a=b?e.length:0,c=a-1;a--;){var d=e[a];if(c==a||d!=h){var h=d;if(Ma(d))De.call(b,d,1);else if(Wb(d,b))delete b[d];else{var d=cc(d),f=rd(b,d);null!=f&&delete f[Ja(d)]}}}return b}function xc(b,e){return b+O(Fd()*(e-b+1))}function Vb(b,e,a,c){e=Wb(e,b)?[e+""]:cc(e);for(var d=-1,h=e.length,f=h-1,k=b;null!=k&&++d<h;){var l=e[d];if(ka(k)){var n=a;if(d!=f){var p=k[l],n=c?c(p,l,k):B;n===B&&(n=null==p?Ma(e[d+1])?[]:{}:p)}rc(k,l,n)}k=k[l]}return b}function Fb(b,e,a){var c=-1,d=b.length;
0>e&&(e=-e>d?0:d+e);a=a>d?d:a;0>a&&(a+=d);d=e>a?0:a-e>>>0;e>>>=0;for(a=Array(d);++c<d;)a[c]=b[c+e];return a}function of(b,e){var a;ba(b,function(b,c,d){a=e(b,c,d);return!a});return!!a}function fe(b,e,a){var c=0,d=b?b.length:c;if("number"==typeof e&&e===e&&2147483647>=d){for(;c<d;){var h=c+d>>>1,f=b[h];(a?f<=e:f<e)&&null!==f?c=h+1:d=h}return d}return pf(b,e,cb,a)}function pf(b,e,a,c){e=a(e);for(var d=0,h=b?b.length:0,f=e!==e,k=null===e,l=e===B;d<h;){var n=O((d+h)/2),p=a(b[n]),t=p!==B,r=p===p;(f?r||
c:k?r&&t&&(c||null!=p):l?r&&(c||t):null==p?0:c?p<=e:p<e)?d=n+1:h=n}return Ha(h,4294967294)}function hg(b,e){for(var a=0,c=b.length,d=b[0],h=e?e(d):d,f=h,k=1,l=[d];++a<c;)d=b[a],h=e?e(d):d,Ib(h,f)||(f=h,l[k++]=d);return l}function ec(b,e,a){var c=-1,d=C,h=b.length,f=!0,k=[],l=k;if(a)f=!1,d=r;else if(200<=h){if(d=e?null:Lf(b))return za(d);f=!1;d=ub;l=new tb}else l=e?[]:k;a:for(;++c<h;){var n=b[c],p=e?e(n):n;if(f&&p===p){for(var t=l.length;t--;)if(l[t]===p)continue a;e&&l.push(p);k.push(n)}else d(l,
p,a)||(l!==k&&l.push(p),k.push(n))}return k}function fc(b,e,a,c){for(var d=b.length,h=c?d:-1;(c?h--:++h<d)&&e(b[h],h,b););return a?Fb(b,c?0:h,c?h+1:d):Fb(b,c?h+1:0,c?d:h)}function ge(b,e){var a=b;a instanceof T&&(a=a.value());return A(e,function(b,e){return e.func.apply(e.thisArg,z([b],e.args))},a)}function he(b,e,a){for(var c=-1,d=b.length;++c<d;)var h=h?z(yb(h,b[c],e,a),yb(b[c],h,e,a)):b[c];return h&&h.length?ec(h,e,a):[]}function Gb(b,e,a){for(var c=-1,d=b.length,h=e.length,f={};++c<d;)a(f,b[c],
c<h?e[c]:B);return f}function ig(b,e){if(e)return b.slice();var a=new b.constructor(b.length);b.copy(a);return a}function gc(b){var e=new b.constructor(b.byteLength);(new xd(e)).set(new xd(b));return e}function od(b,e,a,c){var d=-1,h=b.length,f=a.length,k=-1,l=e.length,n=Ga(h-f,0),p=Array(l+n);for(c=!c;++k<l;)p[k]=e[k];for(;++d<f;)if(c||d<h)p[a[d]]=b[d];for(;n--;)p[k++]=b[d++];return p}function jg(b,e,a,c){var d=-1,h=b.length,f=-1,k=a.length,l=-1,n=e.length,p=Ga(h-k,0),t=Array(p+n);for(c=!c;++d<p;)t[d]=
b[d];for(p=d;++l<n;)t[p+l]=e[l];for(;++f<k;)if(c||d<h)t[p+a[f]]=b[d++];return t}function Ia(b,e){var a=-1,c=b.length;for(e||(e=Array(c));++a<c;)e[a]=b[a];return e}function Tc(b,e,a){return qf(b,e,a)}function qf(b,e,a,c){a||(a={});for(var d=-1,h=e.length;++d<h;){var f=e[d],k=c?c(a[f],b[f],f,a,b):b[f];rc(a,f,k)}return a}function kg(b,e){return Tc(b,Rf(b),e)}function je(b,e){return function(a,c){var h=Y(a)?d:fd,f=e?e():{};return h(a,b,V(c),f)}}function Uc(b){return S(function(e,a){var c=-1,d=a.length,
h=1<d?a[d-1]:B,f=2<d?a[2]:B,h="function"==typeof h?(d--,h):B;f&&zb(a[0],a[1],f)&&(h=3>d?B:h,d=1);for(e=Object(e);++c<d;)(f=a[c])&&b(e,f,c,h);return e})}function lg(b,a){return function(c,d){if(null==c)return c;if(!Ka(c))return b(c,d);for(var h=c.length,f=a?h:-1,k=Object(c);(a?f--:++f<h)&&!1!==d(k[f],f,k););return c}}function mg(b){return function(a,c,d){var h=-1,f=Object(a);d=d(a);for(var k=d.length;k--;){var l=d[b?k:++h];if(!1===c(f[l],l,f))break}return a}}function ff(b,a,c){function d(){return(this&&
this!==ib&&this instanceof d?f:b).apply(h?c:this,arguments)}var h=a&1,f=Vc(b);return d}function rf(b){return function(a){a=ea(a);var c=Lc.test(a)?a.match(Ca):B,d=c?c[0]:a.charAt(0);a=c?c.slice(1).join(""):a.slice(1);return d[b]()+a}}function yc(b){return function(a){return A(Ff(Dg(a)),b,"")}}function Vc(b){return function(){var a=arguments;switch(a.length){case 0:return new b;case 1:return new b(a[0]);case 2:return new b(a[0],a[1]);case 3:return new b(a[0],a[1],a[2]);case 4:return new b(a[0],a[1],
a[2],a[3]);case 5:return new b(a[0],a[1],a[2],a[3],a[4]);case 6:return new b(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new b(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var c=dc(b.prototype),a=b.apply(c,a);return ka(a)?a:c}}function ng(b,e,c){function d(){for(var f=arguments.length,k=Array(f),l=f,n=Wc(d);l--;)k[l]=arguments[l];l=3>f&&k[0]!==n&&k[f-1]!==n?[]:da(k,n);f-=l.length;return f<c?rg(b,e,ke,d.placeholder,B,k,l,B,B,c-f):a(this&&this!==ib&&this instanceof d?h:b,this,k)}var h=Vc(b);return d}function og(b){return S(function(a){a=
ja(a,1);var c=a.length,d=c,h=D.prototype.thru;for(b&&a.reverse();d--;){var f=a[d];if("function"!=typeof f)throw new Qa("Expected a function");if(h&&!k&&"wrapper"==oe(f))var k=new D([],!0)}for(d=k?d:c;++d<c;)var f=a[d],h=oe(f),l="wrapper"==h?Dd(f):B,k=l&&pd(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?k[oe(l[0])].apply(k,l[3]):1==f.length&&pd(f)?k[h]():k.thru(f);return function(){var b=arguments,d=b[0];if(k&&1==b.length&&Y(d)&&200<=d.length)return k.plant(d).value();for(var h=0,b=c?a[h].apply(this,b):d;++h<
c;)b=a[h].call(this,b);return b}})}function ke(b,a,c,d,h,f,k,l,n,p){function t(){for(var C=arguments.length,x=C,J=Array(C);x--;)J[x]=arguments[x];if(E){var U=Wc(t),A,x=J.length;for(A=0;x--;)J[x]===U&&A++}d&&(J=od(J,d,h,E));f&&(J=jg(J,f,k,E));C-=A;if(E&&C<p)return U=da(J,U),rg(b,a,ke,t.placeholder,c,J,U,l,n,p-C);U=q?c:this;x=F?U[b]:b;C=J.length;if(l){A=J.length;for(var I=Ha(l.length,A),Q=Ia(J);I--;){var D=l[I];J[I]=Ma(D,A)?Q[D]:B}}else z&&1<C&&J.reverse();r&&n<C&&(J.length=n);this&&this!==ib&&this instanceof
t&&(x=v||Vc(x));return x.apply(U,J)}var r=a&128,q=a&1,F=a&2,E=a&24,z=a&512,v=F?B:Vc(b);return t}function pg(b,a){return function(c,d){return ef(c,b,a(d),{})}}function le(b){return S(function(e){e=l(ja(e,1),V());return S(function(c){var d=this;return b(e,function(b){return a(b,d,c)})})})}function me(b,a,c){a=Z(a);b=qb(b);if(!a||b>=a)return"";a-=b;c=c===B?" ":c+"";b=Eg(c,zd(a/qb(c)));return Lc.test(c)?b.match(Ca).slice(0,a).join(""):b.slice(0,a)}function Zg(b,e,c,d){function h(){for(var e=-1,l=arguments.length,
n=-1,p=d.length,t=Array(p+l),r=this&&this!==ib&&this instanceof h?k:b;++n<p;)t[n]=d[n];for(;l--;)t[n++]=arguments[++e];return a(r,f?c:this,t)}var f=e&1,k=Vc(b);return h}function qg(b){return function(a,c,d){d&&"number"!=typeof d&&zb(a,c,d)&&(c=d=B);a=sa(a);a=a===a?a:0;c===B?(c=a,a=0):c=sa(c)||0;d=d===B?a<c?1:-1:sa(d)||0;var h=-1;c=Ga(zd((c-a)/(d||1)),0);for(var f=Array(c);c--;)f[b?c:++h]=a,a+=d;return f}}function rg(b,a,c,d,h,f,k,l,n,p){var t=a&8;l=l?Ia(l):B;var r=t?k:B;k=t?B:k;var q=t?f:B;f=t?B:
f;a=(a|(t?32:64))&~(t?64:32);a&4||(a&=-4);a=[b,a,h,q,r,f,k,l,n,p];c=c.apply(B,a);pd(b)&&Ue(c,a);c.placeholder=d;return c}function ne(b){var a=ta[b];return function(b,c){b=sa(b);if(c=Z(c)){var d=(ea(b)+"e").split("e"),d=a(d[0]+"e"+(+d[1]+c)),d=(ea(d)+"e").split("e");return+(d[0]+"e"+(+d[1]-c))}return a(b)}}function $a(b,a,c,d,h,f,k,l){var n=a&2;if(!n&&"function"!=typeof b)throw new Qa("Expected a function");var p=d?d.length:0;p||(a&=-97,d=h=B);k=k===B?k:Ga(Z(k),0);l=l===B?l:Z(l);p-=h?h.length:0;if(a&
64){var t=d,r=h;d=h=B}var q=n?B:Dd(b);f=[b,a,c,d,h,t,r,f,k,l];if(q&&(c=f[1],b=q[1],a=c|b,d=128==b&&8==c||128==b&&256==c&&f[7].length<=q[8]||384==b&&q[7].length<=q[8]&&8==c,131>a||d)){b&1&&(f[2]=q[2],a|=c&1?0:4);if(c=q[3])d=f[3],f[3]=d?od(d,c,q[4]):Ia(c),f[4]=d?da(f[3],"__lodash_placeholder__"):Ia(q[4]);if(c=q[5])d=f[5],f[5]=d?jg(d,c,q[6]):Ia(c),f[6]=d?da(f[5],"__lodash_placeholder__"):Ia(q[6]);(c=q[7])&&(f[7]=Ia(c));b&128&&(f[8]=null==f[8]?q[8]:Ha(f[8],q[8]));null==f[9]&&(f[9]=q[9]);f[0]=q[0];f[1]=
a}b=f[0];a=f[1];c=f[2];d=f[3];h=f[4];l=f[9]=null==f[9]?n?0:b.length:Ga(f[9]-p,0);!l&&a&24&&(a&=-25);n=a&&1!=a?8==a||16==a?ng(b,a,l):32!=a&&33!=a||h.length?ke.apply(B,f):Zg(b,a,c,d):ff(b,a,c);return(q?Lg:Ue)(n,f)}function sg(b,a,c,d,h,f){var k=-1,l=h&2,n=h&1,p=b.length,t=a.length;if(p!=t&&!(l&&t>p))return!1;if(t=f.get(b))return t==a;t=!0;for(f.set(b,a);++k<p;){var r=b[k],q=a[k];if(d)var F=l?d(q,r,k,a,b,f):d(r,q,k,b,a,f);if(F!==B){if(F)continue;t=!1;break}if(n){if(!X(a,function(b){return r===b||c(r,
b,d,h,f)})){t=!1;break}}else if(r!==q&&!c(r,q,d,h,f)){t=!1;break}}f["delete"](b);return t}function $g(b,a,c,d,h,f,k){switch(c){case "[object ArrayBuffer]":if(b.byteLength!=a.byteLength||!d(new xd(b),new xd(a)))break;return!0;case "[object Boolean]":case "[object Date]":return+b==+a;case "[object Error]":return b.name==a.name&&b.message==a.message;case "[object Number]":return b!=+b?a!=+a:b==+a;case "[object RegExp]":case "[object String]":return b==a+"";case "[object Map]":var l=Ob;case "[object Set]":l||
(l=za);if(b.size!=a.size&&!(f&2))break;return(c=k.get(b))?c==a:sg(l(b),l(a),d,h,f|1,k.set(b,a));case "[object Symbol]":if(wa)return wa.call(b)==wa.call(a)}return!1}function oe(b){for(var a=b.name+"",c=Nb[a],d=ma.call(Nb,a)?c.length:0;d--;){var h=c[d],f=h.func;if(null==f||f==b)return h.name}return a}function V(){var b=q.iteratee||Gf,b=b===Gf?jf:b;return arguments.length?b(arguments[0],arguments[1]):b}function sf(b){b=Cg(b);for(var a=b.length;a--;){var c=b[a],d;d=b[a][1];d=d===d&&!ka(d);c[2]=d}return b}
function pe(b,a){var c=b[a];return Bf(c)?c:B}function Wc(b){return(ma.call(q,"placeholder")?q:b).placeholder}function ab(b){return Fa.call(b)}function qe(b,a,c){if(null==b)return!1;var d=c(b,a);d||Wb(a)||(a=cc(a),b=rd(b,a),null!=b&&(a=Ja(a),d=c(b,a)));c=b?b.length:B;return d||!!c&&hc(c)&&Ma(a,c)&&(Y(b)||Cc(b)||Ta(b))}function ah(b){var a=b.length,c=b.constructor(a);a&&"string"==typeof b[0]&&ma.call(b,"index")&&(c.index=b.index,c.input=b.input);return c}function bh(b){return"function"!=typeof b.constructor||
Ac(b)?{}:dc(pb(b))}function ch(b,a,d){var h=b.constructor;switch(a){case "[object ArrayBuffer]":return gc(b);case "[object Boolean]":case "[object Date]":return new h(+b);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return a=d?gc(b.buffer):b.buffer,new b.constructor(a,b.byteOffset,b.length);
case "[object Map]":return A(Ob(b),f,new b.constructor);case "[object Number]":case "[object String]":return new h(b);case "[object RegExp]":return a=new b.constructor(b.source,af.exec(b)),a.lastIndex=b.lastIndex,a;case "[object Set]":return A(za(b),c,new b.constructor);case "[object Symbol]":return wa?Object(wa.call(b)):{}}}function tg(b){var a=b?b.length:B;return hc(a)&&(Y(b)||Cc(b)||Ta(b))?F(a,String):null}function zb(b,a,c){if(!ka(c))return!1;var d=typeof a;return("number"==d?Ka(c)&&Ma(a,c.length):
"string"==d&&a in c)?Ib(c[a],b):!1}function Wb(b,a){return"number"==typeof b?!0:!Y(b)&&(Ze.test(b)||!Vf.test(b)||null!=a&&b in Object(a))}function zc(b){var a=typeof b;return"number"==a||"boolean"==a||"string"==a&&"__proto__"!=b||null==b}function pd(b){var a=oe(b),c=q[a];if("function"!=typeof c||!(a in T.prototype))return!1;if(b===c)return!0;a=Dd(c);return!!a&&b===a[0]}function Ac(b){var a=b&&b.constructor;return b===("function"==typeof a&&a.prototype||ua)}function qd(b,a,c,d,h,f){ka(b)&&ka(a)&&de(b,
a,B,qd,f.set(a,b));return b}function rd(b,a){return 1==a.length?b:La(b,Fb(a,0,-1))}function ug(b){var a=[];ea(b).replace(Xe,function(b,c,d,h){a.push(d?h.replace($e,"$1"):c||b)});return a}function vg(b){if(b instanceof T)return b.clone();var a=new D(b.__wrapped__,b.__chain__);a.__actions__=Ia(b.__actions__);a.__index__=b.__index__;a.__values__=b.__values__;return a}function Hb(b,a,c){var d=b?b.length:0;if(!d)return[];a=c||a===B?1:Z(a);return Fb(b,0>a?0:a,d)}function wg(b,a,c){var d=b?b.length:0;if(!d)return[];
a=c||a===B?1:Z(a);a=d-a;return Fb(b,0,0>a?0:a)}function re(b){return b?b[0]:B}function Ja(b){var a=b?b.length:0;return a?b[a-1]:B}function tf(b,a){return b&&b.length&&a&&a.length?nd(b,a):b}function se(b){return b?ih.call(b):b}function uf(b){if(!b||!b.length)return[];var a=0;b=p(b,function(b){if(oa(b))return a=Ga(b.length,a),!0});return F(a,function(a){return l(b,Sc(a))})}function xg(b,e){if(!b||!b.length)return[];var c=uf(b);return null==e?c:l(c,function(b){return a(e,B,b)})}function vf(b){b=q(b);
b.__chain__=!0;return b}function sd(b,a){return a(b)}function dh(){return this}function yg(b,a){return"function"==typeof a&&Y(b)?h(b,a):ba(b,vb(a))}function wf(b,a){var c;if("function"==typeof a&&Y(b)){for(c=b.length;c--&&!1!==a(b[c],c,b););c=b}else c=ad(b,vb(a));return c}function xf(b,a){return(Y(b)?l:fg)(b,V(a,3))}function te(b,a){var c=-1,d=Na(b),h=d.length,f=h-1;for(a=sc(Z(a),0,h);++c<a;){var h=xc(c,f),k=d[h];d[h]=d[c];d[c]=k}d.length=a;return d}function yf(b,a,c){a=c?B:a;a=b&&null==a?b.length:
a;return $a(b,128,B,B,B,B,a)}function Bc(b,a){var c;if("function"!=typeof a)throw new Qa("Expected a function");b=Z(b);return function(){0<--b&&(c=a.apply(this,arguments));1>=b&&(a=B);return c}}function td(b,a,c){a=c?B:a;b=$a(b,8,B,B,B,B,B,a);b.placeholder=td.placeholder;return b}function zg(b,a,c){a=c?B:a;b=$a(b,16,B,B,B,B,B,a);b.placeholder=zg.placeholder;return b}function ud(b,a,c){function d(){F&&eb(F);p&&eb(p);z=0;n=p=q=F=E=B}function h(a,e){e&&eb(e);p=F=E=B;a&&(z=Xa(),t=b.apply(q,n),F||p||(n=
q=B))}function f(){var b=a-(Xa()-r);0>=b||b>a?h(E,p):F=yd(f,b)}function k(){h(J,F)}function l(){n=arguments;r=Xa();q=this;E=J&&(F||!C);if(!1===v)var c=C&&!F;else{z||p||C||(z=r);var d=v-(r-z),h=(0>=d||d>v)&&(C||p);h?(p&&(p=eb(p)),z=r,t=b.apply(q,n)):p||(p=yd(k,d))}h&&F?F=eb(F):F||a===v||(F=yd(f,a));c&&(h=!0,t=b.apply(q,n));!h||F||p||(n=q=B);return t}var n,p,t,r,q,F,E,z=0,C=!1,v=!1,J=!0;if("function"!=typeof b)throw new Qa("Expected a function");a=sa(a)||0;ka(c)&&(C=!!c.leading,v="maxWait"in c&&Ga(sa(c.maxWait)||
0,a),J="trailing"in c?!!c.trailing:J);l.cancel=d;l.flush=function(){if(F&&E||p&&J)t=b.apply(q,n);d();return t};return l}function ue(b,a){if("function"!=typeof b||a&&"function"!=typeof a)throw new Qa("Expected a function");var c=function(){var d=arguments,h=a?a.apply(this,d):d[0],f=c.cache;if(f.has(h))return f.get(h);d=b.apply(this,d);c.cache=f.set(h,d);return d};c.cache=new ue.Cache;return c}function S(b,e){if("function"!=typeof b)throw new Qa("Expected a function");e=Ga(e===B?b.length-1:Z(e),0);
return function(){for(var c=arguments,d=-1,h=Ga(c.length-e,0),f=Array(h);++d<h;)f[d]=c[e+d];switch(e){case 0:return b.call(this,f);case 1:return b.call(this,c[0],f);case 2:return b.call(this,c[0],c[1],f)}h=Array(e+1);for(d=-1;++d<e;)h[d]=c[d];h[e]=f;return a(b,this,h)}}function Ib(b,a){return b===a||b!==b&&a!==a}function vd(b,a){return b>a}function Ta(b){return oa(b)&&ma.call(b,"callee")&&(!Kf.call(b,"callee")||"[object Arguments]"==Fa.call(b))}function Ka(b){return null!=b&&hc(Fe(b))&&!Ab(b)}function oa(b){return ra(b)&&
Ka(b)}function zf(b){return ra(b)?"[object Error]"==Fa.call(b)||"string"==typeof b.message&&"string"==typeof b.name:!1}function Ab(b){b=ka(b)?Fa.call(b):"";return"[object Function]"==b||"[object GeneratorFunction]"==b}function Af(b){return"number"==typeof b&&b==Z(b)}function hc(b){return"number"==typeof b&&-1<b&&0==b%1&&9007199254740991>=b}function ka(b){var a=typeof b;return!!b&&("object"==a||"function"==a)}function ra(b){return!!b&&"object"==typeof b}function Bf(b){return null==b?!1:Ab(b)?Jf.test(Xb.call(b)):
ra(b)&&(Zb(b)?Jf:Yf).test(b)}function Cf(b){return"number"==typeof b||ra(b)&&"[object Number]"==Fa.call(b)}function ve(b){if(!ra(b)||"[object Object]"!=Fa.call(b)||Zb(b))return!1;b=pb(b);if(null===b)return!0;b=b.constructor;return"function"==typeof b&&b instanceof b&&Xb.call(b)==If}function Bg(b){return ka(b)&&"[object RegExp]"==Fa.call(b)}function Cc(b){return"string"==typeof b||!Y(b)&&ra(b)&&"[object String]"==Fa.call(b)}function Df(b){return"symbol"==typeof b||ra(b)&&"[object Symbol]"==Fa.call(b)}
function Xc(b){return ra(b)&&hc(b.length)&&!!ha[Fa.call(b)]}function we(b,a){return b<a}function Na(b){if(!b)return[];if(Ka(b))return Cc(b)?b.match(Ca):Ia(b);if(Lb&&b[Lb])return M(b[Lb]());var a=ab(b);return("[object Map]"==a?Ob:"[object Set]"==a?za:wd)(b)}function Z(b){if(!b)return 0===b?b:0;b=sa(b);if(b===fb||b===-fb)return 1.7976931348623157E308*(0>b?-1:1);var a=b%1;return b===b?a?b-a:b:0}function xe(b){return b?sc(Z(b),0,4294967295):0}function sa(b){ka(b)&&(b=Ab(b.valueOf)?b.valueOf():b,b=ka(b)?
b+"":b);if("string"!=typeof b)return 0===b?b:+b;b=b.replace(ed,"");var a=cf.test(b);return a||Pd.test(b)?ag(b.slice(2),a?2:8):Wg.test(b)?Qf:+b}function ye(b){return Tc(b,bb(b))}function ea(b){if("string"==typeof b)return b;if(null==b)return"";if(Df(b))return N?N.call(b):"";var a=b+"";return"0"==a&&1/b==-fb?"-0":a}function La(b,a,c){b=null==b?B:jd(b,a);return b===B?c:b}function ze(b,a){return qe(b,a,kd)}function Ae(b,a){return qe(b,a,dg)}function Ea(b){var a=Ac(b);if(!a&&!Ka(b))return Pf(Object(b));
var c=tg(b),d=!!c,c=c||[],h=c.length,f;for(f in b)!kd(b,f)||d&&("length"==f||Ma(f,h))||a&&"constructor"==f||c.push(f);return c}function bb(b){for(var a=-1,c=Ac(b),d=kf(b),h=d.length,f=tg(b),k=!!f,f=f||[],l=f.length;++a<h;){var n=d[a];k&&("length"==n||Ma(n,l))||"constructor"==n&&(c||!ma.call(b,n))||f.push(n)}return f}function Cg(b){return Ua(b,Ea(b))}function wd(b){return b?na(b,Ea(b)):[]}function Ef(b){return uc(ea(b).toLowerCase())}function Dg(b){return(b=ea(b))&&b.replace($f,Gd).replace(Rd,"")}
function Eg(b,a){b=ea(b);a=Z(a);var c="";if(!b||1>a||9007199254740991<a)return c;do a%2&&(c+=b),a=O(a/2),b+=b;while(a);return c}function Ff(b,a,c){b=ea(b);a=c?B:a;a===B&&(a=Ud.test(b)?Td:Sd);return b.match(a)||[]}function Dc(b){return function(){return b}}function cb(b){return b}function Gf(b){return jf("function"==typeof b?b:kb(b,!0))}function Zc(b,a,c){var d=Ea(a),f=Ub(a,d);null!=c||ka(a)&&(f.length||!d.length)||(c=a,a=b,b=this,f=Ub(a,Ea(a)));var k=ka(c)&&"chain"in c?c.chain:!0,l=Ab(b);h(f,function(c){var d=
a[c];b[c]=d;l&&(b.prototype[c]=function(){var a=this.__chain__;if(k||a){var c=b(this.__wrapped__);(c.__actions__=Ia(this.__actions__)).push({func:d,args:arguments,thisArg:b});c.__chain__=a;return c}return d.apply(b,z([this.value()],arguments))})});return b}function Be(){}function Hf(b){return Wb(b)?Sc(b):ee(b)}function Jb(b){return b&&b.length?U(b,cb):0}k=k?Rb.defaults({},k,Rb.pick(ib,Vd)):ib;var Ec=k.Date,Ce=k.Error,ta=k.Math,$c=k.RegExp,Qa=k.TypeError,Fc=k.Array.prototype,ua=k.Object.prototype,
Xb=k.Function.prototype.toString,ma=ua.hasOwnProperty,Kb=0,If=Xb.call(Object),Fa=ua.toString,Gc=ib._,Jf=$c("^"+Xb.call(ma).replace(fa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hg=bg?k.Buffer:B,Ig=k.Reflect,v=k.Symbol,xd=k.Uint8Array,eb=k.clearTimeout,lb=Ig?Ig.enumerate:B,pb=Object.getPrototypeOf,Ba=Object.getOwnPropertySymbols,Lb="symbol"==typeof(Lb=v&&v.iterator)?Lb:B,hh=Object.create,Kf=ua.propertyIsEnumerable,yd=k.setTimeout,De=Fc.splice,zd=ta.ceil,
O=ta.floor,ic=k.isFinite,Jg=Fc.join,Pf=Object.keys,Ga=ta.max,Ha=ta.min,Pe=k.parseInt,Fd=ta.random,ih=Fc.reverse,mb=pe(k,"Map"),W=pe(k,"Set"),jc=pe(k,"WeakMap"),Ra=pe(Object,"create"),Ad=jc&&new jc,Hd=!Kf.call({valueOf:1},"valueOf"),Nb={},Ug=mb?Xb.call(mb):"",Se=W?Xb.call(W):"",P=jc?Xb.call(jc):"",Da=v?v.prototype:B,wa=Da?Da.valueOf:B,N=Da?Da.toString:B;q.templateSettings={escape:Kc,evaluate:Uf,interpolate:Ye,variable:"",imports:{_:q}};var ba=lg(Za),ad=lg(Tb,!0),Ee=mg(),Cd=mg(!0);lb&&!Kf.call({valueOf:1},
"valueOf")&&(kf=function(b){return M(lb(b))});var Lg=Ad?function(b,a){Ad.set(b,a);return b}:cb,Lf=W&&2===(new W([1,2])).size?function(b){return new W(b)}:Be,Dd=Ad?function(b){return Ad.get(b)}:Be,Fe=Sc("length"),Rf=Ba||function(){return[]};if(mb&&"[object Map]"!=ab(new mb)||W&&"[object Set]"!=ab(new W)||jc&&"[object WeakMap]"!=ab(new jc))ab=function(b){var a=Fa.call(b);b="[object Object]"==a?b.constructor:null;if(b="function"==typeof b?Xb.call(b):"")switch(b){case Ug:return"[object Map]";case Se:return"[object Set]";
case P:return"[object WeakMap]"}return a};var Ue=function(){var b=0,a=0;return function(c,d){var h=Xa(),f=16-(h-a);a=h;if(0<f){if(150<=++b)return c}else b=0;return Lg(c,d)}}(),Sf=S(function(b,a){Y(b)||(b=null==b?[]:[Object(b)]);a=ja(a,1);for(var c=b,d=a,h=-1,f=c.length,k=-1,l=d.length,n=Array(f+l);++h<f;)n[h]=c[h];for(;++k<l;)n[h++]=d[k];return n}),Mf=S(function(b,a){return oa(b)?yb(b,ja(a,1,!0)):[]}),Ge=S(function(b,a){var c=Ja(a);oa(c)&&(c=B);return oa(b)?yb(b,ja(a,1,!0),V(c)):[]}),Jd=S(function(b,
a){var c=Ja(a);oa(c)&&(c=B);return oa(b)?yb(b,ja(a,1,!0),B,c):[]}),Nd=S(function(b){var a=l(b,ae);return a.length&&a[0]===b[0]?be(a):[]}),Od=S(function(b){var a=Ja(b),c=l(b,ae);a===Ja(c)?a=B:c.pop();return c.length&&c[0]===b[0]?be(c,V(a)):[]}),Md=S(function(b){var a=Ja(b),c=l(b,ae);a===Ja(c)?a=B:c.pop();return c.length&&c[0]===b[0]?be(c,B,a):[]}),Ld=S(tf),Pb=S(function(b,a){a=l(ja(a,1),String);var c=$d(b,a);ld(b,a.sort(nb));return c}),Xf=S(function(b){return ec(ja(b,1,!0))}),He=S(function(b){var a=
Ja(b);oa(a)&&(a=B);return ec(ja(b,1,!0),V(a))}),jh=S(function(b){var a=Ja(b);oa(a)&&(a=B);return ec(ja(b,1,!0),B,a)}),Ag=S(function(b,a){return oa(b)?yb(b,a):[]}),kh=S(function(b){return he(p(b,oa))}),Nf=S(function(b){var a=Ja(b);oa(a)&&(a=B);return he(p(b,oa),V(a))}),lh=S(function(b){var a=Ja(b);oa(a)&&(a=B);return he(p(b,oa),B,a)}),Ie=S(uf),Mg=S(function(b){var a=b.length,a=1<a?b[a-1]:B,a="function"==typeof a?(b.pop(),a):B;return xg(b,a)}),Zf=S(function(b){b=ja(b,1);var a=b.length,c=a?b[0]:0,d=
this.__wrapped__,h=function(a){return $d(a,b)};if(1<a||this.__actions__.length||!(d instanceof T)||!Ma(c))return this.thru(h);d=d.slice(c,+c+(a?1:0));d.__actions__.push({func:sd,args:[h],thisArg:B});return(new D(d,this.__chain__)).thru(function(b){a&&!b.length&&b.push(B);return b})}),bd=je(function(b,a,c){ma.call(b,c)?++b[c]:b[c]=1}),nc=je(function(b,a,c){ma.call(b,c)?b[c].push(a):b[c]=[a]}),Wa=S(function(b,c,d){var h=-1,f="function"==typeof c,k=Wb(c),l=Ka(b)?Array(b.length):[];ba(b,function(b){var n=
f?c:k&&null!=b?b[c]:B;l[++h]=n?a(n,b,d):Pc(b,c,d)});return l}),gd=je(function(b,a,c){b[c]=a}),Mc=je(function(b,a,c){b[c?0:1].push(a)},function(){return[[],[]]}),Qb=S(function(b,a){if(null==b)return[];var c=a.length;1<c&&zb(b,a[0],a[1])?a=[]:2<c&&zb(a[0],a[1],a[2])&&(a.length=1);return nf(b,ja(a,1),[])}),Xa=Ec.now,gb=S(function(b,a,c){var d=1;if(c.length)var h=da(c,Wc(gb)),d=d|32;return $a(b,d,a,c,h)}),Ya=S(function(b,a,c){var d=3;if(c.length)var h=da(c,Wc(Ya)),d=d|32;return $a(a,d,b,c,h)}),hb=S(function(b,
a){return hd(b,1,a)}),Sa=S(function(b,a,c){return hd(b,sa(a)||0,c)}),$b=S(function(b,c){c=l(ja(c,1),V());var d=c.length;return S(function(h){for(var f=-1,k=Ha(h.length,d);++f<k;)h[f]=c[f].call(this,h[f]);return a(b,this,h)})}),Cb=S(function(b,a){var c=da(a,Wc(Cb));return $a(b,32,B,a,c)}),sb=S(function(b,a){var c=da(a,Wc(sb));return $a(b,64,B,a,c)}),rb=S(function(b,a){return $a(b,256,B,B,B,ja(a,1))}),Y=Array.isArray,Ed=Hg?function(b){return b instanceof Hg}:Dc(!1),Yd=Uc(function(b,a){if(Hd||Ac(a)||
Ka(a))Tc(a,Ea(a),b);else for(var c in a)ma.call(a,c)&&rc(b,c,a[c])}),Sb=Uc(function(b,a){if(Hd||Ac(a)||Ka(a))Tc(a,bb(a),b);else for(var c in a)rc(b,c,a[c])}),kc=Uc(function(b,a,c,d){qf(a,bb(a),b,d)}),Je=Uc(function(b,a,c,d){qf(a,Ea(a),b,d)}),Ke=S(function(b,a){return $d(b,ja(a,1))}),Le=S(function(b){b.push(B,Zd);return a(kc,B,b)}),mh=S(function(b){b.push(B,qd);return a(Of,B,b)}),wb=pg(function(b,a,c){b[a]=c},Dc(cb)),Me=pg(function(b,a,c){ma.call(b,a)?b[a].push(c):b[a]=[c]},V),cd=S(Pc),Ng=Uc(function(b,
a,c){de(b,a,c)}),Of=Uc(function(b,a,c,d){de(b,a,c,d)}),Og=S(function(b,a){if(null==b)return{};a=l(ja(a,1),String);return Qc(b,yb(bb(b),a))}),Pg=S(function(b,a){return null==b?{}:Qc(b,ja(a,1))}),Qg=yc(function(b,a,c){a=a.toLowerCase();return b+(c?Ef(a):a)}),Ne=yc(function(b,a,c){return b+(c?"-":"")+a.toLowerCase()}),Rc=yc(function(b,a,c){return b+(c?" ":"")+a.toLowerCase()}),wc=rf("toLowerCase"),uc=rf("toUpperCase"),eg=yc(function(b,a,c){return b+(c?"_":"")+a.toLowerCase()}),mf=yc(function(b,a,c){return b+
(c?" ":"")+Ef(a)}),md=yc(function(b,a,c){return b+(c?" ":"")+a.toUpperCase()}),lf=S(function(b,c){try{return a(b,B,c)}catch(d){return zf(d)?d:new Ce(d)}}),Oe=S(function(b,a){h(ja(a,1),function(a){b[a]=gb(b[a],b)});return b}),ie=og(),Rg=og(!0),nh=S(function(b,a){return function(c){return Pc(c,b,a)}}),oh=S(function(b,a){return function(c){return Pc(b,c,a)}}),ph=le(l),qh=le(n),rh=le(X),Sg=qg(),sh=qg(!0),th=ne("ceil"),eh=ne("floor"),fh=ne("round");q.prototype=x.prototype;q.prototype.constructor=q;D.prototype=
dc(x.prototype);D.prototype.constructor=D;T.prototype=dc(x.prototype);T.prototype.constructor=T;Db.prototype=Ra?Ra(null):ua;bc.prototype.clear=function(){this.__data__={hash:new Db,map:mb?new mb:[],string:new Db}};bc.prototype["delete"]=function(b){var a=this.__data__;return zc(b)?(a="string"==typeof b?a.string:a.hash,(Ra?a[b]!==B:ma.call(a,b))&&delete a[b]):mb?a.map["delete"](b):ac(a.map,b)};bc.prototype.get=function(b){var a=this.__data__;return zc(b)?(a="string"==typeof b?a.string:a.hash,Ra?(b=
a[b],b="__lodash_hash_undefined__"===b?B:b):b=ma.call(a,b)?a[b]:B,b):mb?a.map.get(b):pc(a.map,b)};bc.prototype.has=function(b){var a=this.__data__;zc(b)?(a="string"==typeof b?a.string:a.hash,b=Ra?a[b]!==B:ma.call(a,b)):b=mb?a.map.has(b):-1<jb(a.map,b);return b};bc.prototype.set=function(b,a){var c=this.__data__;zc(b)?("string"==typeof b?c.string:c.hash)[b]=Ra&&a===B?"__lodash_hash_undefined__":a:mb?c.map.set(b,a):qc(c.map,b,a);return this};tb.prototype.push=function(b){var a=this.__data__;zc(b)?(a=
a.__data__,("string"==typeof b?a.string:a.hash)[b]="__lodash_hash_undefined__"):a.set(b,"__lodash_hash_undefined__")};xb.prototype.clear=function(){this.__data__={array:[],map:null}};xb.prototype["delete"]=function(b){var a=this.__data__,c=a.array;return c?ac(c,b):a.map["delete"](b)};xb.prototype.get=function(b){var a=this.__data__,c=a.array;return c?pc(c,b):a.map.get(b)};xb.prototype.has=function(b){var a=this.__data__,c=a.array;return c?-1<jb(c,b):a.map.has(b)};xb.prototype.set=function(b,a){var c=
this.__data__,d=c.array;d&&(199>d.length?qc(d,b,a):(c.array=null,c.map=new bc(d)));(c=c.map)&&c.set(b,a);return this};ue.Cache=bc;q.after=function(b,a){if("function"!=typeof a)throw new Qa("Expected a function");b=Z(b);return function(){if(1>--b)return a.apply(this,arguments)}};q.ary=yf;q.assign=Yd;q.assignIn=Sb;q.assignInWith=kc;q.assignWith=Je;q.at=Ke;q.before=Bc;q.bind=gb;q.bindAll=Oe;q.bindKey=Ya;q.castArray=function(){if(!arguments.length)return[];var b=arguments[0];return Y(b)?b:[b]};q.chain=
vf;q.chunk=function(b,a){a=Ga(Z(a),0);var c=b?b.length:0;if(!c||1>a)return[];for(var d=0,h=0,f=Array(zd(c/a));d<c;)f[h++]=Fb(b,d,d+=a);return f};q.compact=function(b){for(var a=-1,c=b?b.length:0,d=0,h=[];++a<c;){var f=b[a];f&&(h[d++]=f)}return h};q.concat=Sf;q.cond=function(b){var c=b?b.length:0,d=V();b=c?l(b,function(b){if("function"!=typeof b[1])throw new Qa("Expected a function");return[d(b[0]),b[1]]}):[];return S(function(d){for(var h=-1;++h<c;){var f=b[h];if(a(f[0],this,d))return a(f[1],this,
d)}})};q.conforms=function(b){return gf(kb(b,!0))};q.constant=Dc;q.countBy=bd;q.create=function(b,a){var c=dc(b);return a?Nc(c,a):c};q.curry=td;q.curryRight=zg;q.debounce=ud;q.defaults=Le;q.defaultsDeep=mh;q.defer=hb;q.delay=Sa;q.difference=Mf;q.differenceBy=Ge;q.differenceWith=Jd;q.drop=Hb;q.dropRight=wg;q.dropRightWhile=function(b,a){return b&&b.length?fc(b,V(a,3),!0,!0):[]};q.dropWhile=function(b,a){return b&&b.length?fc(b,V(a,3),!0):[]};q.fill=function(b,a,c,d){var h=b?b.length:0;if(!h)return[];
c&&"number"!=typeof c&&zb(b,a,c)&&(c=0,d=h);h=b.length;c=Z(c);0>c&&(c=-c>h?0:h+c);d=d===B||d>h?h:Z(d);0>d&&(d+=h);for(d=c>d?0:xe(d);c<d;)b[c++]=a;return b};q.filter=function(b,a){return(Y(b)?p:hf)(b,V(a,3))};q.flatMap=function(b,a){return ja(xf(b,a),1)};q.flatten=function(b){return b&&b.length?ja(b,1):[]};q.flattenDeep=function(b){return b&&b.length?ja(b,fb):[]};q.flattenDepth=function(b,a){if(!b||!b.length)return[];a=a===B?1:Z(a);return ja(b,a)};q.flip=function(b){return $a(b,512)};q.flow=ie;q.flowRight=
Rg;q.fromPairs=function(b){for(var a=-1,c=b?b.length:0,d={};++a<c;){var h=b[a];d[h[0]]=h[1]}return d};q.functions=function(b){return null==b?[]:Ub(b,Ea(b))};q.functionsIn=function(b){return null==b?[]:Ub(b,bb(b))};q.groupBy=nc;q.initial=function(b){return wg(b,1)};q.intersection=Nd;q.intersectionBy=Od;q.intersectionWith=Md;q.invert=wb;q.invertBy=Me;q.invokeMap=Wa;q.iteratee=Gf;q.keyBy=gd;q.keys=Ea;q.keysIn=bb;q.map=xf;q.mapKeys=function(b,a){var c={};a=V(a,3);Za(b,function(b,d,h){c[a(b,d,h)]=b});
return c};q.mapValues=function(b,a){var c={};a=V(a,3);Za(b,function(b,d,h){c[d]=a(b,d,h)});return c};q.matches=function(b){return vc(kb(b,!0))};q.matchesProperty=function(b,a){return tc(b,kb(a,!0))};q.memoize=ue;q.merge=Ng;q.mergeWith=Of;q.method=nh;q.methodOf=oh;q.mixin=Zc;q.negate=function(b){if("function"!=typeof b)throw new Qa("Expected a function");return function(){return!b.apply(this,arguments)}};q.nthArg=function(b){b=Z(b);return function(){return arguments[b]}};q.omit=Og;q.omitBy=function(b,
a){a=V(a);return gg(b,function(b,c){return!a(b,c)})};q.once=function(b){return Bc(2,b)};q.orderBy=function(b,a,c,d){if(null==b)return[];Y(a)||(a=null==a?[]:[a]);c=d?B:c;Y(c)||(c=null==c?[]:[c]);return nf(b,a,c)};q.over=ph;q.overArgs=$b;q.overEvery=qh;q.overSome=rh;q.partial=Cb;q.partialRight=sb;q.partition=Mc;q.pick=Pg;q.pickBy=function(b,a){return null==b?{}:gg(b,V(a))};q.property=Hf;q.propertyOf=function(b){return function(a){return null==b?B:jd(b,a)}};q.pull=Ld;q.pullAll=tf;q.pullAllBy=function(b,
a,c){return b&&b.length&&a&&a.length?nd(b,a,V(c)):b};q.pullAllWith=function(b,a,c){return b&&b.length&&a&&a.length?nd(b,a,B,c):b};q.pullAt=Pb;q.range=Sg;q.rangeRight=sh;q.rearg=rb;q.reject=function(b,a){var c=Y(b)?p:hf;a=V(a,3);return c(b,function(b,c,d){return!a(b,c,d)})};q.remove=function(b,a){var c=[];if(!b||!b.length)return c;var d=-1,h=[],f=b.length;for(a=V(a,3);++d<f;){var k=b[d];a(k,d,b)&&(c.push(k),h.push(d))}ld(b,h);return c};q.rest=S;q.reverse=se;q.sampleSize=te;q.set=function(b,a,c){return null==
b?b:Vb(b,a,c)};q.setWith=function(b,a,c,d){d="function"==typeof d?d:B;return null==b?b:Vb(b,a,c,d)};q.shuffle=function(b){return te(b,4294967295)};q.slice=function(b,a,c){var d=b?b.length:0;if(!d)return[];c&&"number"!=typeof c&&zb(b,a,c)?(a=0,c=d):(a=null==a?0:Z(a),c=c===B?d:Z(c));return Fb(b,a,c)};q.sortBy=Qb;q.sortedUniq=function(b){return b&&b.length?hg(b):[]};q.sortedUniqBy=function(b,a){return b&&b.length?hg(b,V(a)):[]};q.split=function(b,a,c){return ea(b).split(a,c)};q.spread=function(b,c){if("function"!=
typeof b)throw new Qa("Expected a function");c=c===B?0:Ga(Z(c),0);return S(function(d){var h=d[c];d=d.slice(0,c);h&&z(d,h);return a(b,this,d)})};q.tail=function(b){return Hb(b,1)};q.take=function(b,a,c){if(!b||!b.length)return[];a=c||a===B?1:Z(a);return Fb(b,0,0>a?0:a)};q.takeRight=function(b,a,c){var d=b?b.length:0;if(!d)return[];a=c||a===B?1:Z(a);a=d-a;return Fb(b,0>a?0:a,d)};q.takeRightWhile=function(b,a){return b&&b.length?fc(b,V(a,3),!1,!0):[]};q.takeWhile=function(b,a){return b&&b.length?fc(b,
V(a,3)):[]};q.tap=function(b,a){a(b);return b};q.throttle=function(b,a,c){var d=!0,h=!0;if("function"!=typeof b)throw new Qa("Expected a function");ka(c)&&(d="leading"in c?!!c.leading:d,h="trailing"in c?!!c.trailing:h);return ud(b,a,{leading:d,maxWait:a,trailing:h})};q.thru=sd;q.toArray=Na;q.toPairs=Cg;q.toPairsIn=function(b){return Ua(b,bb(b))};q.toPath=function(b){return Y(b)?l(b,String):ug(b)};q.toPlainObject=ye;q.transform=function(b,a,c){var d=Y(b)||Xc(b);a=V(a,4);if(null==c)if(d||ka(b)){var f=
b.constructor;c=d?Y(b)?new f:[]:Ab(f)?dc(pb(b)):{}}else c={};(d?h:Za)(b,function(b,d,h){return a(c,b,d,h)});return c};q.unary=function(b){return yf(b,1)};q.union=Xf;q.unionBy=He;q.unionWith=jh;q.uniq=function(b){return b&&b.length?ec(b):[]};q.uniqBy=function(b,a){return b&&b.length?ec(b,V(a)):[]};q.uniqWith=function(b,a){return b&&b.length?ec(b,B,a):[]};q.unset=function(b,a){var c;if(null==b)c=!0;else{c=b;var d=a,d=Wb(d,c)?[d+""]:cc(d);c=rd(c,d);d=Ja(d);c=null!=c&&ze(c,d)?delete c[d]:!0}return c};
q.unzip=uf;q.unzipWith=xg;q.update=function(b,a,c){null!=b&&(c=vb(c),b=Vb(b,a,c(jd(b,a)),void 0));return b};q.updateWith=function(b,a,c,d){d="function"==typeof d?d:B;null!=b&&(c=vb(c),b=Vb(b,a,c(jd(b,a)),d));return b};q.values=wd;q.valuesIn=function(b){return null==b?[]:na(b,bb(b))};q.without=Ag;q.words=Ff;q.wrap=function(b,a){a=null==a?cb:a;return Cb(a,b)};q.xor=kh;q.xorBy=Nf;q.xorWith=lh;q.zip=Ie;q.zipObject=function(b,a){return Gb(b||[],a||[],rc)};q.zipObjectDeep=function(b,a){return Gb(b||[],
a||[],Vb)};q.zipWith=Mg;q.extend=Sb;q.extendWith=kc;Zc(q,q);q.add=function(b,a){var c;if(b===B&&a===B)return 0;b!==B&&(c=b);a!==B&&(c=c===B?a:c+a);return c};q.attempt=lf;q.camelCase=Qg;q.capitalize=Ef;q.ceil=th;q.clamp=function(b,a,c){c===B&&(c=a,a=B);c!==B&&(c=sa(c),c=c===c?c:0);a!==B&&(a=sa(a),a=a===a?a:0);return sc(sa(b),a,c)};q.clone=function(b){return kb(b,!1,!0)};q.cloneDeep=function(b){return kb(b,!0,!0)};q.cloneDeepWith=function(b,a){return kb(b,!0,!0,a)};q.cloneWith=function(b,a){return kb(b,
!1,!0,a)};q.deburr=Dg;q.endsWith=function(b,a,c){b=ea(b);a="string"==typeof a?a:a+"";var d=b.length;c=c===B?d:sc(Z(c),0,d);c-=a.length;return 0<=c&&b.indexOf(a,c)==c};q.eq=Ib;q.escape=function(b){return(b=ea(b))&&We.test(b)?b.replace(dd,ob):b};q.escapeRegExp=function(b){return(b=ea(b))&&xa.test(b)?b.replace(fa,"\\$&"):b};q.every=function(b,a,c){var d=Y(b)?n:Xd;c&&zb(b,a,c)&&(a=B);return d(b,V(a,3))};q.find=function(b,a){a=V(a,3);if(Y(b)){var c=t(b,a);return-1<c?b[c]:B}return R(b,a,ba)};q.findIndex=
function(b,a){return b&&b.length?t(b,V(a,3)):-1};q.findKey=function(b,a){return R(b,V(a,3),Za,!0)};q.findLast=function(b,a){a=V(a,3);if(Y(b)){var c=t(b,a,!0);return-1<c?b[c]:B}return R(b,a,ad)};q.findLastIndex=function(b,a){return b&&b.length?t(b,V(a,3),!0):-1};q.findLastKey=function(b,a){return R(b,V(a,3),Tb,!0)};q.floor=eh;q.forEach=yg;q.forEachRight=wf;q.forIn=function(b,a){return null==b?b:Ee(b,vb(a),bb)};q.forInRight=function(b,a){return null==b?b:Cd(b,vb(a),bb)};q.forOwn=function(b,a){return b&&
Za(b,vb(a))};q.forOwnRight=function(b,a){return b&&Tb(b,vb(a))};q.get=La;q.gt=vd;q.gte=function(b,a){return b>=a};q.has=ze;q.hasIn=Ae;q.head=re;q.identity=cb;q.includes=function(b,a,c,d){b=Ka(b)?b:wd(b);c=c&&!d?Z(c):0;d=b.length;0>c&&(c=Ga(d+c,0));return Cc(b)?c<=d&&-1<b.indexOf(a,c):!!d&&-1<E(b,a,c)};q.indexOf=function(b,a,c){var d=b?b.length:0;if(!d)return-1;c=Z(c);0>c&&(c=Ga(d+c,0));return E(b,a,c)};q.inRange=function(b,a,c){a=sa(a)||0;c===B?(c=a,a=0):c=sa(c)||0;b=sa(b);return b>=Ha(a,c)&&b<Ga(a,
c)};q.invoke=cd;q.isArguments=Ta;q.isArray=Y;q.isArrayBuffer=function(b){return ra(b)&&"[object ArrayBuffer]"==Fa.call(b)};q.isArrayLike=Ka;q.isArrayLikeObject=oa;q.isBoolean=function(b){return!0===b||!1===b||ra(b)&&"[object Boolean]"==Fa.call(b)};q.isBuffer=Ed;q.isDate=function(b){return ra(b)&&"[object Date]"==Fa.call(b)};q.isElement=function(b){return!!b&&1===b.nodeType&&ra(b)&&!ve(b)};q.isEmpty=function(b){if(Ka(b)&&(Y(b)||Cc(b)||Ab(b.splice)||Ta(b)))return!b.length;for(var a in b)if(ma.call(b,
a))return!1;return!0};q.isEqual=function(b,a){return Eb(b,a)};q.isEqualWith=function(b,a,c){var d=(c="function"==typeof c?c:B)?c(b,a):B;return d===B?Eb(b,a,c):!!d};q.isError=zf;q.isFinite=function(b){return"number"==typeof b&&ic(b)};q.isFunction=Ab;q.isInteger=Af;q.isLength=hc;q.isMap=function(b){return ra(b)&&"[object Map]"==ab(b)};q.isMatch=function(b,a){return b===a||ce(b,a,sf(a))};q.isMatchWith=function(b,a,c){c="function"==typeof c?c:B;return ce(b,a,sf(a),c)};q.isNaN=function(b){return Cf(b)&&
b!=+b};q.isNative=Bf;q.isNil=function(b){return null==b};q.isNull=function(b){return null===b};q.isNumber=Cf;q.isObject=ka;q.isObjectLike=ra;q.isPlainObject=ve;q.isRegExp=Bg;q.isSafeInteger=function(b){return Af(b)&&-9007199254740991<=b&&9007199254740991>=b};q.isSet=function(b){return ra(b)&&"[object Set]"==ab(b)};q.isString=Cc;q.isSymbol=Df;q.isTypedArray=Xc;q.isUndefined=function(b){return b===B};q.isWeakMap=function(b){return ra(b)&&"[object WeakMap]"==ab(b)};q.isWeakSet=function(b){return ra(b)&&
"[object WeakSet]"==Fa.call(b)};q.join=function(b,a){return b?Jg.call(b,a):""};q.kebabCase=Ne;q.last=Ja;q.lastIndexOf=function(b,a,c){var d=b?b.length:0;if(!d)return-1;var h=d;c!==B&&(h=Z(c),h=(0>h?Ga(d+h,0):Ha(h,d-1))+1);if(a!==a)return mc(b,h,!0);for(;h--;)if(b[h]===a)return h;return-1};q.lowerCase=Rc;q.lowerFirst=wc;q.lt=we;q.lte=function(b,a){return b<=a};q.max=function(b){return b&&b.length?ga(b,cb,vd):B};q.maxBy=function(b,a){return b&&b.length?ga(b,V(a),vd):B};q.mean=function(b){return Jb(b)/
(b?b.length:0)};q.min=function(b){return b&&b.length?ga(b,cb,we):B};q.minBy=function(b,a){return b&&b.length?ga(b,V(a),we):B};q.noConflict=function(){ib._===this&&(ib._=Gc);return this};q.noop=Be;q.now=Xa;q.pad=function(b,a,c){b=ea(b);a=Z(a);var d=qb(b);if(!a||d>=a)return b;d=(a-d)/2;a=O(d);d=zd(d);return me("",a,c)+b+me("",d,c)};q.padEnd=function(b,a,c){b=ea(b);return b+me(b,a,c)};q.padStart=function(b,a,c){b=ea(b);return me(b,a,c)+b};q.parseInt=function(b,a,c){c||null==a?a=0:a&&(a=+a);b=ea(b).replace(ed,
"");return Pe(b,a||(bf.test(b)?16:10))};q.random=function(b,a,c){c&&"boolean"!=typeof c&&zb(b,a,c)&&(a=c=B);c===B&&("boolean"==typeof a?(c=a,a=B):"boolean"==typeof b&&(c=b,b=B));b===B&&a===B?(b=0,a=1):(b=sa(b)||0,a===B?(a=b,b=0):a=sa(a)||0);if(b>a){var d=b;b=a;a=d}return c||b%1||a%1?(c=Fd(),Ha(b+c*(a-b+Wd("1e-"+((c+"").length-1))),a)):xc(b,a)};q.reduce=function(b,a,c){var d=Y(b)?A:Q,h=3>arguments.length;return d(b,V(a,4),c,h,ba)};q.reduceRight=function(b,a,c){var d=Y(b)?Aa:Q,h=3>arguments.length;
return d(b,V(a,4),c,h,ad)};q.repeat=Eg;q.replace=function(){var b=arguments,a=ea(b[0]);return 3>b.length?a:a.replace(b[1],b[2])};q.result=function(b,a,c){if(Wb(a,b))d=null==b?B:b[a];else{a=cc(a);var d=La(b,a);b=rd(b,a)}d===B&&(d=c);return Ab(d)?d.call(b):d};q.round=fh;q.runInContext=Va;q.sample=function(b){b=Ka(b)?b:wd(b);var a=b.length;return 0<a?b[xc(0,a-1)]:B};q.size=function(b){if(null==b)return 0;if(Ka(b)){var a=b.length;return a&&Cc(b)?qb(b):a}return Ea(b).length};q.snakeCase=eg;q.some=function(b,
a,c){var d=Y(b)?X:of;c&&zb(b,a,c)&&(a=B);return d(b,V(a,3))};q.sortedIndex=function(b,a){return fe(b,a)};q.sortedIndexBy=function(b,a,c){return pf(b,a,V(c))};q.sortedIndexOf=function(b,a){var c=b?b.length:0;if(c){var d=fe(b,a);if(d<c&&Ib(b[d],a))return d}return-1};q.sortedLastIndex=function(b,a){return fe(b,a,!0)};q.sortedLastIndexBy=function(b,a,c){return pf(b,a,V(c),!0)};q.sortedLastIndexOf=function(b,a){if(b&&b.length){var c=fe(b,a,!0)-1;if(Ib(b[c],a))return c}return-1};q.startCase=mf;q.startsWith=
function(b,a,c){b=ea(b);c=sc(Z(c),0,b.length);return b.lastIndexOf(a,c)==c};q.subtract=function(b,a){var c;if(b===B&&a===B)return 0;b!==B&&(c=b);a!==B&&(c=c===B?a:c-a);return c};q.sum=Jb;q.sumBy=function(b,a){return b&&b.length?U(b,V(a)):0};q.template=function(b,a,c){var d=q.templateSettings;c&&zb(b,a,c)&&(a=B);b=ea(b);a=kc({},a,d,Zd);c=kc({},a.imports,d.imports,Zd);var h=Ea(c),f=na(c,h),k,l,n=0;c=a.interpolate||Qd;var p="__p += '";c=$c((a.escape||Qd).source+"|"+c.source+"|"+(c===Ye?Wf:Qd).source+
"|"+(a.evaluate||Qd).source+"|$","g");var t="//# sourceURL="+("sourceURL"in a?a.sourceURL:"lodash.templateSources["+ ++df+"]")+"\n";b.replace(c,function(a,c,d,e,h,f){d||(d=e);p+=b.slice(n,f).replace(oc,lc);c&&(k=!0,p+="' +\n__e("+c+") +\n'");h&&(l=!0,p+="';\n"+h+";\n__p += '");d&&(p+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");n=f+a.length;return a});p+="';\n";(a=a.variable)||(p="with (obj) {\n"+p+"\n}\n");p=(l?p.replace(Tf,""):p).replace(Te,"$1").replace(Ve,"$1;");p="function("+(a||"obj")+
") {\n"+(a?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(k?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";a=lf(function(){return Function(h,t+"return "+p).apply(B,f)});a.source=p;if(zf(a))throw a;return a};q.times=function(b,a){b=Z(b);if(1>b||9007199254740991<b)return[];var c=4294967295,d=Ha(b,4294967295);a=vb(a);b-=4294967295;for(d=F(d,a);++c<b;)a(c);return d};q.toInteger=Z;q.toLength=xe;q.toLower=function(b){return ea(b).toLowerCase()};
q.toNumber=sa;q.toSafeInteger=function(b){return sc(Z(b),-9007199254740991,9007199254740991)};q.toString=ea;q.toUpper=function(b){return ea(b).toUpperCase()};q.trim=function(b,a,c){b=ea(b);if(!b)return b;if(c||a===B)return b.replace(ed,"");a+="";if(!a)return b;b=b.match(Ca);a=a.match(Ca);return b.slice(Mb(b,a),db(b,a)+1).join("")};q.trimEnd=function(b,a,c){b=ea(b);if(!b)return b;if(c||a===B)return b.replace(Vg,"");a+="";if(!a)return b;b=b.match(Ca);return b.slice(0,db(b,a.match(Ca))+1).join("")};
q.trimStart=function(b,a,c){b=ea(b);if(!b)return b;if(c||a===B)return b.replace(Kd,"");a+="";if(!a)return b;b=b.match(Ca);return b.slice(Mb(b,a.match(Ca))).join("")};q.truncate=function(b,a){var c=30,d="...";if(ka(a))var h="separator"in a?a.separator:h,c="length"in a?Z(a.length):c,d="omission"in a?ea(a.omission):d;b=ea(b);var f=b.length;if(Lc.test(b))var k=b.match(Ca),f=k.length;if(c>=f)return b;f=c-qb(d);if(1>f)return d;c=k?k.slice(0,f).join(""):b.slice(0,f);if(h===B)return c+d;k&&(f+=c.length-f);
if(Bg(h)){if(b.slice(f).search(h)){var l=c;h.global||(h=$c(h.source,ea(af.exec(h))+"g"));for(h.lastIndex=0;k=h.exec(l);)var n=k.index;c=c.slice(0,n===B?f:n)}}else b.indexOf(h,f)!=f&&(h=c.lastIndexOf(h),-1<h&&(c=c.slice(0,h)));return c+d};q.unescape=function(b){return(b=ea(b))&&Bb.test(b)?b.replace(Id,Jc):b};q.uniqueId=function(b){var a=++Kb;return ea(b)+a};q.upperCase=md;q.upperFirst=uc;q.each=yg;q.eachRight=wf;q.first=re;Zc(q,function(){var b={};Za(q,function(a,c){ma.call(q.prototype,c)||(b[c]=a)});
return b}(),{chain:!1});q.VERSION="4.6.1";h("bind bindKey curry curryRight partial partialRight".split(" "),function(b){q[b].placeholder=q});h(["drop","take"],function(b,a){T.prototype[b]=function(c){var d=this.__filtered__;if(d&&!a)return new T(this);c=c===B?1:Ga(Z(c),0);var h=this.clone();d?h.__takeCount__=Ha(c,h.__takeCount__):h.__views__.push({size:Ha(c,4294967295),type:b+(0>h.__dir__?"Right":"")});return h};T.prototype[b+"Right"]=function(a){return this.reverse()[b](a).reverse()}});h(["filter",
"map","takeWhile"],function(b,a){var c=a+1,d=1==c||3==c;T.prototype[b]=function(b){var a=this.clone();a.__iteratees__.push({iteratee:V(b,3),type:c});a.__filtered__=a.__filtered__||d;return a}});h(["head","last"],function(b,a){var c="take"+(a?"Right":"");T.prototype[b]=function(){return this[c](1).value()[0]}});h(["initial","tail"],function(b,a){var c="drop"+(a?"":"Right");T.prototype[b]=function(){return this.__filtered__?new T(this):this[c](1)}});T.prototype.compact=function(){return this.filter(cb)};
T.prototype.find=function(b){return this.filter(b).head()};T.prototype.findLast=function(b){return this.reverse().find(b)};T.prototype.invokeMap=S(function(b,a){return"function"==typeof b?new T(this):this.map(function(c){return Pc(c,b,a)})});T.prototype.reject=function(b){b=V(b,3);return this.filter(function(a){return!b(a)})};T.prototype.slice=function(b,a){b=Z(b);var c=this;if(c.__filtered__&&(0<b||0>a))return new T(c);0>b?c=c.takeRight(-b):b&&(c=c.drop(b));a!==B&&(a=Z(a),c=0>a?c.dropRight(-a):c.take(a-
b));return c};T.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()};T.prototype.toArray=function(){return this.take(4294967295)};Za(T.prototype,function(b,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),d=/^(?:head|last)$/.test(a),h=q[d?"take"+("last"==a?"Right":""):a],f=d||/^find/.test(a);h&&(q.prototype[a]=function(){var a=this.__wrapped__,e=d?[1]:arguments,k=a instanceof T,l=e[0],n=k||Y(a),p=function(b){b=h.apply(q,z([b],e));return d&&t?b[0]:b};n&&c&&"function"==
typeof l&&1!=l.length&&(k=n=!1);var t=this.__chain__,r=!!this.__actions__.length,l=f&&!t,k=k&&!r;if(!f&&n)return a=k?a:new T(this),a=b.apply(a,e),a.__actions__.push({func:sd,args:[p],thisArg:B}),new D(a,t);if(l&&k)return b.apply(this,e);a=this.thru(p);return l?d?a.value()[0]:a.value():a})});h("pop push shift sort splice unshift".split(" "),function(b){var a=Fc[b],c=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",d=/^(?:pop|shift)$/.test(b);q.prototype[b]=function(){var b=arguments;return d&&!this.__chain__?
a.apply(this.value(),b):this[c](function(c){return a.apply(c,b)})}});Za(T.prototype,function(b,a){var c=q[a];if(c){var d=c.name+"";(Nb[d]||(Nb[d]=[])).push({name:a,func:c})}});Nb[ke(B,2).name]=[{name:"wrapper",func:B}];T.prototype.clone=function(){var b=new T(this.__wrapped__);b.__actions__=Ia(this.__actions__);b.__dir__=this.__dir__;b.__filtered__=this.__filtered__;b.__iteratees__=Ia(this.__iteratees__);b.__takeCount__=this.__takeCount__;b.__views__=Ia(this.__views__);return b};T.prototype.reverse=
function(){if(this.__filtered__){var b=new T(this);b.__dir__=-1;b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b};T.prototype.value=function(){var b,a=this.__wrapped__.value(),c=this.__dir__,d=Y(a),h=0>c,f=d?a.length:0;b=0;for(var k=f,l=this.__views__,n=-1,p=l.length;++n<p;){var t=l[n],r=t.size;switch(t.type){case "drop":b+=r;break;case "dropRight":k-=r;break;case "take":k=Ha(k,b+r);break;case "takeRight":b=Ga(b,k-r)}}l=k;k=l-b;h=h?l:b-1;b=this.__iteratees__;l=b.length;n=0;p=Ha(k,this.__takeCount__);
if(!d||200>f||f==k&&p==k)return ge(a,this.__actions__);d=[];a:for(;k--&&n<p;){h+=c;f=-1;for(t=a[h];++f<l;){var q=b[f],r=q.iteratee,q=q.type,r=r(t);if(2==q)t=r;else if(!r)if(1==q)continue a;else break a}d[n++]=t}return d};q.prototype.at=Zf;q.prototype.chain=function(){return vf(this)};q.prototype.commit=function(){return new D(this.value(),this.__chain__)};q.prototype.flatMap=function(b){return this.map(b).flatten()};q.prototype.next=function(){this.__values__===B&&(this.__values__=Na(this.value()));
var b=this.__index__>=this.__values__.length,a=b?B:this.__values__[this.__index__++];return{done:b,value:a}};q.prototype.plant=function(b){for(var a,c=this;c instanceof x;){var d=vg(c);d.__index__=0;d.__values__=B;a?h.__wrapped__=d:a=d;var h=d,c=c.__wrapped__}h.__wrapped__=b;return a};q.prototype.reverse=function(){var b=this.__wrapped__;return b instanceof T?(this.__actions__.length&&(b=new T(this)),b=b.reverse(),b.__actions__.push({func:sd,args:[se],thisArg:B}),new D(b,this.__chain__)):this.thru(se)};
q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=function(){return ge(this.__wrapped__,this.__actions__)};Lb&&(q.prototype[Lb]=dh);return q}var B,fb=1/0,Qf=0/0,Tf=/\b__p \+= '';/g,Te=/\b(__p \+=) '' \+/g,Ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Id=/&(?:amp|lt|gt|quot|#39|#96);/g,dd=/[&<>"'`]/g,Bb=RegExp(Id.source),We=RegExp(dd.source),Kc=/<%-([\s\S]+?)%>/g,Uf=/<%([\s\S]+?)%>/g,Ye=/<%=([\s\S]+?)%>/g,Vf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ze=/^\w*$/,Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,
fa=/[\\^$.*+?()[\]{}|]/g,xa=RegExp(fa.source),ed=/^\s+|\s+$/g,Kd=/^\s+/,Vg=/\s+$/,$e=/\\(\\)?/g,Wf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,af=/\w*$/,bf=/^0x/i,Wg=/^[-+]0x[0-9a-f]+$/i,cf=/^0b[01]+$/i,Yf=/^\[object .+?Constructor\]$/,Pd=/^0o[0-7]+$/i,fd=/^(?:0|[1-9]\d*)$/,$f=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Qd=/($^)/,oc=/['\n\r\u2028\u2029\\]/g,Rd=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,Ca=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
Lc=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,Sd=/[a-zA-Z0-9]+/g,Td=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+|[A-Z\xc0-\xd6\xd8-\xde]+|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
Ud=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vd="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),df=-1,ha={};ha["[object Float32Array]"]=ha["[object Float64Array]"]=ha["[object Int8Array]"]=ha["[object Int16Array]"]=ha["[object Int32Array]"]=ha["[object Uint8Array]"]=ha["[object Uint8ClampedArray]"]=
ha["[object Uint16Array]"]=ha["[object Uint32Array]"]=!0;ha["[object Arguments]"]=ha["[object Array]"]=ha["[object ArrayBuffer]"]=ha["[object Boolean]"]=ha["[object Date]"]=ha["[object Error]"]=ha["[object Function]"]=ha["[object Map]"]=ha["[object Number]"]=ha["[object Object]"]=ha["[object RegExp]"]=ha["[object Set]"]=ha["[object String]"]=ha["[object WeakMap]"]=!1;var ia={};ia["[object Arguments]"]=ia["[object Array]"]=ia["[object ArrayBuffer]"]=ia["[object Boolean]"]=ia["[object Date]"]=ia["[object Float32Array]"]=
ia["[object Float64Array]"]=ia["[object Int8Array]"]=ia["[object Int16Array]"]=ia["[object Int32Array]"]=ia["[object Map]"]=ia["[object Number]"]=ia["[object Object]"]=ia["[object RegExp]"]=ia["[object Set]"]=ia["[object String]"]=ia["[object Symbol]"]=ia["[object Uint8Array]"]=ia["[object Uint8ClampedArray]"]=ia["[object Uint16Array]"]=ia["[object Uint32Array]"]=!0;ia["[object Error]"]=ia["[object Function]"]=ia["[object WeakMap]"]=!1;var hd={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A",
"\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o",
"\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},ef={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Db={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},tb={"function":!0,object:!0},Xd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wd=parseFloat,
ag=parseInt,ac=tb[typeof x]&&x&&!x.nodeType?x:B,ub=tb[typeof D]&&D&&!D.nodeType?D:B,bg=ub&&ub.exports===ac?ac:B,ff=T(ac&&ub&&"object"==typeof k&&k),Nc=T(tb[typeof self]&&self),pc=T(tb[typeof window]&&window),qc=T(tb[typeof this]&&this),ib=ff||pc!==(qc&&qc.window)&&pc||Nc||qc||Function("return this")(),Rb=Va();(pc||Nc||{})._=Rb;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Rb}):ac&&ub?(bg&&((ub.exports=Rb)._=Rb),ac._=Rb):ib._=Rb}).call(this)}).call(this,
"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],40:[function(A,D,x){function k(c){c=""+c;if(!(1E4<c.length)&&(c=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(c))){var a=parseFloat(c[1]);switch((c[2]||"ms").toLowerCase()){case "years":case "year":case "yrs":case "yr":case "y":return 315576E5*a;case "days":case "day":case "d":return 864E5*a;case "hours":case "hour":case "hrs":case "hr":case "h":return 36E5*
a;case "minutes":case "minute":case "mins":case "min":case "m":return 6E4*a;case "seconds":case "second":case "secs":case "sec":case "s":return 1E3*a;case "milliseconds":case "millisecond":case "msecs":case "msec":case "ms":return a}}}function f(c,a,d){if(!(c<a))return c<1.5*a?Math.floor(c/a)+" "+d:Math.ceil(c/a)+" "+d+"s"}D.exports=function(c,a){a=a||{};return"string"==typeof c?k(c):a.long?f(c,864E5,"day")||f(c,36E5,"hour")||f(c,6E4,"minute")||f(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+
"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],41:[function(A,D,x){(function(k){var f=/^[\],:{}\s]*$/,c=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,d=/(?:^|:|,)(?:\s*\[)+/g,h=/^\s+/,n=/\s+$/;D.exports=function(p){if("string"!=typeof p||!p)return null;p=p.replace(h,"").replace(n,"");if(k.JSON&&JSON.parse)return JSON.parse(p);if(f.test(p.replace(c,"@").replace(a,"]").replace(d,"")))return(new Function("return "+
p))()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],42:[function(A,D,x){x.encode=function(k){var f="",c;for(c in k)k.hasOwnProperty(c)&&(f.length&&(f+="&"),f+=encodeURIComponent(c)+"="+encodeURIComponent(k[c]));return f};x.decode=function(k){var f={};k=k.split("&");for(var c=0,a=k.length;c<a;c++){var d=k[c].split("=");f[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return f}},{}],43:[function(A,D,x){var k=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
f="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");D.exports=function(c){var a=c,d=c.indexOf("["),h=c.indexOf("]");-1!=d&&-1!=h&&(c=c.substring(0,d)+c.substring(d,h).replace(/:/g,";")+c.substring(h,c.length));c=k.exec(c||"");for(var n={},p=14;p--;)n[f[p]]=c[p]||"";-1!=d&&-1!=h&&(n.source=a,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=
!0);return n}},{}],44:[function(A,D,x){function k(a,l){function n(d){d&&(l.initCallback=function(){d();d=l.initCallback=null});J=new new c(a,l)(a,l);J.record();l.disableLogs||console.debug("Initialized recorderType:",J.constructor.name,"for output-type:",l.type)}function p(a){function c(){for(var f in J)z&&(z[f]=J[f]),h&&(h[f]=J[f]);f=J.blob;if(a){var k=X.createObjectURL(f);a(k)}f&&!l.disableLogs&&console.debug(f.type,"->",d(f.size));l.autoWriteToDisk&&r(function(a){var c={};c[l.type+"Blob"]=a;qa.Store(c)})}
if(!J)return console.warn(C);var h=this;l.disableLogs||console.warn("Stopped recording "+l.type+" stream.");"gif"!==l.type?J.stop(c):(J.stop(),c())}function t(a){postMessage((new FileReaderSync).readAsDataURL(a))}function r(a,c){function d(a){a=X.createObjectURL(new Blob([a.toString(),"this.onmessage =  function (e) {"+a.name+"(e.data);}"],{type:"application/javascript"}));var c=new Worker(a);X.revokeObjectURL(a);return c}if(!a)throw"Pass a callback function over getDataURL.";var h=c?c.blob:J.blob;
if(h)if("undefined"===typeof Worker||navigator.mozGetUserMedia){var f=new FileReader;f.readAsDataURL(h);f.onload=function(c){a(c.target.result)}}else f=d(t),f.onmessage=function(c){a(c.data)},f.postMessage(h);else l.disableLogs||console.warn("Blob encoder did not yet finished its job."),setTimeout(function(){r(a,c)},1E3)}function E(){setTimeout(function(){p(z.onRecordingStopped)},z.recordingDuration)}if(!a)throw"MediaStream is mandatory.";l=new f(a,l);var z=this,C='It seems that "startRecording" is not invoked for '+
l.type+" recorder.",J,x={startRecording:function(){l.disableLogs||console.debug("started recording "+l.type+" stream.");if(J)return J.clearRecordedData(),J.resume(),z.recordingDuration&&E(),z;n(function(){z.recordingDuration&&E()});return z},stopRecording:p,pauseRecording:function(){if(!J)return console.warn(C);J.pause();l.disableLogs||console.debug("Paused recording.")},resumeRecording:function(){if(!J)return console.warn(C);J.resume();l.disableLogs||console.debug("Resumed recording.")},initRecorder:n,
setRecordingDuration:function(a,c){if("undefined"===typeof a)throw"milliseconds is required.";if("number"!==typeof a)throw"milliseconds must be a number.";z.recordingDuration=a;z.onRecordingStopped=c||function(){};return{onRecordingStopped:function(a){z.onRecordingStopped=a}}},clearRecordedData:function(){if(!J)return console.warn(C);J.clearRecordedData();l.disableLogs||console.debug("Cleared old recorded data.")},getBlob:function(){return J?J.blob:console.warn(C)},getDataURL:r,toURL:function(){return J?
X.createObjectURL(J.blob):console.warn(C)},save:function(a){if(!J)return console.warn(C);h(J.blob,a)},getFromDisk:function(a){if(!J)return console.warn(C);k.getFromDisk(l.type,a)},setAdvertisementArray:function(a){l.advertisement=[];for(var c=a.length,d=0;d<c;d++)l.advertisement.push({duration:d,image:a[d]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,view:null};if(!this)return z=x;for(var A in x)this[A]=x[A];z=this;return x}function f(a,c){c.recorderType&&!c.type&&(c.recorderType===l||c.recorderType===
r?c.type="video":c.recorderType===z?c.type="gif":c.recorderType===C?c.type="audio":c.recorderType===p&&(a.getAudioTracks().length&&a.getVideoTracks().length?c.type="video":a.getAudioTracks().length&&!a.getVideoTracks().length?c.type="audio":!a.getAudioTracks().length&&a.getVideoTracks().length&&(c.type="audio")));"undefined"!==typeof p&&"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(c.mimeType||(c.mimeType="video/webm"),c.type||(c.type=c.mimeType.split("/")[0]));c.type||
(c.mimeType&&(c.type=c.mimeType.split("/")[0]),c.type||(c.type="audio"));return c}function c(a,c){var d;if(t||ga||R)d=C;"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!t&&(d=p);"video"===c.type&&(t||R)&&(d=l);"gif"===c.type&&(d=z);"canvas"===c.type&&(d=r);n()&&t&&d!==r&&d!==z&&"undefined"!==typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&a.getVideoTracks().length&&(d=p);c.recorderType&&(d=c.recorderType);!c.disableLogs&&d&&d.name&&console.debug("Using recorderType:",
d.name||d.constructor.name);return d}function a(a){this.addStream=function(c){c&&(a=c)};this.mediaType={audio:!0,video:!0};this.startRecording=function(){var c=this.mediaType,d,h=this.mimeType||{audio:null,video:null,gif:null};"function"!==typeof c.audio&&n()&&a&&a.getAudioTracks&&a.getAudioTracks().length&&a.getVideoTracks().length&&(this.mediaType.audio=!1);c.audio&&(d=null,"function"===typeof c.audio&&(d=c.audio),this.audioRecorder=new k(a,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,
numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:d,mimeType:h.audio}),c.video||this.audioRecorder.startRecording());if(c.video){d=null;"function"===typeof c.video&&(d=c.video);var f=a;if(n()&&c.audio&&"function"===typeof c.audio){var t=a.getVideoTracks()[0];navigator.mozGetUserMedia?(f=new E,f.addTrack(t),d&&d===l&&(d=p)):f=new E([t])}this.videoRecorder=new k(f,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,
recorderType:d,mimeType:h.video});c.audio||this.videoRecorder.startRecording()}if(c.audio&&c.video){var r=this;r.videoRecorder.initRecorder(function(){r.audioRecorder.initRecorder(function(){r.videoRecorder.startRecording();r.audioRecorder.startRecording()})})}c.gif&&(d=null,"function"===typeof c.gif&&(d=c.gif),this.gifRecorder=new k(a,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:d,mimeType:h.gif}),this.gifRecorder.startRecording())};
this.stopRecording=function(a){a=a||function(){};this.audioRecorder&&this.audioRecorder.stopRecording(function(c){a(c,"audio")});this.videoRecorder&&this.videoRecorder.stopRecording(function(c){a(c,"video")});this.gifRecorder&&this.gifRecorder.stopRecording(function(c){a(c,"gif")})};this.getBlob=function(a){var c={};this.audioRecorder&&(c.audio=this.audioRecorder.getBlob());this.videoRecorder&&(c.video=this.videoRecorder.getBlob());this.gifRecorder&&(c.gif=this.gifRecorder.getBlob());a&&a(c);return c};
this.getDataURL=function(a){function c(a,h){if("undefined"!==typeof Worker){var f=d(function(a){postMessage((new FileReaderSync).readAsDataURL(a))});f.onmessage=function(a){h(a.data)};f.postMessage(a)}else f=new FileReader,f.readAsDataURL(a),f.onload=function(a){h(a.target.result)}}function d(a){a=X.createObjectURL(new Blob([a.toString(),"this.onmessage =  function (e) {"+a.name+"(e.data);}"],{type:"application/javascript"}));var c=new Worker(a),h;if("undefined"!==typeof X)h=X;else if("undefined"!==
typeof webkitURL)h=webkitURL;else throw"Neither URL nor webkitURL detected.";h.revokeObjectURL(a);return c}this.getBlob(function(d){c(d.audio,function(h){c(d.video,function(c){a({audio:h,video:c})})})})};this.writeToDisk=function(){k.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})};this.save=function(a){a=a||{audio:!0,video:!0,gif:!0};a.audio&&this.audioRecorder&&this.audioRecorder.save("string"===typeof a.audio?a.audio:"");a.video&&this.videoRecorder&&this.videoRecorder.save("string"===
typeof a.video?a.video:"");a.gif&&this.gifRecorder&&this.gifRecorder.save("string"===typeof a.gif?a.gif:"")}}function d(a){if(0===a)return"0 Bytes";var c=parseInt(Math.floor(Math.log(a)/Math.log(1E3)),10);return(a/Math.pow(1E3,c)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][c]}function h(a,c){if(!a)throw"Blob object is required.";a.type||(a.type="video/webm");var d=a.type.split("/")[1];c&&-1!==c.indexOf(".")&&(d=c.split("."),c=d[0],d=d[1]);d=(c||Math.round(9999999999*Math.random())+888888888)+
"."+d;if("undefined"!==typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(a,d);if("undefined"!==typeof navigator.msSaveBlob)return navigator.msSaveBlob(a,d);var h=document.createElement("a");h.href=X.createObjectURL(a);h.target="_blank";h.download=d;navigator.mozGetUserMedia&&(h.onclick=function(){(document.body||document.documentElement).removeChild(h)},(document.body||document.documentElement).appendChild(h));d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});h.dispatchEvent(d);
navigator.mozGetUserMedia||X.revokeObjectURL(h.href)}function n(){var a=!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),c=!!window.chrome&&!a;if("undefined"!==typeof window.InstallTrigger)return!0;if(!c)return!1;var a=navigator.userAgent,d=""+parseFloat(navigator.appVersion),h=parseInt(navigator.appVersion,10),f;c&&(c=a.indexOf("Chrome"),d=a.substring(c+7));-1!==(f=d.indexOf(";"))&&(d=d.substring(0,f));-1!==(f=d.indexOf(" "))&&(d=d.substring(0,f));h=parseInt(""+d,10);isNaN(h)&&(parseFloat(navigator.appVersion),
h=parseInt(navigator.appVersion,10));return 49<=h}function p(a,c){function d(a,c){var h=new Blob(a,{type:"video/webm"}),f=new FileReader;f.onload=function(){c(f.result)};f.readAsDataURL(h)}var h=this;c=c||{mimeType:"video/webm"};if("audio"===c.type){if(a.getVideoTracks().length&&a.getAudioTracks().length){var f;navigator.mozGetUserMedia?(f=new E,f.addTrack(a.getAudioTracks()[0])):f=new E(a.getAudioTracks());a=f}c.mimeType&&-1!==c.mimeType.indexOf("audio")||(c.mimeType=t?"audio/webm":"audio/ogg")}var k=
[];this.record=function(){var d=c;c.disableLogs||console.log("Passing following config over MediaRecorder API.",d);l&&(l=null);t&&!n()&&(d="video/vp8");l=new MediaRecorder(a,d);"canRecordMimeType"in l&&!1===l.canRecordMimeType(c.mimeType)&&(c.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",c.mimeType));l.ignoreMutedMedia=c.ignoreMutedMedia||!1;l.ondataavailable=function(a){h.dontFireOnDataAvailableEvent||a.data&&a.data.size&&k.push(a.data)};l.onerror=function(a){c.disableLogs||
("InvalidState"===a.name?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed."):"OutOfMemory"===a.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute."):"IllegalStreamModification"===a.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute."):
"OtherRecordingError"===a.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute."):"GenericError"===a.name?console.error("The UA cannot provide the codec or recording option that has been requested.",a):console.error("MediaRecorder Error",a));"inactive"!==l.state&&"stopped"!==l.state&&l.stop()};l.start(1);if(c.onAudioProcessStarted)c.onAudioProcessStarted();c.initCallback&&c.initCallback()};
this.stop=function(a){if(l&&(this.recordingCallback=a||function(){},"recording"===l.state&&(l.requestData(),l.stop()),k.length))this.onRecordingFinished()};this.onRecordingFinished=function(){var a=this;d(k,function(d){d=atob(d.split(",")[1]);for(var h=[],f=0;f<d.length;f++)h.push(d.charCodeAt(f));new (window.File||window.Blob)([new Uint8Array(h)],"recorded-video.webm",{type:"video/webm"});a.blob=new Blob(k,{type:c.mimeType||"video/webm"});a.recordingCallback();k=[]})};this.pause=function(){l&&"recording"===
l.state&&l.pause()};this.resume=function(){if(this.dontFireOnDataAvailableEvent){this.dontFireOnDataAvailableEvent=!1;var a=c.disableLogs;c.disableLogs=!0;this.record();c.disableLogs=a}else l&&"paused"===l.state&&l.resume()};this.clearRecordedData=function(){l&&(this.pause(),this.dontFireOnDataAvailableEvent=!0,this.stop())};var l,h=this;(function nb(){if(l){var c;a:{if("active"in a){if(!a.active){c=!1;break a}}else if("ended"in a&&a.ended){c=!1;break a}c=void 0}!1===c?h.stop():setTimeout(nb,1E3)}})()}
function C(a,c){function d(){if("active"in a){if(!a.active)return!1}else if("ended"in a&&a.ended)return!1}function h(a,c){function d(a,c){function h(a,c){for(var d=new Float64Array(c),f=0,k=a.length,l=0;l<k;l++){var n=a[l];d.set(n,f);f+=n.length}return d}function f(a,c){for(var d=a.length+c.length,h=new Float64Array(d),k=0,l=0;l<d;)h[l++]=a[k],h[l++]=c[k],k++;return h}function k(a,c,d){for(var h=d.length,f=0;f<h;f++)a.setUint8(c+f,d.charCodeAt(f))}var l=a.numberOfAudioChannels,n=a.leftBuffers.slice(0),
p=a.rightBuffers.slice(0),t=a.sampleRate,r=a.internalInterleavedLength;2===l&&(n=h(n,r),p=h(p,r));1===l&&(n=h(n,r));var z;2===l&&(z=f(n,p));1===l&&(z=n);n=z.length;p=new ArrayBuffer(44+2*n);r=new DataView(p);k(r,0,"RIFF");r.setUint32(4,44+2*n,!0);k(r,8,"WAVE");k(r,12,"fmt ");r.setUint32(16,16,!0);r.setUint16(20,1,!0);r.setUint16(22,l,!0);r.setUint32(24,t,!0);r.setUint32(28,2*t,!0);r.setUint16(32,2*l,!0);r.setUint16(34,16,!0);k(r,36,"data");r.setUint32(40,2*n,!0);l=44;for(t=0;t<n;t++)r.setInt16(l,
32767*z[t],!0),l+=2;if(c)return c({buffer:p,view:r});postMessage({buffer:p,view:r})}if(t){var k=f(d);k.onmessage=function(a){c(a.data.buffer,a.data.view);X.revokeObjectURL(k.workerURL)};k.postMessage(a)}else d(a,function(a){c(a.buffer,a.view)})}function f(a){a=X.createObjectURL(new Blob([a.toString(),";this.onmessage =  function (e) {"+a.name+"(e.data);}"],{type:"application/javascript"}));var c=new Worker(a);c.workerURL=a;return c}if(!a.getAudioTracks().length)throw"Your stream has no audio tracks.";
c=c||{};var k=this,l=[],n=[],p=!1,r=0,z,E=2;!0===c.leftChannel&&(E=1);1===c.numberOfAudioChannels&&(E=1);c.disableLogs||console.debug("StereoAudioRecorder is set to record number of channels: ",E);this.record=function(){if(!1===d())throw"Please make sure MediaStream is active.";r=l.length=n.length=0;x&&x.connect(z);qa=D=!1;p=!0};this.stop=function(a){p=!1;h({sampleRate:Q,numberOfAudioChannels:E,internalInterleavedLength:r,leftBuffers:l,rightBuffers:1===E?[]:n},function(c,d){k.blob=new Blob([d],{type:"audio/wav"});
k.buffer=new ArrayBuffer(d);k.view=d;k.sampleRate=Q;k.bufferSize=I;k.length=r;a&&a();qa=!1})};J.AudioContextConstructor||(J.AudioContextConstructor=new J.AudioContext);var C=J.AudioContextConstructor,x=C.createMediaStreamSource(a),A=[0,256,512,1024,2048,4096,8192,16384],I="undefined"===typeof c.bufferSize?4096:c.bufferSize;-1===A.indexOf(I)&&(c.disableLogs||console.warn("Legal values for buffer-size are "+JSON.stringify(A,null,"\t")));if(C.createJavaScriptNode)z=C.createJavaScriptNode(I,E,E);else if(C.createScriptProcessor)z=
C.createScriptProcessor(I,E,E);else throw"WebAudio API has no support on this browser.";x.connect(z);c.bufferSize||(I=z.bufferSize);var Q="undefined"!==typeof c.sampleRate?c.sampleRate:C.sampleRate||44100;if(22050>Q||96E3<Q)c.disableLogs||console.warn("sample-rate must be under range 22050 and 96000.");c.disableLogs||(console.log("sample-rate",Q),console.log("buffer-size",I));var D=!1;this.pause=function(){D=!0};this.resume=function(){if(!1===d())throw"Please make sure MediaStream is active.";p?D=
!1:(c.disableLogs||console.info("Seems recording has been restarted."),this.record())};this.clearRecordedData=function(){this.pause();r=l.length=n.length=0};var qa=!1;z.onaudioprocess=function(a){if(!D)if(!1===d()&&(c.disableLogs||console.error("MediaStream seems stopped."),z.disconnect(),p=!1),p){if(!qa){qa=!0;if(c.onAudioProcessStarted)c.onAudioProcessStarted();c.initCallback&&c.initCallback()}var h=a.inputBuffer.getChannelData(0);l.push(new Float32Array(h));2===E&&(a=a.inputBuffer.getChannelData(1),
n.push(new Float32Array(a)));r+=I}else x.disconnect()};z.connect(C.destination)}function r(a,c){function d(){var c=document.createElement("canvas"),h=c.getContext("2d");c.width=a.width;c.height=a.height;h.drawImage(a,0,0);return c}function h(){if(t)return r=(new Date).getTime(),setTimeout(h,500);if("canvas"===a.nodeName.toLowerCase()){var f=(new Date).getTime()-r;r=(new Date).getTime();z.frames.push({image:d(),duration:f});n&&setTimeout(h,c.frameInterval)}else html2canvas(a,{grabMouse:"undefined"===
typeof c.showMousePointer||c.showMousePointer,onrendered:function(a){var d=(new Date).getTime()-r;if(!d)return setTimeout(h,c.frameInterval);r=(new Date).getTime();z.frames.push({image:a.toDataURL("image/webp",1),duration:d});n&&setTimeout(h,c.frameInterval)}})}if("undefined"===typeof html2canvas&&"canvas"!==a.nodeName.toLowerCase())throw"Please link: //cdn.webrtc-experiment.com/screenshot.js";c=c||{};c.frameInterval||(c.frameInterval=10);var f=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(a){a in
document.createElement("canvas")&&(f=!0)});if(window.webkitRTCPeerConnection||window.webkitGetUserMedia)f=!1;var k,l;f?(c.disableLogs||console.debug("Your browser supports both MediRecorder API and canvas.captureStream!"),k=document.createElement("canvas"),k.width=a.clientWidth||window.innerWidth,k.height=a.clientHeight||window.innerHeight,k.style="top: -9999999; left: -99999999; visibility:hidden; position:absoluted; display: none;",(document.body||document.documentElement).appendChild(k),k.getContext("2d")):
navigator.mozGetUserMedia&&(c.disableLogs||alert("Canvas recording is NOT supported in Firefox."));var n;this.record=function(){n=!0;if(f){var a;"captureStream"in k?a=k.captureStream(25):"mozCaptureStream"in k?a=k.captureStream(25):"webkitCaptureStream"in k&&(a=k.captureStream(25));try{var d=new E;d.addTrack(a.getVideoTracks()[0]);a=d}catch(t){}if(!a)throw"captureStream API are NOT available.";l=new p(a,{mimeType:"video/webm"});l.record()}else z.frames=[],r=(new Date).getTime(),h();c.initCallback&&
c.initCallback()};this.getWebPImages=function(d){if("canvas"===a.nodeName.toLowerCase()){var h=z.frames.length;z.frames.forEach(function(a,d){var f=h-d;document.title=f+"/"+h+" frames remaining";if(c.onEncodingCallback)c.onEncodingCallback(f,h);f=a.image.toDataURL("image/webp",1);z.frames[d].image=f});document.title="Generating WebM"}d()};this.stop=function(a){n=!1;var c=this;f&&l?l.stop(function(){for(var d in l)self[d]=l[d];a&&a(c.blob)}):this.getWebPImages(function(){z.compile(function(d){document.title=
"Recording finished!";c.blob=d;c.blob.forEach&&(c.blob=new Blob([],{type:"video/webm"}));a&&a(c.blob);z.frames=[]})})};var t=!1;this.pause=function(){t=!0};this.resume=function(){t=!1};this.clearRecordedData=function(){this.pause();z.frames=[]};var r=(new Date).getTime(),z=new Q.Video(100)}function l(a,c){function d(a){a="undefined"!==typeof a?a:10;var c=(new Date).getTime()-r;if(!c)return setTimeout(d,a,a);if(l)return r=(new Date).getTime(),setTimeout(d,100);r=(new Date).getTime();t.paused&&t.play();
p.drawImage(t,0,0,n.width,n.height);z.frames.push({duration:c,image:n.toDataURL("image/webp")});k||setTimeout(d,a,a)}function h(a){var c=-1,d=a.length,f=function(){c++;c===d?a.callback():a.functionToLoop(f,c)};f()}function f(a,c,d,k,l){var p=document.createElement("canvas");p.width=n.width;p.height=n.height;var t=p.getContext("2d"),r=[],z=-1===c,E=c&&0<c&&c<=a.length?c:a.length,C=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),J=d&&0<=d&&1>=d?d:0,F=k&&0<=k&&1>=k?k:0,x=!1;h({length:E,functionToLoop:function(c,
d){var h,f,k,l=function(){!x&&k-h<=k*F||(z&&(x=!0),r.push(a[d]));c()};if(x)l();else{var p=new Image;p.onload=function(){t.drawImage(p,0,0,n.width,n.height);var a=t.getImageData(0,0,n.width,n.height);h=0;f=a.data.length;k=a.data.length/4;for(var c=0;c<f;c+=4)Math.sqrt(Math.pow(a.data[c]-0,2)+Math.pow(a.data[c+1]-0,2)+Math.pow(a.data[c+2]-0,2))<=C*J&&h++;l()};p.src=a[d].image}},callback:function(){r=r.concat(a.slice(E));0>=r.length&&r.push(a[a.length-1]);l(r)}})}c=c||{};c.frameInterval||(c.frameInterval=
10);c.disableLogs||console.log("Using frames-interval:",c.frameInterval);this.record=function(){c.width||(c.width=320);c.height||(c.height=240);c.video||(c.video={width:c.width,height:c.height});c.canvas||(c.canvas={width:c.width,height:c.height});n.width=c.canvas.width;n.height=c.canvas.height;p=n.getContext("2d");c.video&&c.video instanceof HTMLVideoElement?(t=c.video.cloneNode(),c.initCallback&&c.initCallback()):(t=document.createElement("video"),"undefined"!==typeof t.srcObject?t.srcObject=a:
t.src=X.createObjectURL(a),t.onloadedmetadata=function(){c.initCallback&&c.initCallback()},t.width=c.video.width,t.height=c.video.height);t.muted=!0;t.play();r=(new Date).getTime();z=new Q.Video;c.disableLogs||(console.log("canvas resolutions",n.width,"*",n.height),console.log("video width/height",t.width||n.width,"*",t.height||n.height));d(c.frameInterval)};var k=!1;this.stop=function(a){k=!0;var d=this;setTimeout(function(){f(z.frames,-1,null,null,function(h){z.frames=h;c.advertisement&&c.advertisement.length&&
(z.frames=c.advertisement.concat(z.frames));z.compile(function(c){d.blob=c;d.blob.forEach&&(d.blob=new Blob([],{type:"video/webm"}));a&&a(d.blob)})})},10)};var l=!1;this.pause=function(){l=!0};this.resume=function(){l=!1};this.clearRecordedData=function(){this.pause();z.frames=[]};var n=document.createElement("canvas"),p=n.getContext("2d"),t,r,z}function z(a,c){if("undefined"===typeof GIFEncoder)throw"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js";c=c||{};var d=a instanceof CanvasRenderingContext2D||
a instanceof HTMLCanvasElement;this.record=function(){function a(r){if(h)return setTimeout(function(){a(r)},100);n=I(a);if(!(90>r-p)){!d&&l.paused&&l.play();k.drawImage(l,0,0,f.width,f.height);if(c.onGifPreview)c.onGifPreview(f.toDataURL("image/png"));t.addFrame(k);p=r}}d||(c.width||(c.width=l.offsetWidth||320),this.height||(c.height=l.offsetHeight||240),c.video||(c.video={width:c.width,height:c.height}),c.canvas||(c.canvas={width:c.width,height:c.height}),f.width=c.canvas.width,f.height=c.canvas.height,
l.width=c.video.width,l.height=c.video.height);t=new GIFEncoder;t.setRepeat(0);t.setDelay(c.frameRate||200);t.setQuality(c.quality||10);t.start();Date.now();n=I(a);c.initCallback&&c.initCallback()};this.stop=function(){n&&Aa(n);Date.now();this.blob=new Blob([new Uint8Array(t.stream().bin)],{type:"image/gif"});t.stream().bin=[]};var h=!1;this.pause=function(){h=!0};this.resume=function(){h=!1};this.clearRecordedData=function(){t&&(this.pause(),t.stream().bin=[])};var f=document.createElement("canvas"),
k=f.getContext("2d");d&&(a instanceof CanvasRenderingContext2D?k=a:a instanceof HTMLCanvasElement&&(k=a.getContext("2d")));if(!d){var l=document.createElement("video");l.muted=!0;l.autoplay=!0;"undefined"!==typeof l.srcObject?l.srcObject=a:l.src=X.createObjectURL(a);l.play()}var n=null,p,t}k.getFromDisk=function(a,c){if(!c)throw"callback is mandatory.";console.log("Getting recorded "+("all"===a?"blobs":a+" blob ")+" from disk!");qa.Fetch(function(d,h){"all"!==a&&h===a+"Blob"&&c&&c(d);"all"===a&&c&&
c(d,h.replace("Blob",""))})};k.writeToDisk=function(a){console.log("Writing recorded blob(s) to disk!");a=a||{};a.audio&&a.video&&a.gif?a.audio.getDataURL(function(c){a.video.getDataURL(function(d){a.gif.getDataURL(function(a){qa.Store({audioBlob:c,videoBlob:d,gifBlob:a})})})}):a.audio&&a.video?a.audio.getDataURL(function(c){a.video.getDataURL(function(a){qa.Store({audioBlob:c,videoBlob:a})})}):a.audio&&a.gif?a.audio.getDataURL(function(c){a.gif.getDataURL(function(a){qa.Store({audioBlob:c,gifBlob:a})})}):
a.video&&a.gif?a.video.getDataURL(function(c){a.gif.getDataURL(function(a){qa.Store({videoBlob:c,gifBlob:a})})}):a.audio?a.audio.getDataURL(function(a){qa.Store({audioBlob:a})}):a.video?a.video.getDataURL(function(a){qa.Store({videoBlob:a})}):a.gif&&a.gif.getDataURL(function(a){qa.Store({gifBlob:a})})};"undefined"!==typeof D&&(D.exports=k);"function"===typeof define&&define.amd&&define("RecordRTC",[],function(){return k});a.getFromDisk=k.getFromDisk;a.writeToDisk=k.writeToDisk;var I=window.requestAnimationFrame;
"undefined"===typeof I&&("undefined"!==typeof webkitRequestAnimationFrame&&(I=webkitRequestAnimationFrame),"undefined"!==typeof mozRequestAnimationFrame&&(I=mozRequestAnimationFrame));var Aa=window.cancelAnimationFrame;"undefined"===typeof Aa&&("undefined"!==typeof webkitCancelAnimationFrame&&(Aa=webkitCancelAnimationFrame),"undefined"!==typeof mozCancelAnimationFrame&&(Aa=mozCancelAnimationFrame));A=window.AudioContext;"undefined"===typeof A&&("undefined"!==typeof webkitAudioContext&&(A=webkitAudioContext),
"undefined"!==typeof mozAudioContext&&(A=mozAudioContext));var X=window.URL;"undefined"===typeof X&&"undefined"!==typeof webkitURL&&(X=webkitURL);if("undefined"!==typeof navigator)"undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia);else throw'Please make sure to define a global variable named as "navigator"';var ga=-1!==navigator.userAgent.indexOf("Edge")&&
(!!navigator.msSaveBlob||!!navigator.msSaveOrOpenBlob),R=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),t=!R&&!ga&&!!navigator.webkitGetUserMedia,E=window.MediaStream;"undefined"===typeof E&&"undefined"!==typeof webkitMediaStream&&(E=webkitMediaStream);"undefined"===typeof E||"stop"in E.prototype||(E.prototype.stop=function(){!this.getAudioTracks&&this.getTracks&&(this.getAudioTracks=function(){var a=[];this.getTracks.forEach(function(c){-1!==c.kind.toString().indexOf("audio")&&a.push(c)});
return a});!this.getVideoTracks&&this.getTracks&&(this.getVideoTracks=function(){var a=[];this.getTracks.forEach(function(c){-1!==c.kind.toString().indexOf("video")&&a.push(c)});return a});this.getAudioTracks().forEach(function(a){a.stop()});this.getVideoTracks().forEach(function(a){a.stop()})});"undefined"!==typeof location&&0===location.href.indexOf("file:")&&console.error("Please load this HTML file on HTTP or HTTPS.");var J={};"undefined"!==typeof A?J.AudioContext=A:"undefined"!==typeof webkitAudioContext&&
(J.AudioContext=webkitAudioContext);var Q=function(){function a(c){this.frames=[];this.duration=c||1;this.quality=.8}function c(a){a=X.createObjectURL(new Blob([a.toString(),"this.onmessage =  function (e) {"+a.name+"(e.data);}"],{type:"application/javascript"}));var d=new Worker(a);X.revokeObjectURL(a);return d}function d(a){function c(a,d,h){return[{data:a,id:231}].concat(h.map(function(a){var c=n({discardable:0,frame:a.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(d)});
d+=a.duration;return{data:c,id:163}}))}function h(a){for(var c=[];0<a;)c.push(a&255),a>>=8;return new Uint8Array(c.reverse())}function f(a){return new Uint8Array(a.split("").map(function(a){return a.charCodeAt(0)}))}function k(a){var c=[];a=(a.length%8?Array(9-a.length%8).join("0"):"")+a;for(var d=0;d<a.length;d+=8)c.push(parseInt(a.substr(d,8),2));return new Uint8Array(c)}function l(a){for(var c=[],d=0;d<a.length;d++){var n=a[d].data;"object"===typeof n&&(n=l(n));"number"===typeof n&&(n=k(n.toString(2)));
"string"===typeof n&&(n=f(n));var p=n.size||n.byteLength||n.length,t=Math.ceil(Math.ceil(Math.log(p)/Math.log(2))/8),p=p.toString(2),p=Array(7*t+8-p.length).join("0")+p,t=Array(t).join("0")+"1"+p;c.push(h(a[d].id));c.push(k(t));c.push(n)}return new Blob(c,{type:"video/webm"})}function n(a){var c=0;a.keyframe&&(c|=128);a.invisible&&(c|=8);a.lacing&&(c|=a.lacing<<1);a.discardable&&(c|=1);if(127<a.trackNum)throw"TrackNumber > 127 not supported";return[a.trackNum|128,a.timecode>>8,a.timecode&255,c].map(function(a){return String.fromCharCode(a)}).join("")+
a.frame}function p(a,c){return parseInt(a.substr(c+4,4).split("").map(function(a){a=a.charCodeAt(0).toString(2);return Array(8-a.length+1).join("0")+a}).join(""),2)}function t(a){for(var c=0,d={};c<a.length;){var h=a.substr(c,4),f=p(a,c),k=a.substr(c+4+4,f),c=c+(8+f);d[h]=d[h]||[];"RIFF"===h||"LIST"===h?d[h].push(t(k)):d[h].push(k)}return d}function r(a){return[].slice.call(new Uint8Array((new Float64Array([a])).buffer),0).map(function(a){return String.fromCharCode(a)}).reverse().join("")}a=new function(a){var d;
if(a[0]){d=a[0].width;for(var h=a[0].height,f=a[0].duration,k=1;k<a.length;k++)f+=a[k].duration;d={duration:f,width:d,height:h}}else postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."}),d=void 0;if(!d)return[];d=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1E6,id:2807729},{data:"whammy",id:19840},
{data:"whammy",id:22337},{data:r(d.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:d.width,id:176},{data:d.height,id:186}]}]}]}]}];for(f=h=0;h<a.length;){var n=[],k=0;do n.push(a[h]),k+=a[h].duration,h++;while(h<a.length&&3E4>k);n={id:524531317,data:c(f,0,n)};d[1].data.push(n);f+=k}return l(d)}(a.map(function(a){var c;c=t(atob(a.image.slice(23)));
for(var d=c.RIFF[0].WEBP[0],h=d.indexOf("\u009d\u0001*"),f=0,k=[];4>f;f++)k[f]=d.charCodeAt(h+3+f);f=k[1]<<8|k[0];h=f&16383;f=k[3]<<8|k[2];c={width:h,height:f&16383,data:d,riff:c};c.duration=a.duration;return c}));postMessage(a)}a.prototype.add=function(a,c){"canvas"in a&&(a=a.canvas);"toDataURL"in a&&(a=a.toDataURL("image/webp",this.quality));if(!/^data:image\/webp;base64,/ig.test(a))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:a,
duration:c||this.duration})};a.prototype.compile=function(a){var h=c(d);h.onmessage=function(c){c.data.error?console.error(c.data.error):a(c.data)};h.postMessage(this.frames)};return{Video:a}}(),qa={init:function(){function a(){function d(a){f.objectStore(c.dataStoreName).get(a).onsuccess=function(d){c.callback&&c.callback(d.target.result,a)}}var f=h.transaction([c.dataStoreName],"readwrite");c.videoBlob&&f.objectStore(c.dataStoreName).put(c.videoBlob,"videoBlob");c.gifBlob&&f.objectStore(c.dataStoreName).put(c.gifBlob,
"gifBlob");c.audioBlob&&f.objectStore(c.dataStoreName).put(c.audioBlob,"audioBlob");d("audioBlob");d("videoBlob");d("gifBlob")}var c=this;if("undefined"===typeof indexedDB||"undefined"===typeof indexedDB.open)console.error("IndexedDB API are not available in this browser.");else{"undefined"!==typeof webkitIndexedDB&&(indexedDB=webkitIndexedDB);"undefined"!==typeof mozIndexedDB&&(indexedDB=mozIndexedDB);"undefined"!==typeof OIndexedDB&&(indexedDB=OIndexedDB);"undefined"!==typeof msIndexedDB&&(indexedDB=
msIndexedDB);var d=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),h,f=indexedDB.open(d,1);f.onerror=c.onError;f.onsuccess=function(){h=f.result;h.onerror=c.onError;h.setVersion?1!==h.version?h.setVersion(1).onsuccess=function(){h.createObjectStore(c.dataStoreName);a()}:a():a()};f.onupgradeneeded=function(a){a.target.result.createObjectStore(c.dataStoreName)}}},Fetch:function(a){this.callback=a;this.init();return this},Store:function(a){this.audioBlob=a.audioBlob;this.videoBlob=a.videoBlob;
this.gifBlob=a.gifBlob;this.init();return this},onError:function(a){console.error(JSON.stringify(a,null,"\t"))},dataStoreName:"recordRTC",dbName:null}},{}],45:[function(A,D,x){(function(k,f){"function"===typeof define&&define.amd?define(["d3"],function(c){return k.Rickshaw=f(c)}):"object"===typeof x?D.exports=f(A("d3")):k.Rickshaw=f(d3)})(this,function(k){var f={namespace:function(c,a){for(var d=c.split("."),h=f,k=1,p=d.length;k<p;k++){var C=d[k];h[C]=h[C]||{};h=h[C]}return h},keys:function(c){var a=
[],d;for(d in c)a.push(d);return a},extend:function(c,a){for(var d in a)c[d]=a[d];return c},clone:function(c){return JSON.parse(JSON.stringify(c))}};(function(c){function a(a,c){for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a}function d(a){if("Object"!==h(a))throw new TypeError;var c=[],d;for(d in a)a.hasOwnProperty(d)&&c.push(d);return c}function h(a){switch(a){case null:return"Null";case void 0:return"Undefined"}switch(typeof a){case "boolean":return"Boolean";case "number":return"Number";
case "string":return"String"}return"Object"}function f(a){a=a.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=a.length||a[0]?a:[]}function k(a,c){return function(){var d=C([r(a,this)],arguments);return c.apply(this,d)}}function C(a,c){for(var d=a.length,h=c.length;h--;)a[d+h]=c[h];return a}function r(a,c){if(2>arguments.length&&"undefined"===typeof arguments[0])return this;var d=a,h=z.call(arguments,
2);return function(){var a;a=h;var f=arguments;a=z.call(a,0);a=C(a,f);return d.apply(c,a)}}var l=Object.prototype.toString,z=Array.prototype.slice,x=function(){},A=function(){function c(){}var h=function(){for(var a in{toString:1})if("toString"===a)return!1;return!0}();return{create:function(){function d(){this.initialize.apply(this,arguments)}var h=null,f=[].slice.apply(arguments);"[object Function]"===l.call(f[0])&&(h=f.shift());a(d,A.Methods);d.superclass=h;d.subclasses=[];if(h){c.prototype=h.prototype;
d.prototype=new c;try{h.subclasses.push(d)}catch(k){}}for(var h=0,n=f.length;h<n;h++)d.addMethods(f[h]);d.prototype.initialize||(d.prototype.initialize=x);return d.prototype.constructor=d},Methods:{addMethods:function(a){var c=this.superclass&&this.superclass.prototype,z=d(a);h&&(a.toString!=Object.prototype.toString&&z.push("toString"),a.valueOf!=Object.prototype.valueOf&&z.push("valueOf"));for(var C=0,x=z.length;C<x;C++){var A=z[C],I=a[A];if(c&&"[object Function]"===l.call(I)&&"$super"==f(I)[0]){var F=
I,I=k(function(a){return function(){return c[a].apply(this,arguments)}}(A),F);I.valueOf=r(F.valueOf,F);I.toString=r(F.toString,F)}this.prototype[A]=I}return this}}}}();c.exports?c.exports.Class=A:c.Class=A})(f);f.namespace("Rickshaw.Compat.ClassList");f.Compat.ClassList=function(){"undefined"===typeof document||"classList"in document.createElement("a")||function(c){c=(c.HTMLElement||c.Element).prototype;var a=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array.prototype.indexOf||
function(a){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===a)return c;return-1},f=function(a,c){this.name=a;this.code=DOMException[a];this.message=c},k=function(a,c){if(""===c)throw new f("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(c))throw new f("INVALID_CHARACTER_ERR","String contains an invalid character");return h.call(a,c)},C=function(a){for(var c=d.call(a.className),c=c?c.split(/\s+/):[],h=0,f=c.length;h<f;h++)this.push(c[h]);this._updateClassName=function(){a.className=
this.toString()}},r=C.prototype=[],l=function(){return new C(this)};f.prototype=Error.prototype;r.item=function(a){return this[a]||null};r.contains=function(a){return-1!==k(this,a+"")};r.add=function(a){a+="";-1===k(this,a)&&(this.push(a),this._updateClassName())};r.remove=function(a){a=k(this,a+"");-1!==a&&(this.splice(a,1),this._updateClassName())};r.toggle=function(a){a+="";-1===k(this,a)?this.add(a):this.remove(a)};r.toString=function(){return this.join(" ")};if(a.defineProperty){r={get:l,enumerable:!0,
configurable:!0};try{a.defineProperty(c,"classList",r)}catch(z){-2146823252===z.number&&(r.enumerable=!1,a.defineProperty(c,"classList",r))}}else a.prototype.__defineGetter__&&c.__defineGetter__("classList",l)}(window)};("undefined"!==typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"===typeof RICKSHAW_NO_COMPAT)&&new f.Compat.ClassList;f.namespace("Rickshaw.Graph");f.Graph=function(c){var a=this;this.initialize=function(c){if(!c.element)throw"Rickshaw.Graph needs a reference to an element";
if(1!==c.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=c.element;this.series=c.series;this.window={};this.updateCallbacks=[];this.configureCallbacks=[];this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0};this._loadRenderers();this.configure(c);this.validateSeries(c.series);this.series.active=function(){return a.series.filter(function(a){return!a.disabled})};this.setSize({width:c.width,
height:c.height});this.element.classList.add("rickshaw_graph");this.vis=k.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height);this.discoverRange()};this._loadRenderers=function(){for(var c in f.Graph.Renderer)if(c&&f.Graph.Renderer.hasOwnProperty(c)){var h=f.Graph.Renderer[c];h&&h.prototype&&h.prototype.render&&a.registerRenderer(new h({graph:a}))}};this.validateSeries=function(a){if(!(Array.isArray(a)||a instanceof f.Series))throw"series is not an array: "+
Object.prototype.toString.apply(a);a.forEach(function(a){if(!(a instanceof Object))throw"series element is not an object: "+a;if(!a.data)throw"series has no data: "+JSON.stringify(a);if(!Array.isArray(a.data))throw"series data is not an array: "+JSON.stringify(a.data);if(0<a.data.length){var c=a.data[0].x,d=a.data[0].y;if("number"!=typeof c||"number"!=typeof d&&null!==d)throw"x and y properties of points should be numbers instead of "+typeof c+" and "+typeof d;}if(3<=a.data.length&&(a.data[2].x<a.data[1].x||
a.data[1].x<a.data[0].x||a.data[a.data.length-1].x<a.data[0].x))throw"series data needs to be sorted on x values for series name: "+a.name;},this)};this.dataDomain=function(){var a=this.series.map(function(a){return a.data}),c=k.min(a.map(function(a){return a[0].x})),a=k.max(a.map(function(a){return a[a.length-1].x}));return[c,a]};this.discoverRange=function(){var a=this.renderer.domain();this.x=(this.xScale||k.scale.linear()).copy().domain(a.x).range([0,this.width]);this.y=(this.yScale||k.scale.linear()).copy().domain(a.y).range([this.height,
0]);this.x.magnitude=k.scale.linear().domain([a.x[0]-a.x[0],a.x[1]-a.x[0]]).range([0,this.width]);this.y.magnitude=k.scale.linear().domain([a.y[0]-a.y[0],a.y[1]-a.y[0]]).range([0,this.height])};this.update=this.render=function(){this.stackData();this.discoverRange();this.renderer.render();this.updateCallbacks.forEach(function(a){a()})};this.stackData=function(){var c=this.series.active().map(function(a){return a.data}).map(function(a){return a.filter(function(a){return this._slice(a)},this)},this),
h=this.preserve;h||this.series.forEach(function(a){a.scale&&(h=!0)});c=h?f.clone(c):c;this.series.active().forEach(function(a,h){if(a.scale){var f=c[h];f&&f.forEach(function(c){c.y=a.scale(c.y)})}});this.stackData.hooks.data.forEach(function(h){c=h.f.apply(a,[c])});var n;if(!this.renderer.unstack){this._validateStackable();var p=k.layout.stack();p.offset(a.offset);n=p(c)}n=n||c;this.renderer.unstack&&n.forEach(function(a){a.forEach(function(a){a.y0=void 0===a.y0?0:a.y0})});this.stackData.hooks.after.forEach(function(h){n=
h.f.apply(a,[c])});var C=0;this.series.forEach(function(a){a.disabled||(a.stack=n[C++])});return this.stackedData=n};this._validateStackable=function(){var a;this.series.forEach(function(c){if((a=a||c.data.length)&&c.data.length!=a)throw"stacked series cannot have differing numbers of points: "+a+" vs "+c.data.length+"; see Rickshaw.Series.fill()";},this)};this.stackData.hooks={data:[],after:[]};this._slice=function(a){if(this.window.xMin||this.window.xMax){var c=!0;this.window.xMin&&a.x<this.window.xMin&&
(c=!1);this.window.xMax&&a.x>this.window.xMax&&(c=!1);return c}return!0};this.onUpdate=function(a){this.updateCallbacks.push(a)};this.onConfigure=function(a){this.configureCallbacks.push(a)};this.registerRenderer=function(a){this._renderers=this._renderers||{};this._renderers[a.name]=a};this.configure=function(a){this.config=this.config||{};(a.width||a.height)&&this.setSize(a);f.keys(this.defaults).forEach(function(c){this.config[c]=c in a?a[c]:c in this?this[c]:this.defaults[c]},this);f.keys(this.config).forEach(function(a){this[a]=
this.config[a]},this);"stack"in a&&(a.unstack=!a.stack);this.setRenderer(a.renderer||this.renderer&&this.renderer.name||"stack",a);this.configureCallbacks.forEach(function(c){c(a)})};this.setRenderer=function(c,h){if("function"==typeof c)this.renderer=new c({graph:a}),this.registerRenderer(this.renderer);else{if(!this._renderers[c])throw"couldn't find renderer "+c;this.renderer=this._renderers[c]}"object"==typeof h&&this.renderer.configure(h)};this.setSize=function(a){a=a||{};var c=window.getComputedStyle(this.element,
null),f=parseInt(c.getPropertyValue("width"),10),c=parseInt(c.getPropertyValue("height"),10);this.width=a.width||f||400;this.height=a.height||c||250;this.vis&&this.vis.attr("width",this.width).attr("height",this.height)};this.initialize(c)};f.namespace("Rickshaw.Fixtures.Color");f.Fixtures.Color=function(){this.schemes={};this.schemes.spectrum14="#ecb796 #dc8f70 #b2a470 #92875a #716c49 #d2ed82 #bbe468 #a1d05d #e7cbe6 #d8aad6 #a888c2 #9dc2d3 #649eb9 #387aa3".split(" ").reverse();this.schemes.spectrum2000=
"#57306f #514c76 #646583 #738394 #6b9c7d #84b665 #a7ca50 #bfe746 #e2f528 #fff726 #ecdd00 #d4b11d #de8800 #de4800 #c91515 #9a0000 #7b0429 #580839 #31082b".split(" ");this.schemes.spectrum2001="#2f243f #3c2c55 #4a3768 #565270 #6b6b7c #72957f #86ad6e #a1bc5e #b8d954 #d3e04e #ccad2a #cc8412 #c1521d #ad3821 #8a1010 #681717 #531e1e #3d1818 #320a1b".split(" ");this.schemes.classic9="#423d4f #4a6860 #848f39 #a2b73c #ddcb53 #c5a32f #7d5836 #963b20 #7c2626 #491d37 #2f254a".split(" ").reverse();this.schemes.httpStatus=
{503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"};this.schemes.colorwheel="#b5b6a9 #858772 #785f43 #96557e #4682b4 #65b9ac #73c03a #cb513a".split(" ").reverse();this.schemes.cool="#5e9d2f #73c03a #4682b4 #7bc3b8 #a9884e #c1b266 #a47493 #c09fb5".split(" ");
this.schemes.munin="#00cc00 #0066b3 #ff8000 #ffcc00 #330099 #990099 #ccff00 #ff0000 #808080 #008f00 #00487d #b35a00 #b38f00 #6b006b #8fb300 #b30000 #bebebe #80ff80 #80c9ff #ffc080 #ffe680 #aa80ff #ee00cc #ff8080 #666600 #ffbfff #00ffcc #cc6699 #999900".split(" ")};f.namespace("Rickshaw.Fixtures.RandomData");f.Fixtures.RandomData=function(c){c=c||1;var a=200,d=Math.floor((new Date).getTime()/1E3);this.addData=function(h){var f=100*Math.random()+15+a,k=h[0].length,C=1;h.forEach(function(a){var h=20*
Math.random(),z=f/25+C++ +15*(Math.cos(k*C*11/960)+2)+7*(Math.cos(k/7)+2)+1*(Math.cos(k/17)+2);a.push({x:k*c+d,y:z+h})});a=.85*f};this.removeData=function(a){a.forEach(function(a){a.shift()});d+=c}};f.namespace("Rickshaw.Fixtures.Time");f.Fixtures.Time=function(){var c=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(a){return 10*parseInt(a.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getUTCFullYear()}},
{name:"month",seconds:2635200,formatter:function(a){return c.months[a.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(a){return c.formatDate(a)}},{name:"day",seconds:86400,formatter:function(a){return a.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(a){return c.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return c.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return c.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getUTCMinutes()}},
{name:"15 second",seconds:15,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(a){return a.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(a){return a.getUTCMilliseconds()+"ms"}}];this.unit=function(a){return this.units.filter(function(c){return a==c.name}).shift()};this.formatDate=function(a){return k.time.format("%b %e")(a)};this.formatTime=
function(a){return a.toUTCString().match(/(\d+:\d+):/)[1]};this.ceil=function(a,c){var h,f;if("month"==c.name){h=new Date(1E3*a);f=Date.UTC(h.getUTCFullYear(),h.getUTCMonth())/1E3;if(f==a)return a;f=h.getUTCFullYear();h=h.getUTCMonth();11==h?(h=0,f+=1):h+=1;return Date.UTC(f,h)/1E3}if("year"==c.name){h=new Date(1E3*a);f=Date.UTC(h.getUTCFullYear(),0)/1E3;if(f==a)return a;f=h.getUTCFullYear()+1;return Date.UTC(f,0)/1E3}return Math.ceil(a/c.seconds)*c.seconds}};f.namespace("Rickshaw.Fixtures.Time.Local");
f.Fixtures.Time.Local=function(){var c=this;this.months="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");this.units=[{name:"decade",seconds:315576E3,formatter:function(a){return 10*parseInt(a.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(a){return a.getFullYear()}},{name:"month",seconds:2635200,formatter:function(a){return c.months[a.getMonth()]}},{name:"week",seconds:604800,formatter:function(a){return c.formatDate(a)}},{name:"day",seconds:86400,formatter:function(a){return a.getDate()}},
{name:"6 hour",seconds:21600,formatter:function(a){return c.formatTime(a)}},{name:"hour",seconds:3600,formatter:function(a){return c.formatTime(a)}},{name:"15 minute",seconds:900,formatter:function(a){return c.formatTime(a)}},{name:"minute",seconds:60,formatter:function(a){return a.getMinutes()}},{name:"15 second",seconds:15,formatter:function(a){return a.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(a){return a.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(a){return a.getMilliseconds()+
"ms"}},{name:"centisecond",seconds:.01,formatter:function(a){return a.getMilliseconds()+"ms"}}];this.unit=function(a){return this.units.filter(function(c){return a==c.name}).shift()};this.formatDate=function(a){return k.time.format("%b %e")(a)};this.formatTime=function(a){return a.toString().match(/(\d+:\d+):/)[1]};this.ceil=function(a,c){var h,f;if("day"==c.name)return h=new Date(1E3*(a+c.seconds-1)),f=new Date(0),f.setMilliseconds(0),f.setSeconds(0),f.setMinutes(0),f.setHours(0),f.setDate(h.getDate()),
f.setMonth(h.getMonth()),f.setFullYear(h.getFullYear()),f.getTime()/1E3;if("month"==c.name){h=new Date(1E3*a);f=(new Date(h.getFullYear(),h.getMonth())).getTime()/1E3;if(f==a)return a;f=h.getFullYear();h=h.getMonth();11==h?(h=0,f+=1):h+=1;return(new Date(f,h)).getTime()/1E3}if("year"==c.name){h=new Date(1E3*a);f=(new Date(h.getUTCFullYear(),0)).getTime()/1E3;if(f==a)return a;f=h.getFullYear()+1;return(new Date(f,0)).getTime()/1E3}return Math.ceil(a/c.seconds)*c.seconds}};f.namespace("Rickshaw.Fixtures.Number");
f.Fixtures.Number.formatKMBT=function(c){var a=Math.abs(c);return 1E12<=a?c/1E12+"T":1E9<=a?c/1E9+"B":1E6<=a?c/1E6+"M":1E3<=a?c/1E3+"K":1>a&&0<c?c.toFixed(2):0===a?"":c};f.Fixtures.Number.formatBase1024KMGTP=function(c){var a=Math.abs(c);return 0x4000000000000<=a?c/0x4000000000000+"P":1099511627776<=a?c/1099511627776+"T":1073741824<=a?c/1073741824+"G":1048576<=a?c/1048576+"M":1024<=a?c/1024+"K":1>a&&0<c?c.toFixed(2):0===a?"":c};f.namespace("Rickshaw.Color.Palette");f.Color.Palette=function(c){var a=
new f.Fixtures.Color;c=c||{};this.schemes={};this.scheme=a.schemes[c.scheme]||c.scheme||a.schemes.colorwheel;this.generatorIndex=this.runningIndex=0;if(c.interpolatedStopCount){var a=this.scheme.length-1,d,h,n=[];for(d=0;d<a;d++){n.push(this.scheme[d]);var p=k.interpolateHsl(this.scheme[d],this.scheme[d+1]);for(h=1;h<c.interpolatedStopCount;h++)n.push(p(1/c.interpolatedStopCount*h))}n.push(this.scheme[this.scheme.length-1]);this.scheme=n}this.rotateCount=this.scheme.length;this.color=function(a){return this.scheme[a]||
this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"};this.interpolateColor=function(){if(Array.isArray(this.scheme)){var a;this.generatorIndex==2*this.rotateCount-1?(a=k.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(a=k.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++);this.scheme.push(a);return a}}};f.namespace("Rickshaw.Graph.Ajax");f.Graph.Ajax=f.Class.create({initialize:function(c){this.dataURL=
c.dataURL;this.onData=c.onData||function(a){return a};this.onComplete=c.onComplete||function(){};this.onError=c.onError||function(){};this.args=c;this.request()},request:function(){jQuery.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL);this.onError(this)},success:function(c,a){c=this.onData(c);this.args.series=this._splice({data:c,series:this.args.series});this.graph=this.graph||
new f.Graph(this.args);this.graph.render();this.onComplete(this)},_splice:function(c){var a=c.data,d=c.series;if(!c.series)return a;d.forEach(function(c){var d=c.key||c.name;if(!d)throw"series needs a key or a name";a.forEach(function(a){var f=a.key||a.name;if(!f)throw"data needs a key or a name";d==f&&["color","name","data"].forEach(function(d){a[d]&&(c[d]=a[d])})})});return d}});f.namespace("Rickshaw.Graph.Annotate");f.Graph.Annotate=function(c){this.graph=c.graph;this.elements={timeline:c.element};
var a=this;this.data={};this.elements.timeline.classList.add("rickshaw_annotation_timeline");this.add=function(c,h,f){a.data[c]=a.data[c]||{boxes:[]};a.data[c].boxes.push({content:h,end:f})};this.update=function(){f.keys(a.data).forEach(function(c){var h=a.data[c],f=a.graph.x(c);if(0>f||f>a.graph.x.range()[1])h.element&&(h.line.classList.add("offscreen"),h.element.style.display="none"),h.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.add("offscreen")});else{if(!h.element){var k=
h.element=document.createElement("div");k.classList.add("annotation");this.elements.timeline.appendChild(k);k.addEventListener("click",function(a){k.classList.toggle("active");h.line.classList.toggle("active");h.boxes.forEach(function(a){a.rangeElement&&a.rangeElement.classList.toggle("active")})},!1)}h.element.style.left=f+"px";h.element.style.display="block";h.boxes.forEach(function(c){var d=c.element;d||(d=c.element=document.createElement("div"),d.classList.add("content"),d.innerHTML=c.content,
h.element.appendChild(d),h.line=document.createElement("div"),h.line.classList.add("annotation_line"),a.graph.element.appendChild(h.line),c.end&&(c.rangeElement=document.createElement("div"),c.rangeElement.classList.add("annotation_range"),a.graph.element.appendChild(c.rangeElement)));if(c.end){var d=f,k=Math.min(a.graph.x(c.end),a.graph.x.range()[1]);d>k&&(k=f,d=Math.max(a.graph.x(c.end),a.graph.x.range()[0]));c.rangeElement.style.left=d+"px";c.rangeElement.style.width=k-d+"px";c.rangeElement.classList.remove("offscreen")}h.line.classList.remove("offscreen");
h.line.style.left=f+"px"})}},this)};this.graph.onUpdate(function(){a.update()})};f.namespace("Rickshaw.Graph.Axis.Time");f.Graph.Axis.Time=function(c){var a=this;this.graph=c.graph;this.elements=[];this.ticksTreatment=c.ticksTreatment||"plain";this.fixedTimeUnit=c.timeUnit;var d=c.timeFixture||new f.Fixtures.Time;this.appropriateTimeUnit=function(){var a,c=d.units,f=this.graph.x.domain(),k=f[1]-f[0];c.forEach(function(c){2<=Math.floor(k/c.seconds)&&(a=a||c)});return a||d.units[d.units.length-1]};
this.tickOffsets=function(){for(var a=this.graph.x.domain(),c=this.fixedTimeUnit||this.appropriateTimeUnit(),f=Math.ceil((a[1]-a[0])/c.seconds),a=a[0],k=[],r=0;r<f;r++){var l=d.ceil(a,c),a=l+c.seconds/2;k.push({value:l,unit:c})}return k};this.render=function(){this.elements.forEach(function(a){a.parentNode.removeChild(a)});this.elements=[];this.tickOffsets().forEach(function(c){if(!(a.graph.x(c.value)>a.graph.x.range()[1])){var d=document.createElement("div");d.style.left=a.graph.x(c.value)+"px";
d.classList.add("x_tick");d.classList.add(a.ticksTreatment);var f=document.createElement("div");f.classList.add("title");f.innerHTML=c.unit.formatter(new Date(1E3*c.value));d.appendChild(f);a.graph.element.appendChild(d);a.elements.push(d)}})};this.graph.onUpdate(function(){a.render()})};f.namespace("Rickshaw.Graph.Axis.X");f.Graph.Axis.X=function(c){var a=this;this.initialize=function(c){this.graph=c.graph;this.orientation=c.orientation||"top";this.pixelsPerTick=c.pixelsPerTick||75;c.ticks&&(this.staticTicks=
c.ticks);c.tickValues&&(this.tickValues=c.tickValues);this.tickSize=c.tickSize||4;this.ticksTreatment=c.ticksTreatment||"plain";c.element?(this.element=c.element,this._discoverSize(c.element,c),this.vis=k.select(c.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:c.width,height:c.height})):this.vis=this.graph.vis;this.graph.onUpdate(function(){a.render()})};
this.setSize=function(a){a=a||{};this.element&&(this._discoverSize(this.element.parentNode,a),this.vis.attr("height",this.height).attr("width",1.1*this.width),this.element.style.left=-1*Math.floor(.1*this.width/2)+"px")};this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var a=k.svg.axis().scale(this.graph.x).orient(this.orientation);a.tickFormat(c.tickFormat||function(a){return a});this.tickValues&&a.tickValues(this.tickValues);this.ticks=
this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var h=Math.floor(.1*this.width/2)||0,h="top"==this.orientation?"translate("+h+","+(this.height||this.graph.height)+")":"translate("+h+", 0)";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",h).call(a.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));h=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class",
"x_grid_d3").call(a.ticks(this.ticks).tickSubdivide(0).tickSize(h)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)});this._renderHeight=this.graph.height};this._discoverSize=function(a,c){if("undefined"!==typeof window){var f=window.getComputedStyle(a,null),k=parseInt(f.getPropertyValue("height"),10);if(!c.auto)var C=parseInt(f.getPropertyValue("width"),10)}this.width=1.1*(c.width||C||this.graph.width);this.height=c.height||k||40};this.initialize(c)};
f.namespace("Rickshaw.Graph.Axis.Y");f.Graph.Axis.Y=f.Class.create({initialize:function(c){this.graph=c.graph;this.orientation=c.orientation||"right";this.pixelsPerTick=c.pixelsPerTick||75;c.ticks&&(this.staticTicks=c.ticks);c.tickValues&&(this.tickValues=c.tickValues);this.tickSize=c.tickSize||4;this.ticksTreatment=c.ticksTreatment||"plain";this.tickFormat=c.tickFormat||function(a){return a};this.berthRate=.1;c.element?(this.element=c.element,this.vis=k.select(c.element).append("svg:svg").attr("class",
"rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:c.width,height:c.height})):this.vis=this.graph.vis;var a=this;this.graph.onUpdate(function(){a.render()})},setSize:function(c){c=c||{};if(this.element){if("undefined"!==typeof window){var a=window.getComputedStyle(this.element.parentNode,null),d=parseInt(a.getPropertyValue("width"),10);if(!c.auto)var h=parseInt(a.getPropertyValue("height"),10)}this.width=c.width||d||this.graph.width*this.berthRate;
this.height=c.height||h||this.graph.height;this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));c=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*c+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0});this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var c=this._drawAxis(this.graph.y);this._drawGrid(c);this._renderHeight=this.graph.height},_drawAxis:function(c){c=
k.svg.axis().scale(c).orient(this.orientation);c.tickFormat(this.tickFormat);this.tickValues&&c.tickValues(this.tickValues);if("left"==this.orientation)var a="translate("+this.width+", "+this.height*this.berthRate+")";this.element&&this.vis.selectAll("*").remove();this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",a).call(c.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));return c},_drawGrid:function(c){var a=("right"==this.orientation?1:-1)*
this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(c.ticks(this.ticks).tickSubdivide(0).tickSize(a)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}});f.namespace("Rickshaw.Graph.Axis.Y.Scaled");f.Graph.Axis.Y.Scaled=f.Class.create(f.Graph.Axis.Y,{initialize:function($super,a){if("undefined"===typeof a.scale)throw Error("Scaled requires scale");this.scale=a.scale;this.grid="undefined"===typeof a.grid?!0:a.grid;$super(a)},
_drawAxis:function($super,a){var d=this.scale.domain(),h=this.graph.renderer.domain().y,f=[Math.min.apply(Math,d),Math.max.apply(Math,d)],p=k.scale.linear().domain([0,1]).range(f),h=[p(h[0]),p(h[1])],f=k.scale.linear().domain(f).range(h),d=this.scale.copy().domain(d.map(f)).range(a.range());return $super(d)},_drawGrid:function($super,a){this.grid&&$super(a)}});f.namespace("Rickshaw.Graph.Behavior.Series.Highlight");f.Graph.Behavior.Series.Highlight=function(c){this.graph=c.graph;this.legend=c.legend;
var a=this,d={},h=null,f=c.disabledColor||function(a){return k.interpolateRgb(a,k.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(c){c.element.addEventListener("mouseover",function(k){h||(h=c,a.legend.lines.forEach(function(h){if(c===h){if(a.graph.renderer.unstack&&(h.series.renderer?h.series.renderer.unstack:1)){var k=a.graph.series.indexOf(h.series);h.originalIndex=k;h=a.graph.series.splice(k,1)[0];a.graph.series.push(h)}}else d[h.series.name]=d[h.series.name]||h.series.color,h.series.color=
f(h.series.color)}),a.graph.update())},!1);c.element.addEventListener("mouseout",function(f){h&&(h=null,a.legend.lines.forEach(function(h){if(c===h&&h.hasOwnProperty("originalIndex")){var f=a.graph.series.pop();a.graph.series.splice(h.originalIndex,0,f);delete h.originalIndex}d[h.series.name]&&(h.series.color=d[h.series.name])}),a.graph.update())},!1)};this.legend&&this.legend.lines.forEach(function(c){a.addHighlightEvents(c)})};f.namespace("Rickshaw.Graph.Behavior.Series.Order");f.Graph.Behavior.Series.Order=
function(c){this.graph=c.graph;this.legend=c.legend;var a=this;if("undefined"==typeof window.jQuery)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof window.jQuery.ui)throw"couldn't find jQuery UI at window.jQuery.ui";jQuery(function(){jQuery(a.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(c,h){var f=[];jQuery(a.legend.list).find("li").each(function(a,c){c.series&&f.push(c.series)});for(var k=a.graph.series.length-1;0<=k;k--)a.graph.series[k]=f.shift();
a.graph.update()}});jQuery(a.legend.list).disableSelection()});this.graph.onUpdate(function(){var c=window.getComputedStyle(a.legend.element).height;a.legend.element.style.height=c})};f.namespace("Rickshaw.Graph.Behavior.Series.Toggle");f.Graph.Behavior.Series.Toggle=function(c){this.graph=c.graph;this.legend=c.legend;var a=this;this.addAnchor=function(c){var h=document.createElement("a");h.innerHTML="&#10004;";h.classList.add("action");c.element.insertBefore(h,c.element.firstChild);h.onclick=function(h){if(c.series.disabled)c.series.enable(),
c.element.classList.remove("disabled");else{if(1>=this.graph.series.filter(function(a){return!a.disabled}).length)return;c.series.disable();c.element.classList.add("disabled")}a.graph.update()}.bind(this);c.element.getElementsByTagName("span")[0].onclick=function(h){h=c.series.disabled;if(!h)for(var f=0;f<a.legend.lines.length;f++){var k=a.legend.lines[f];if(c.series!==k.series&&!k.series.disabled){h=!0;break}}h?(c.series.enable(),c.element.classList.remove("disabled"),a.legend.lines.forEach(function(a){c.series!==
a.series&&(a.series.disable(),a.element.classList.add("disabled"))})):a.legend.lines.forEach(function(a){a.series.enable();a.element.classList.remove("disabled")});a.graph.update()}};this.legend&&(c=jQuery,"undefined"!=typeof c&&c(this.legend.list).sortable&&c(this.legend.list).sortable({start:function(a,c){c.item.bind("no.onclick",function(a){a.preventDefault()})},stop:function(a,c){setTimeout(function(){c.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(c){a.addAnchor(c)}));
this._addBehavior=function(){this.graph.series.forEach(function(c){c.disable=function(){if(1>=a.graph.series.length)throw"only one series left";c.disabled=!0};c.enable=function(){c.disabled=!1}})};this._addBehavior();this.updateBehaviour=function(){this._addBehavior()}};f.namespace("Rickshaw.Graph.HoverDetail");f.Graph.HoverDetail=f.Class.create({initialize:function(c){var a=this.graph=c.graph;this.xFormatter=c.xFormatter||function(a){return(new Date(1E3*a)).toUTCString()};this.yFormatter=c.yFormatter||
function(a){return null===a?a:a.toFixed(2)};var d=this.element=document.createElement("div");d.className="detail";this.visible=!0;a.element.appendChild(d);this.lastEvent=null;this._addListeners();this.onShow=c.onShow;this.onHide=c.onHide;this.onRender=c.onRender;this.formatter=c.formatter||this.formatter},formatter:function(c,a,d,h,f,k){return c.name+":&nbsp;"+f},update:function(c){if(c=c||this.lastEvent)if(this.lastEvent=c,c.target.nodeName.match(/^(path|svg|rect|circle)$/)){var a=this.graph,d=c.offsetX||
c.layerX,h=c.offsetY||c.layerY,f=0,p=[],C;this.graph.series.active().forEach(function(c){var r=this.graph.stackedData[f++];if(r.length){var x=a.x.invert(d),A=k.scale.linear().domain([r[0].x,r.slice(-1)[0].x]).range([0,r.length-1]),D=Math.round(A(x));D==r.length-1&&D--;for(A=Math.min(D||0,r.length-1);D<r.length-1&&r[D]&&r[D+1];){if(r[D].x<=x&&r[D+1].x>x){A=Math.abs(x-r[D].x)<Math.abs(x-r[D+1].x)?D:D+1;break}r[D+1].x<=x?D++:D--}0>A&&(A=0);x=r[A];r=Math.sqrt(Math.pow(Math.abs(a.x(x.x)-d),2)+Math.pow(Math.abs(a.y(x.y+
x.y0)-h),2));A=c.yFormatter||this.yFormatter;c={formattedXValue:(c.xFormatter||this.xFormatter)(x.x),formattedYValue:A(c.scale?c.scale.invert(x.y):x.y),series:c,value:x,distance:r,order:f,name:c.name};if(!C||r<C.distance)C=c;p.push(c)}},this);if(C){C.active=!0;c=C.value.x;var r=C.formattedXValue;this.element.innerHTML="";this.element.style.left=a.x(c)+"px";this.visible&&this.render({points:p,detail:p,mouseX:d,mouseY:h,formattedXValue:r,domainX:c})}}},hide:function(){this.visible=!1;this.element.classList.add("inactive");
if("function"==typeof this.onHide)this.onHide()},show:function(){this.visible=!0;this.element.classList.remove("inactive");if("function"==typeof this.onShow)this.onShow()},render:function(c){var a=this.graph,d=c.points.filter(function(a){return a.active}).shift();if(null!==d.value.y){var h=d.formattedXValue,f=d.formattedYValue;this.element.innerHTML="";this.element.style.left=a.x(d.value.x)+"px";a=document.createElement("div");a.className="x_label";a.innerHTML=h;this.element.appendChild(a);var k=
document.createElement("div");k.className="item";var C=d.series,r=C.scale?C.scale.invert(d.value.y):d.value.y;k.innerHTML=this.formatter(C,d.value.x,r,h,f,d);k.style.top=this.graph.y(d.value.y0+d.value.y)+"px";this.element.appendChild(k);h=document.createElement("div");h.className="dot";h.style.top=k.style.top;h.style.borderColor=C.color;this.element.appendChild(h);d.active&&(k.classList.add("active"),h.classList.add("active"));d=[a,k];d.forEach(function(a){a.classList.add("left")});this.show();h=
this._calcLayoutError(d);0<h&&(d.forEach(function(a){a.classList.remove("left");a.classList.add("right")}),this._calcLayoutError(d)>h&&d.forEach(function(a){a.classList.remove("right");a.classList.add("left")}));if("function"==typeof this.onRender)this.onRender(c)}},_calcLayoutError:function(c){var a=this.element.parentNode.getBoundingClientRect(),d=0;c.forEach(function(c){c=c.getBoundingClientRect();c.width&&(c.right>a.right&&(d+=c.right-a.right),c.left<a.left&&(d+=a.left-c.left))});return d},_addListeners:function(){this.graph.element.addEventListener("mousemove",
function(c){this.visible=!0;this.update(c)}.bind(this),!1);this.graph.onUpdate(function(){this.update()}.bind(this));this.graph.element.addEventListener("mouseout",function(c){!c.relatedTarget||c.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}});f.namespace("Rickshaw.Graph.JSONP");f.Graph.JSONP=f.Class.create(f.Graph.Ajax,{request:function(){jQuery.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}});
f.namespace("Rickshaw.Graph.Legend");f.Graph.Legend=f.Class.create({className:"rickshaw_legend",initialize:function(c){this.element=c.element;this.graph=c.graph;this.naturalOrder=c.naturalOrder;this.element.classList.add(this.className);this.list=document.createElement("ul");this.element.appendChild(this.list);this.render();this.graph.onUpdate(function(){})},render:function(){for(var c=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var a=this.graph.series.map(function(a){return a});
this.naturalOrder||(a=a.reverse());a.forEach(function(a){c.addLine(a)})},addLine:function(c){var a=document.createElement("li");a.className="line";c.disabled&&(a.className+=" disabled");c.className&&k.select(a).classed(c.className,!0);var d=document.createElement("div");d.className="swatch";d.style.backgroundColor=c.color;a.appendChild(d);d=document.createElement("span");d.className="label";d.innerHTML=c.name;a.appendChild(d);this.list.appendChild(a);a.series=c;c.noLegend&&(a.style.display="none");
c={element:a,series:c};this.shelving&&(this.shelving.addAnchor(c),this.shelving.updateBehaviour());this.highlighter&&this.highlighter.addHighlightEvents(c);this.lines.push(c);return a}});f.namespace("Rickshaw.Graph.RangeSlider");f.Graph.RangeSlider=f.Class.create({initialize:function(c){this.element=c.element;c=this.graph=c.graph;this.slideCallbacks=[];this.build();c.onUpdate(function(){this.update()}.bind(this))},build:function(){var c=this.element,a=this.graph,d=jQuery,h=a.dataDomain(),f=this;d(function(){d(c).slider({range:!0,
min:h[0],max:h[1],values:[h[0],h[1]],slide:function(c,d){if(!(d.values[1]<=d.values[0])){a.window.xMin=d.values[0];a.window.xMax=d.values[1];a.update();var h=a.dataDomain();h[0]==d.values[0]&&(a.window.xMin=void 0);h[1]==d.values[1]&&(a.window.xMax=void 0);f.slideCallbacks.forEach(function(c){c(a,a.window.xMin,a.window.xMax)})}}})});d(c)[0].style.width=a.width+"px"},update:function(){var c=this.element,a=this.graph,d=jQuery,h=d(c).slider("option","values"),f=a.dataDomain();d(c).slider("option","min",
f[0]);d(c).slider("option","max",f[1]);null==a.window.xMin&&(h[0]=f[0]);null==a.window.xMax&&(h[1]=f[1]);d(c).slider("option","values",h)},onSlide:function(c){this.slideCallbacks.push(c)}});f.namespace("Rickshaw.Graph.RangeSlider.Preview");f.Graph.RangeSlider.Preview=f.Class.create({initialize:function(c){if(!c.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!c.graph&&!c.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";
this.element=c.element;this.element.style.position="relative";this.graphs=c.graph?[c.graph]:c.graphs;this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2};this.heightRatio=c.heightRatio||this.defaults.heightRatio;this.defaults.gripperColor=k.rgb(this.defaults.frameColor).darker().toString();this.configureCallbacks=[];this.slideCallbacks=[];this.previews=[];c.width||(this.widthFromGraph=
!0);c.height||(this.heightFromGraph=!0);if(this.widthFromGraph||this.heightFromGraph)this.graphs[0].onConfigure(function(){this.configure(c);this.render()}.bind(this));c.width=c.width||this.graphs[0].width||this.defaults.width;c.height=c.height||this.graphs[0].height*this.heightRatio||this.defaults.height;this.configure(c);this.render()},onSlide:function(c){this.slideCallbacks.push(c)},onConfigure:function(c){this.configureCallbacks.push(c)},configure:function(c){this.config=this.config||{};this.configureCallbacks.forEach(function(a){a(c)});
f.keys(this.defaults).forEach(function(a){this.config[a]=a in c?c[a]:a in this.config?this.config[a]:this.defaults[a]},this);if("width"in c||"height"in c)this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(a){var c=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,h=this.config.width-2*this.config.frameHandleThickness;
a.setSize({width:h,height:c});this.svg&&(a=c+2*this.config.frameHandleThickness,this.svg.style("width",h+2*this.config.frameHandleThickness+"px"),this.svg.style("height",a+"px"))},this)},render:function(){var c=this;this.svg=k.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]);this.previewHeight=this.config.height-2*this.config.frameTopThickness;this.previewWidth=this.config.width-2*this.config.frameHandleThickness;this.currentFrame=[0,this.previewWidth];var a=k.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),
d="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";a.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",d).style("-moz-transform",d).style("-ms-transform",d).style("transform",d).each(function(a,d){var k=f.extend({},a.config),C=c.previewHeight/c.graphs.length,r=a.renderer.name;f.extend(k,{element:this.appendChild(document.createElement("div")),height:C,width:c.previewWidth,series:a.series,renderer:r});var l=
new f.Graph(k);c.previews.push(l);a.onUpdate(function(){l.render();c.render()});a.onConfigure(function(a){delete a.height;a.width-=2*c.config.frameHandleThickness;l.configure(a);l.render()});l.render()});a.exit().remove();d=this.graphs[0];a=k.scale.linear().domain([0,this.previewWidth]).range(d.dataDomain());d=[d.window.xMin,d.window.xMax];this.currentFrame[0]=void 0===d[0]?0:Math.round(a.invert(d[0]));0>this.currentFrame[0]&&(this.currentFrame[0]=0);this.currentFrame[1]=void 0===d[1]?this.previewWidth:
a.invert(d[1]);this.currentFrame[1]-this.currentFrame[0]<c.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+c.config.minimumFrameWidth);this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0);this._renderDimming();this._renderFrame();this._renderGrippers();this._renderHandles();this._renderMiddle();this._registerMouseEvents()},_renderDimming:function(){var c=
this.svg.selectAll("path.dimming").data([null]);c.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var a;a=""+(" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness);a+=" h "+this.previewWidth;a+=" v "+this.previewHeight;a+=" h "+-this.previewWidth;a=a+" z "+(" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness);a+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,
this.previewWidth+this.config.frameHandleThickness);a+=" v "+this.previewHeight;a+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness);a+=" z";c.attr("d",a)},_renderFrame:function(){var c=this.svg.selectAll("path.frame").data([null]);c.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var a;a=""+(" M "+
this.currentFrame[0]+" 0");a+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness);a+=" V "+this.config.height;a+=" H "+this.currentFrame[0];a=a+" z"+(" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness);a+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness);a+=" v "+this.previewHeight;a+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness);a+=" z";c.attr("d",a)},_renderGrippers:function(){var c=this.svg.selectAll("path.gripper").data([null]);
c.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var a="";[.4,.6].forEach(function(c){a+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*c)+" "+Math.round(.3*this.config.height);a+=" V "+Math.round(.7*this.config.height);a+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+c))+" "+Math.round(.3*this.config.height);a+=" V "+Math.round(.7*this.config.height)}.bind(this));c.attr("d",a)},_renderHandles:function(){var c=
this.svg.selectAll("rect.left_handle").data([null]);c.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0);c.attr("x",this.currentFrame[0]).attr("height",this.config.height);c=this.svg.selectAll("rect.right_handle").data([null]);c.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0);c.attr("x",this.currentFrame[1]+
this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var c=this.svg.selectAll("rect.middle_handle").data([null]);c.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0);c.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function c(a,c){r.stop=l._getClientXFromEvent(k.event,
r);var d=r.stop-r.start,h=l.frameBeforeDrag.slice(0),f=l.config.minimumFrameWidth;r.rigid&&(f=l.frameBeforeDrag[1]-l.frameBeforeDrag[0]);r.left&&(h[0]=Math.max(h[0]+d,0));r.right&&(h[1]=Math.min(h[1]+d,l.previewWidth));h[1]-h[0]<=f&&(r.left&&(h[0]=h[1]-f),r.right&&(h[1]=h[0]+f),0>=h[0]&&(h[1]-=h[0],h[0]=0),h[1]>=l.previewWidth&&(h[0]-=h[1]-l.previewWidth,h[1]=l.previewWidth));l.graphs.forEach(function(a){var c=k.scale.linear().interpolate(k.interpolateNumber).domain([0,l.previewWidth]).range(a.dataDomain()),
d=[c(h[0]),c(h[1])];l.slideCallbacks.forEach(function(c){c(a,d[0],d[1])});0===h[0]&&(d[0]=void 0);h[1]===l.previewWidth&&(d[1]=void 0);a.window.xMin=d[0];a.window.xMax=d[1];a.update()})}function a(){r.target=k.event.target;r.start=l._getClientXFromEvent(k.event,r);l.frameBeforeDrag=l.currentFrame.slice();k.event.preventDefault?k.event.preventDefault():k.event.returnValue=!1;k.select(document).on("mousemove.rickshaw_range_slider_preview",c);k.select(document).on("mouseup.rickshaw_range_slider_preview",
p);k.select(document).on("touchmove.rickshaw_range_slider_preview",c);k.select(document).on("touchend.rickshaw_range_slider_preview",p);k.select(document).on("touchcancel.rickshaw_range_slider_preview",p)}function d(c,d){r.left=!0;a()}function h(c,d){r.right=!0;a()}function f(c,d){r.left=!0;r.right=!0;r.rigid=!0;a()}function p(a,c){k.select(document).on("mousemove.rickshaw_range_slider_preview",null);k.select(document).on("mouseup.rickshaw_range_slider_preview",null);k.select(document).on("touchmove.rickshaw_range_slider_preview",
null);k.select(document).on("touchend.rickshaw_range_slider_preview",null);k.select(document).on("touchcancel.rickshaw_range_slider_preview",null);delete l.frameBeforeDrag;r.left=!1;r.right=!1;r.rigid=!1}var C=k.select(this.element),r={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},l=this;C.select("rect.left_handle").on("mousedown",d);C.select("rect.right_handle").on("mousedown",h);C.select("rect.middle_handle").on("mousedown",f);C.select("rect.left_handle").on("touchstart",d);C.select("rect.right_handle").on("touchstart",
h);C.select("rect.middle_handle").on("touchstart",f)},_getClientXFromEvent:function(c,a){switch(c.type){case "touchstart":case "touchmove":for(var d=c.changedTouches,h=null,f=0;f<d.length;f++)if(d[f].target===a.target){h=d[f];break}return null!==h?h.clientX:void 0;default:return c.clientX}}});f.namespace("Rickshaw.Graph.Renderer");f.Graph.Renderer=f.Class.create({initialize:function(c){this.graph=c.graph;this.tension=c.tension||this.tension;this.configure(c)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},
defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1}},domain:function(c){c=c||this.graph.stackedData||this.graph.stackData();var a=Infinity,d=-Infinity,h=Infinity,f=-Infinity;c.forEach(function(c){c.forEach(function(a){null!=a.y&&(a=a.y+a.y0,a<h&&(h=a),a>f&&(f=a))});c.length&&(c[0].x<a&&(a=c[0].x),c[c.length-1].x>d&&(d=c[c.length-1].x))});a-=(d-a)*this.padding.left;d+=(d-a)*this.padding.right;h="auto"===this.graph.min?h:this.graph.min||
0;f=void 0===this.graph.max?f:this.graph.max;if("auto"===this.graph.min||0>h)h-=(f-h)*this.padding.bottom;void 0===this.graph.max&&(f+=(f-h)*this.padding.top);return{x:[a,d],y:[h,f]}},render:function(c){c=c||{};var a=this.graph,d=c.series||a.series;c=c.vis||a.vis;c.selectAll("*").remove();var a=d.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),h=c.selectAll("path.path").data(a).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var f=
c.selectAll("path.stroke").data(a).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var k=0;d.forEach(function(a){a.disabled||(a.path=h[0][k],this.stroke&&(a.stroke=f[0][k]),this._styleSeries(a),k++)},this)},_styleSeries:function(c){var a=this.stroke?c.color:"none";c.path.setAttribute("fill",this.fill?c.color:"none");c.path.setAttribute("stroke",a);c.path.setAttribute("stroke-width",this.strokeWidth);c.className&&k.select(c.path).classed(c.className,!0);c.className&&
this.stroke&&k.select(c.stroke).classed(c.className,!0)},configure:function(c){c=c||{};f.keys(this.defaults()).forEach(function(a){c.hasOwnProperty(a)?"object"==typeof this.defaults()[a]?f.keys(this.defaults()[a]).forEach(function(d){this[a][d]=void 0!==c[a][d]?c[a][d]:void 0!==this[a][d]?this[a][d]:this.defaults()[a][d]},this):this[a]=void 0!==c[a]?c[a]:void 0!==this[a]?this[a]:void 0!==this.graph[a]?this.graph[a]:this.defaults()[a]:this[a]=this[a]||this.graph[a]||this.defaults()[a]},this)},setStrokeWidth:function(c){void 0!==
c&&(this.strokeWidth=c)},setTension:function(c){void 0!==c&&(this.tension=c)}});f.namespace("Rickshaw.Graph.Renderer.Line");f.Graph.Renderer.Line=f.Class.create(f.Graph.Renderer,{name:"line",defaults:function($super){return f.extend($super(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var c=this.graph,a=k.svg.line().x(function(a){return c.x(a.x)}).y(function(a){return c.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension);a.defined&&a.defined(function(a){return null!==
a.y});return a}});f.namespace("Rickshaw.Graph.Renderer.Stack");f.Graph.Renderer.Stack=f.Class.create(f.Graph.Renderer,{name:"stack",defaults:function($super){return f.extend($super(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var c=this.graph,a=k.svg.area().x(function(a){return c.x(a.x)}).y0(function(a){return c.y(a.y0)}).y1(function(a){return c.y(a.y+a.y0)}).interpolate(this.graph.interpolation).tension(this.tension);a.defined&&a.defined(function(a){return null!==a.y});return a}});
f.namespace("Rickshaw.Graph.Renderer.Bar");f.Graph.Renderer.Bar=f.Class.create(f.Graph.Renderer,{name:"bar",defaults:function($super){var a=f.extend($super(),{gapSize:.05,unstack:!1});delete a.tension;return a},initialize:function($super,a){a=a||{};this.gapSize=a.gapSize||this.gapSize;$super(a)},domain:function($super){var a=$super(),d=this._frequentInterval(this.graph.stackedData.slice(-1).shift());a.x[1]+=Number(d.magnitude);return a},barWidth:function(c){c=this._frequentInterval(c.stack);return this.graph.x.magnitude(c.magnitude)*
(1-this.gapSize)},render:function(c){c=c||{};var a=this.graph,d=c.series||a.series,h=c.vis||a.vis;h.selectAll("*").remove();c=this.barWidth(d.active()[0]);var f=0,k=d.filter(function(a){return!a.disabled}).length,C=this.unstack?c/k:c,r=function(c){return"matrix("+[1,0,0,0>c.y?-1:1,0,0>c.y?2*a.y.magnitude(Math.abs(c.y)):0].join()+")"};d.forEach(function(c){if(!c.disabled){this.barWidth(c);var d=h.selectAll("path").data(c.stack.filter(function(a){return null!==a.y})).enter().append("svg:rect").attr("x",
function(c){return a.x(c.x)+f}).attr("y",function(c){return a.y(c.y0+Math.abs(c.y))*(0>c.y?-1:1)}).attr("width",C).attr("height",function(c){return a.y.magnitude(Math.abs(c.y))}).attr("transform",r);Array.prototype.forEach.call(d[0],function(a){a.setAttribute("fill",c.color)});this.unstack&&(f+=C)}},this)},_frequentInterval:function(c){for(var a={},d=0;d<c.length-1;d++){var h=c[d+1].x-c[d].x;a[h]=a[h]||0;a[h]++}var k={count:0,magnitude:1};f.keys(a).forEach(function(c){k.count<a[c]&&(k={count:a[c],
magnitude:c})});return k}});f.namespace("Rickshaw.Graph.Renderer.Area");f.Graph.Renderer.Area=f.Class.create(f.Graph.Renderer,{name:"area",defaults:function($super){return f.extend($super(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var c=this.graph,a=k.svg.area().x(function(a){return c.x(a.x)}).y0(function(a){return c.y(a.y0)}).y1(function(a){return c.y(a.y+a.y0)}).interpolate(c.interpolation).tension(this.tension);a.defined&&a.defined(function(a){return null!==a.y});return a},
seriesStrokeFactory:function(){var c=this.graph,a=k.svg.line().x(function(a){return c.x(a.x)}).y(function(a){return c.y(a.y+a.y0)}).interpolate(c.interpolation).tension(this.tension);a.defined&&a.defined(function(a){return null!==a.y});return a},render:function(c){c=c||{};var a=this.graph,d=c.series||a.series;c=c.vis||a.vis;c.selectAll("*").remove();var a=this.unstack?"append":"insert",h=d.filter(function(a){return!a.disabled}).map(function(a){return a.stack}),f=c.selectAll("path").data(h).enter()[a]("svg:g",
"g");f.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area");this.stroke&&f.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var k=0;d.forEach(function(a){a.disabled||(a.path=f[0][k++],this._styleSeries(a))},this)},_styleSeries:function(c){c.path&&(k.select(c.path).select(".area").attr("fill",c.color),this.stroke&&k.select(c.path).select(".line").attr("fill","none").attr("stroke",c.stroke||k.interpolateRgb(c.color,"black")(.125)).attr("stroke-width",
this.strokeWidth),c.className&&c.path.setAttribute("class",c.className))}});f.namespace("Rickshaw.Graph.Renderer.ScatterPlot");f.Graph.Renderer.ScatterPlot=f.Class.create(f.Graph.Renderer,{name:"scatterplot",defaults:function($super){return f.extend($super(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function($super,a){$super(a)},render:function(c){c=c||{};var a=this.graph,d=c.series||a.series,h=c.vis||a.vis,f=this.dotSize;h.selectAll("*").remove();
d.forEach(function(c){if(!c.disabled){var d=h.selectAll("path").data(c.stack.filter(function(a){return null!==a.y})).enter().append("svg:circle").attr("cx",function(c){return a.x(c.x)}).attr("cy",function(c){return a.y(c.y)}).attr("r",function(a){return"r"in a?a.r:f});c.className&&d.classed(c.className,!0);Array.prototype.forEach.call(d[0],function(a){a.setAttribute("fill",c.color)})}},this)}});f.namespace("Rickshaw.Graph.Renderer.Multi");f.Graph.Renderer.Multi=f.Class.create(f.Graph.Renderer,{name:"multi",
initialize:function($super,a){$super(a)},defaults:function($super){return f.extend($super(),{unstack:!0,fill:!1,stroke:!0})},configure:function($super,a){this.config=a=a||{};$super(a)},domain:function($super){this.graph.stackData();var a=[],d=this._groups();this._stack(d);d.forEach(function(d){var h=d.series.filter(function(a){return!a.disabled}).map(function(a){return a.stack});if(h.length){var f=null,f=d.renderer&&d.renderer.domain?d.renderer.domain(h):$super(h);a.push(f)}});var d=k.min(a.map(function(a){return a.x[0]})),
h=k.max(a.map(function(a){return a.x[1]})),f=k.min(a.map(function(a){return a.y[0]})),p=k.max(a.map(function(a){return a.y[1]}));return{x:[d,h],y:[f,p]}},_groups:function(){var c=this.graph,a={};c.series.forEach(function(d){if(!d.disabled){if(!a[d.renderer]){var n=document.createElementNS("http://www.w3.org/2000/svg","g");c.vis[0][0].appendChild(n);var p=c._renderers[d.renderer],C={};[this.defaults(),p.defaults(),this.config,this.graph].forEach(function(a){f.extend(C,a)});p.configure(C);a[d.renderer]=
{renderer:p,series:[],vis:k.select(n)}}a[d.renderer].series.push(d)}},this);var d=[];Object.keys(a).forEach(function(c){d.push(a[c])});return d},_stack:function(c){c.forEach(function(a){var c=a.series.filter(function(a){return!a.disabled}),h=c.map(function(a){return a.stack});if(!a.renderer.unstack){a=k.layout.stack();var n=f.clone(a(h));c.forEach(function(a,c){a._stack=f.clone(n[c])})}},this);return c},render:function(){this.graph.series.forEach(function(a){if(!a.renderer)throw Error("Each series needs a renderer for graph 'multi' renderer");
});this.graph.vis.selectAll("*").remove();var c=this._groups(),c=this._stack(c);c.forEach(function(a){var c=a.series.filter(function(a){return!a.disabled});c.active=function(){return c};a.renderer.render({series:c,vis:a.vis});c.forEach(function(a){a.stack=a._stack||a.stack||a.data})})}});f.namespace("Rickshaw.Graph.Renderer.LinePlot");f.Graph.Renderer.LinePlot=f.Class.create(f.Graph.Renderer,{name:"lineplot",defaults:function($super){return f.extend($super(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,
right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var c=this.graph,a=k.svg.line().x(function(a){return c.x(a.x)}).y(function(a){return c.y(a.y)}).interpolate(this.graph.interpolation).tension(this.tension);a.defined&&a.defined(function(a){return null!==a.y});return a},render:function(c){c=c||{};var a=this.graph,d=c.series||a.series,h=c.vis||a.vis,f=this.dotSize;h.selectAll("*").remove();c=d.filter(function(a){return!a.disabled}).map(function(a){return a.stack});
var k=h.selectAll("path").data(c).enter().append("svg:path").attr("d",this.seriesPathFactory()),C=0;d.forEach(function(a){a.disabled||(a.path=k[0][C++],this._styleSeries(a))},this);d.forEach(function(c){if(!c.disabled){var d=h.selectAll("x").data(c.stack.filter(function(a){return null!==a.y})).enter().append("svg:circle").attr("cx",function(c){return a.x(c.x)}).attr("cy",function(c){return a.y(c.y)}).attr("r",function(a){return"r"in a?a.r:f});Array.prototype.forEach.call(d[0],function(a){a&&(a.setAttribute("data-color",
c.color),a.setAttribute("fill","white"),a.setAttribute("stroke",c.color),a.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}});f.namespace("Rickshaw.Graph.Smoother");f.Graph.Smoother=f.Class.create({initialize:function(c){this.graph=c.graph;this.element=c.element;this.aggregationScale=1;this.build();this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var c=this,a=jQuery;this.element&&a(function(){a(c.element).slider({min:1,
max:100,slide:function(a,h){c.setScale(h.value)}})})},setScale:function(c){if(1>c)throw"scale out of range: "+c;this.aggregationScale=c;this.graph.update()},transformer:function(c){if(1==this.aggregationScale)return c;var a=[];c.forEach(function(c){for(var h=[];c.length;){var f=0,k=0,C=c.splice(0,this.aggregationScale);C.forEach(function(a){f+=a.x/C.length;k+=a.y/C.length});h.push({x:f,y:k})}a.push(h)}.bind(this));return a}});f.namespace("Rickshaw.Graph.Socketio");f.Graph.Socketio=f.Class.create(f.Graph.Ajax,
{request:function(){var c=this;io.connect(this.dataURL).on("rickshaw",function(a){c.success(a)})}});f.namespace("Rickshaw.Series");f.Series=f.Class.create(Array,{initialize:function(c,a,d){d=d||{};this.palette=new f.Color.Palette(a);this.timeBase="undefined"===typeof d.timeBase?Math.floor((new Date).getTime()/1E3):d.timeBase;this.setTimeInterval("undefined"==typeof d.timeInterval?1E3:d.timeInterval);c&&"object"==typeof c&&Array.isArray(c)&&c.forEach(function(a){this.addItem(a)},this)},addItem:function(c){if("undefined"===
typeof c.name)throw"addItem() needs a name";c.color=c.color||this.palette.color(c.name);c.data=c.data||[];0===c.data.length&&this.length&&0<this.getIndex()?this[0].data.forEach(function(a){c.data.push({x:a.x,y:0})}):0===c.data.length&&c.data.push({x:this.timeBase-(this.timeInterval||0),y:0});this.push(c);this.legend&&this.legend.addLine(this.itemByName(c.name))},addData:function(c,a){var d=this.getIndex();f.keys(c).forEach(function(a){this.itemByName(a)||this.addItem({name:a})},this);this.forEach(function(f){f.data.push({x:a||
(d*this.timeInterval||1)+this.timeBase,y:c[f.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(c){for(var a=0;a<this.length;a++)if(this[a].name==c)return this[a]},setTimeInterval:function(c){this.timeInterval=c/1E3},setTimeBase:function(c){this.timeBase=c},dump:function(){var c={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};this.forEach(function(a){var d={color:a.color,name:a.name,data:[]};a.data.forEach(function(a){d.data.push({x:a.x,
y:a.y})});c.items.push(d)});return c},load:function(c){c.timeInterval&&(this.timeInterval=c.timeInterval);c.timeBase&&(this.timeBase=c.timeBase);c.items&&c.items.forEach(function(a){this.push(a);this.legend&&this.legend.addLine(this.itemByName(a.name))},this)}});f.Series.zeroFill=function(c){f.Series.fill(c,0)};f.Series.fill=function(c,a){for(var d,f=0,k=c.map(function(a){return a.data});f<Math.max.apply(null,k.map(function(a){return a.length}));)d=Math.min.apply(null,k.filter(function(a){return a[f]}).map(function(a){return a[f].x})),
k.forEach(function(c){c[f]&&c[f].x==d||c.splice(f,0,{x:d,y:a})}),f++};f.namespace("Rickshaw.Series.FixedDuration");f.Series.FixedDuration=f.Class.create(f.Series,{initialize:function(c,a,d){d=d||{};if("undefined"===typeof d.timeInterval)throw Error("FixedDuration series requires timeInterval");if("undefined"===typeof d.maxDataPoints)throw Error("FixedDuration series requires maxDataPoints");this.palette=new f.Color.Palette(a);this.timeBase="undefined"===typeof d.timeBase?Math.floor((new Date).getTime()/
1E3):d.timeBase;this.setTimeInterval(d.timeInterval);this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):this.currentIndex=this.currentSize=0;this.maxDataPoints=d.maxDataPoints;c&&"object"==typeof c&&Array.isArray(c)&&(c.forEach(function(a){this.addItem(a)},this),this.currentSize+=1,this.currentIndex+=1);this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval;if("undefined"!==typeof this.maxDataPoints&&this.currentSize<
this.maxDataPoints)for(var h=this.maxDataPoints-this.currentSize-1;1<h;h--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(a){a.data.unshift({x:((h-1)*this.timeInterval||1)+this.timeBase,y:0,i:h})},this)},addData:function($super,a,d){$super(a,d);this.currentSize+=1;this.currentIndex+=1;if(void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(c){c.data.splice(0,1)});--this.currentSize},getIndex:function(){return this.currentIndex}});
return f})},{d3:15}],46:[function(A,D,x){function k(c,k){"object"==typeof c&&(k=c,c=void 0);k=k||{};var C=f(c),r=C.source,l=C.id,z=C.path,z=h[l]&&z in h[l].nsps;k.forceNew||k["force new connection"]||!1===k.multiplex||z?(d("ignoring socket cache for %s",r),r=a(r,k)):(h[l]||(d("new io instance for %s",r),h[l]=a(r,k)),r=h[l]);return r.socket(C.path)}var f=A("./url"),c=A("socket.io-parser"),a=A("./manager"),d=A("debug")("socket.io-client");D.exports=x=k;var h=x.managers={};x.protocol=c.protocol;x.connect=
k;x.Manager=A("./manager");x.Socket=A("./socket")},{"./manager":47,"./socket":49,"./url":50,debug:16,"socket.io-parser":52}],47:[function(A,D,x){function k(c,d){if(!(this instanceof k))return new k(c,d);c&&"object"==typeof c&&(d=c,c=void 0);d=d||{};d.path=d.path||"/socket.io";this.nsps={};this.subs=[];this.opts=d;this.reconnection(!1!==d.reconnection);this.reconnectionAttempts(d.reconnectionAttempts||Infinity);this.reconnectionDelay(d.reconnectionDelay||1E3);this.reconnectionDelayMax(d.reconnectionDelayMax||
5E3);this.randomizationFactor(d.randomizationFactor||.5);this.backoff=new C({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==d.timeout?2E4:d.timeout);this.readyState="closed";this.uri=c;this.connecting=[];this.lastPing=null;this.encoding=!1;this.packetBuffer=[];this.encoder=new a.Encoder;this.decoder=new a.Decoder;(this.autoConnect=!1!==d.autoConnect)&&this.open()}var f=A("engine.io-client"),c=A("./socket");x=A("component-emitter");
var a=A("socket.io-parser"),d=A("./on"),h=A("component-bind"),n=A("debug")("socket.io-client:manager"),p=A("indexof"),C=A("backo2"),r=Object.prototype.hasOwnProperty;D.exports=k;k.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)r.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)};k.prototype.updateSocketIds=function(){for(var a in this.nsps)r.call(this.nsps,a)&&(this.nsps[a].id=this.engine.id)};x(k.prototype);k.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;
this._reconnection=!!a;return this};k.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};k.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};k.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);
return this};k.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};k.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};k.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};k.prototype.open=k.prototype.connect=function(a){n("readyState %s",this.readyState);
if(~this.readyState.indexOf("open"))return this;n("opening %s",this.uri);var c=this.engine=f(this.uri,this.opts),h=this;this.readyState="opening";this.skipReconnect=!1;var k=d(c,"open",function(){h.onopen();a&&a()}),p=d(c,"error",function(c){n("connect_error");h.cleanup();h.readyState="closed";h.emitAll("connect_error",c);if(a){var d=Error("Connection error");d.data=c;a(d)}else h.maybeReconnectOnOpen()});if(!1!==this._timeout){var r=this._timeout;n("connect attempt will timeout after %d",r);var C=
setTimeout(function(){n("connect attempt timed out after %d",r);k.destroy();c.close();c.emit("error","timeout");h.emitAll("connect_timeout",r)},r);this.subs.push({destroy:function(){clearTimeout(C)}})}this.subs.push(k);this.subs.push(p);return this};k.prototype.onopen=function(){n("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(d(a,"data",h(this,"ondata")));this.subs.push(d(a,"ping",h(this,"onping")));this.subs.push(d(a,"pong",h(this,"onpong")));this.subs.push(d(a,
"error",h(this,"onerror")));this.subs.push(d(a,"close",h(this,"onclose")));this.subs.push(d(this.decoder,"decoded",h(this,"ondecoded")))};k.prototype.onping=function(){this.lastPing=new Date;this.emitAll("ping")};k.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};k.prototype.ondata=function(a){this.decoder.add(a)};k.prototype.ondecoded=function(a){this.emit("packet",a)};k.prototype.onerror=function(a){n("error",a);this.emitAll("error",a)};k.prototype.socket=function(a){function d(){~p(h.connecting,
f)||h.connecting.push(f)}var f=this.nsps[a];if(!f){f=new c(this,a);this.nsps[a]=f;var h=this;f.on("connecting",d);f.on("connect",function(){f.id=h.engine.id});this.autoConnect&&d()}return f};k.prototype.destroy=function(a){a=p(this.connecting,a);~a&&this.connecting.splice(a,1);this.connecting.length||this.close()};k.prototype.packet=function(a){n("writing packet %j",a);var c=this;c.encoding?c.packetBuffer.push(a):(c.encoding=!0,this.encoder.encode(a,function(d){for(var f=0;f<d.length;f++)c.engine.write(d[f],
a.options);c.encoding=!1;c.processPacketQueue()}))};k.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};k.prototype.cleanup=function(){n("cleanup");for(var a;a=this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.lastPing=null;this.decoder.destroy()};k.prototype.close=k.prototype.disconnect=function(){n("disconnect");this.skipReconnect=!0;this.reconnecting=!1;"opening"==this.readyState&&this.cleanup();
this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};k.prototype.onclose=function(a){n("onclose");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};k.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=
!1;else{var c=this.backoff.duration();n("will wait %dms before reconnect attempt",c);this.reconnecting=!0;var d=setTimeout(function(){a.skipReconnect||(n("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(c){c?(n("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",c.data)):(n("reconnect success"),a.onreconnect())}))},c);this.subs.push({destroy:function(){clearTimeout(d)}})}};
k.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":48,"./socket":49,backo2:6,"component-bind":11,"component-emitter":12,debug:16,"engine.io-client":18,indexof:36,"socket.io-parser":52}],48:[function(A,D,x){D.exports=function(k,f,c){k.on(f,c);return{destroy:function(){k.removeListener(f,c)}}}},{}],49:[function(A,D,x){function k(a,c){this.io=a;this.nsp=c;this.json=this;this.ids=0;this.acks=
{};this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0;this.io.autoConnect&&this.open()}var f=A("socket.io-parser");x=A("component-emitter");var c=A("to-array"),a=A("./on"),d=A("component-bind"),h=A("debug")("socket.io-client:socket"),n=A("has-binary");D.exports=k;var p={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},C=x.prototype.emit;x(k.prototype);
k.prototype.subEvents=function(){if(!this.subs){var c=this.io;this.subs=[a(c,"open",d(this,"onopen")),a(c,"packet",d(this,"onpacket")),a(c,"close",d(this,"onclose"))]}};k.prototype.open=k.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();this.emit("connecting");return this};k.prototype.send=function(){var a=c(arguments);a.unshift("message");this.emit.apply(this,a);return this};k.prototype.emit=function(a){if(p.hasOwnProperty(a))return C.apply(this,
arguments),this;var d=c(arguments),k=f.EVENT;n(d)&&(k=f.BINARY_EVENT);k={type:k,data:d,options:{}};k.options.compress=!this.flags||!1!==this.flags.compress;"function"==typeof d[d.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=d.pop(),k.id=this.ids++);this.connected?this.packet(k):this.sendBuffer.push(k);delete this.flags;return this};k.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};k.prototype.onopen=function(){h("transport is open - connecting");"/"!=
this.nsp&&this.packet({type:f.CONNECT})};k.prototype.onclose=function(a){h("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};k.prototype.onpacket=function(a){if(a.nsp==this.nsp)switch(a.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(a);break;case f.BINARY_EVENT:this.onevent(a);break;case f.ACK:this.onack(a);break;case f.BINARY_ACK:this.onack(a);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",a.data)}};
k.prototype.onevent=function(a){var c=a.data||[];h("emitting event %j",c);null!=a.id&&(h("attaching ack callback to event"),c.push(this.ack(a.id)));this.connected?C.apply(this,c):this.receiveBuffer.push(c)};k.prototype.ack=function(a){var d=this,k=!1;return function(){if(!k){k=!0;var p=c(arguments);h("sending ack %j",p);var C=n(p)?f.BINARY_ACK:f.ACK;d.packet({type:C,id:a,data:p})}}};k.prototype.onack=function(a){var c=this.acks[a.id];"function"==typeof c?(h("calling ack %s with %j",a.id,a.data),c.apply(this,
a.data),delete this.acks[a.id]):h("bad ack %s",a.id)};k.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};k.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)C.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};k.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};
k.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};k.prototype.close=k.prototype.disconnect=function(){this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this};k.prototype.compress=function(a){this.flags=this.flags||{};this.flags.compress=a;return this}},{"./on":48,"component-bind":11,"component-emitter":12,
debug:16,"has-binary":34,"socket.io-parser":52,"to-array":55}],50:[function(A,D,x){(function(k){var f=A("parseuri"),c=A("debug")("socket.io-client:url");D.exports=function(a,d){var h=a;d=d||k.location;null==a&&(a=d.protocol+"//"+d.host);"string"==typeof a&&("/"==a.charAt(0)&&(a="/"==a.charAt(1)?d.protocol+a:d.host+a),/^(https?|wss?):\/\//.test(a)||(c("protocol-less url %s",a),a="undefined"!=typeof d?d.protocol+"//"+a:"https://"+a),c("parse %s",a),h=f(a));h.port||(/^(http|ws)$/.test(h.protocol)?h.port=
"80":/^(http|ws)s$/.test(h.protocol)&&(h.port="443"));h.path=h.path||"/";var n=-1!==h.host.indexOf(":")?"["+h.host+"]":h.host;h.id=h.protocol+"://"+n+":"+h.port;h.href=h.protocol+"://"+n+(d&&d.port==h.port?"":":"+h.port);return h}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:16,parseuri:43}],51:[function(A,D,x){(function(k){var f=A("isarray"),c=A("./is-buffer");x.deconstructPacket=function(a){function d(a){if(!a)return a;
if(c(a)){var k={_placeholder:!0,num:h.length};h.push(a);return k}if(f(a)){for(var k=Array(a.length),C=0;C<a.length;C++)k[C]=d(a[C]);return k}if("object"==typeof a&&!(a instanceof Date)){k={};for(C in a)k[C]=d(a[C]);return k}return a}var h=[];a.data=d(a.data);a.attachments=h.length;return{packet:a,buffers:h}};x.reconstructPacket=function(a,c){function h(a){if(a&&a._placeholder)return c[a.num];if(f(a))for(var k=0;k<a.length;k++)a[k]=h(a[k]);else if(a&&"object"==typeof a)for(k in a)a[k]=h(a[k]);return a}
a.data=h(a.data);a.attachments=void 0;return a};x.removeBlobs=function(a,d){function h(a,r,l){if(!a)return a;if(k.Blob&&a instanceof Blob||k.File&&a instanceof File){n++;var z=new FileReader;z.onload=function(){l?l[r]=this.result:p=this.result;--n||d(p)};z.readAsArrayBuffer(a)}else if(f(a))for(z=0;z<a.length;z++)h(a[z],z,a);else if(a&&"object"==typeof a&&!c(a))for(z in a)h(a[z],z,a)}var n=0,p=a;h(p);n||d(p)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{})},{"./is-buffer":53,isarray:37}],52:[function(A,D,x){function k(){}function f(a){var c,d=!1;c=""+a.type;if(x.BINARY_EVENT==a.type||x.BINARY_ACK==a.type)c+=a.attachments,c+="-";a.nsp&&"/"!=a.nsp&&(d=!0,c+=a.nsp);null!=a.id&&(d&&(c+=",",d=!1),c+=a.id);null!=a.data&&(d&&(c+=","),c+=n.stringify(a.data));h("encoded %j as %s",a,c);return c}function c(a,c){p.removeBlobs(a,function(a){var d=p.deconstructPacket(a);a=f(d.packet);d=d.buffers;d.unshift(a);c(d)})}function a(){this.reconstructor=
null}function d(a){this.reconPack=a;this.buffers=[]}var h=A("debug")("socket.io-parser"),n=A("json3");A("isarray");D=A("component-emitter");var p=A("./binary"),C=A("./is-buffer");x.protocol=4;x.types="CONNECT DISCONNECT EVENT ACK ERROR BINARY_EVENT BINARY_ACK".split(" ");x.CONNECT=0;x.DISCONNECT=1;x.EVENT=2;x.ACK=3;x.ERROR=4;x.BINARY_EVENT=5;x.BINARY_ACK=6;x.Encoder=k;x.Decoder=a;k.prototype.encode=function(a,d){h("encoding packet %j",a);if(x.BINARY_EVENT==a.type||x.BINARY_ACK==a.type)c(a,d);else{var k=
f(a);d([k])}};D(a.prototype);a.prototype.add=function(a){if("string"==typeof a){a:{var c={},f=0;c.type=Number(a.charAt(0));if(null==x.types[c.type])a={type:x.ERROR,data:"parser error"};else{if(x.BINARY_EVENT==c.type||x.BINARY_ACK==c.type){for(var k="";"-"!=a.charAt(++f)&&(k+=a.charAt(f),f!=a.length););if(k!=Number(k)||"-"!=a.charAt(f))throw Error("Illegal attachments");c.attachments=Number(k)}if("/"==a.charAt(f+1))for(c.nsp="";++f;){k=a.charAt(f);if(","==k)break;c.nsp+=k;if(f==a.length)break}else c.nsp=
"/";k=a.charAt(f+1);if(""!==k&&Number(k)==k){for(c.id="";++f;){k=a.charAt(f);if(null==k||Number(k)!=k){--f;break}c.id+=a.charAt(f);if(f==a.length)break}c.id=Number(c.id)}if(a.charAt(++f))try{c.data=n.parse(a.substr(f))}catch(p){a={type:x.ERROR,data:"parser error"};break a}h("decoded %s as %j",a,c);a=c}}x.BINARY_EVENT==a.type||x.BINARY_ACK==a.type?(this.reconstructor=new d(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(C(a)||a.base64)if(this.reconstructor){if(a=
this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+a);};a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};d.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=p.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};d.prototype.finishedReconstruction=
function(){this.reconPack=null;this.buffers=[]}},{"./binary":51,"./is-buffer":53,"component-emitter":54,debug:16,isarray:37,json3:38}],53:[function(A,D,x){(function(k){D.exports=function(f){return k.Buffer&&k.Buffer.isBuffer(f)||k.ArrayBuffer&&f instanceof ArrayBuffer}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],54:[function(A,D,x){arguments[4][28][0].apply(x,arguments)},{dup:28}],55:[function(A,D,x){D.exports=function(k,
f){for(var c=[],a=(f=f||0)||0;a<k.length;a++)c[a-f]=k[a];return c}},{}],56:[function(A,D,x){(function(k){(function(f){function c(a){for(var c=[],d=0,f=a.length,h,k;d<f;)h=a.charCodeAt(d++),55296<=h&&56319>=h&&d<f?(k=a.charCodeAt(d++),56320==(k&64512)?c.push(((h&1023)<<10)+(k&1023)+65536):(c.push(h),d--)):c.push(h);return c}function a(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function d(){if(A>=z)throw Error("Invalid byte index");
var a=l[A]&255;A++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function h(){var c,f,h,k;if(A>z)throw Error("Invalid byte index");if(A==z)return!1;c=l[A]&255;A++;if(0==(c&128))return c;if(192==(c&224)){f=d();c=(c&31)<<6|f;if(128<=c)return c;throw Error("Invalid continuation byte");}if(224==(c&240)){f=d();h=d();c=(c&15)<<12|f<<6|h;if(2048<=c)return a(c),c;throw Error("Invalid continuation byte");}if(240==(c&248)&&(f=d(),h=d(),k=d(),c=(c&15)<<18|f<<12|h<<6|k,65536<=c&&1114111>=
c))return c;throw Error("Invalid UTF-8 detected");}var n="object"==typeof x&&x,p="object"==typeof D&&D&&D.exports==n&&D,C="object"==typeof k&&k;if(C.global===C||C.window===C)f=C;var r=String.fromCharCode,l,z,A,Aa={version:"2.0.0",encode:function(d){d=c(d);for(var f=d.length,h=-1,k,l="";++h<f;){k=d[h];if(0==(k&4294967168))k=r(k);else{var n="";0==(k&4294965248)?n=r(k>>6&31|192):0==(k&4294901760)?(a(k),n=r(k>>12&15|224),n+=r(k>>6&63|128)):0==(k&4292870144)&&(n=r(k>>18&7|240),n+=r(k>>12&63|128),n+=r(k>>
6&63|128));k=n+=r(k&63|128)}l+=k}return l},decode:function(a){l=c(a);z=l.length;A=0;a=[];for(var d;!1!==(d=h());)a.push(d);d=a.length;for(var f=-1,k,n="";++f<d;)k=a[f],65535<k&&(k-=65536,n+=r(k>>>10&1023|55296),k=56320|k&1023),n+=r(k);return n}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return Aa});else if(n&&!n.nodeType)if(p)p.exports=Aa;else{f={}.hasOwnProperty;for(var X in Aa)f.call(Aa,X)&&(n[X]=Aa[X])}else f.utf8=Aa})(this)}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],57:[function(A,D,x){function k(a){return new Promise(function(c,d){f(a,c,d)})}var f=null,c=null,a=null,d=null,h=null,n=null,p={log:function(){"undefined"!==typeof D||"function"===typeof A&&"function"===typeof define||console.log.apply(console,arguments)},extractVersion:function(a,c,d){return(a=a.match(c))&&a.length>=d&&parseInt(a[d],10)}};"object"===typeof window&&(!window.HTMLMediaElement||"srcObject"in
window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return"mozSrcObject"in this?this.mozSrcObject:this._srcObject},set:function(a){"mozSrcObject"in this?this.mozSrcObject=a:(this._srcObject=a,this.src=URL.createObjectURL(a))}}),f=window.navigator&&window.navigator.getUserMedia);c=function(a,c){a.srcObject=c};a=function(a,c){a.srcObject=c.srcObject};if("undefined"!==typeof window&&window.navigator)if(navigator.mozGetUserMedia){if(p.log("This appears to be Firefox"),
d="firefox",h=p.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),n=31,window.RTCPeerConnection||(window.RTCPeerConnection=function(a,c){if(38>h&&a&&a.iceServers){for(var d=[],f=0;f<a.iceServers.length;f++){var k=a.iceServers[f];if(k.hasOwnProperty("urls"))for(var l=0;l<k.urls.length;l++){var n={url:k.urls[l]};0===k.urls[l].indexOf("turn")&&(n.username=k.username,n.credential=k.credential);d.push(n)}else d.push(a.iceServers[f])}a.iceServers=d}return new mozRTCPeerConnection(a,c)},window.RTCPeerConnection.prototype=
mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?mozRTCPeerConnection.generateCertificate.apply(null,arguments):mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),f=function(a,c,d){var f=function(a){if("object"!==typeof a||a.require)return a;var c=[];Object.keys(a).forEach(function(d){if("require"!==
d&&"advanced"!==d&&"mediaSource"!==d){var f=a[d]="object"===typeof a[d]?a[d]:{ideal:a[d]};void 0===f.min&&void 0===f.max&&void 0===f.exact||c.push(d);void 0!==f.exact&&("number"===typeof f.exact?f.min=f.max=f.exact:a[d]=f.exact,delete f.exact);if(void 0!==f.ideal){a.advanced=a.advanced||[];var h={};h[d]="number"===typeof f.ideal?{min:f.ideal,max:f.ideal}:f.ideal;a.advanced.push(h);delete f.ideal;Object.keys(f).length||delete a[d]}}});c.length&&(a.require=c);return a};38>h&&(p.log("spec: "+JSON.stringify(a)),
a.audio&&(a.audio=f(a.audio)),a.video&&(a.video=f(a.video)),p.log("ff37: "+JSON.stringify(a)));return navigator.mozGetUserMedia(a,c,d)},navigator.getUserMedia=f,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:k,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(a){a([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",
label:"",groupId:""}])})},41>h){var C=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return C().then(void 0,function(a){if("NotFoundError"===a.name)return[];throw a;})}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){p.log("This appears to be Chrome");d="chrome";h=p.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);n=38;window.RTCPeerConnection=function(a,c){a&&a.iceTransportPolicy&&(a.iceTransports=
a.iceTransportPolicy);var d=new webkitRTCPeerConnection(a,c),f=d.getStats.bind(d);d.getStats=function(a,c,d){var h=this,k=arguments;if(0<arguments.length&&"function"===typeof a)return f(a,c);var l=function(a){var c={};a.result().forEach(function(a){var d={id:a.id,timestamp:a.timestamp,type:a.type};a.names().forEach(function(c){d[c]=a.stat(c)});c[d.id]=d});return c};return 2<=arguments.length?f.apply(this,[function(a){k[1](l(a))},arguments[0]]):new Promise(function(c,d){1===k.length&&null===a?f.apply(h,
[function(a){c.apply(null,[l(a)])},d]):f.apply(h,[c,d])})};return d};window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype;webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?webkitRTCPeerConnection.generateCertificate.apply(null,arguments):webkitRTCPeerConnection.generateCertificate}});["createOffer","createAnswer"].forEach(function(a){var c=webkitRTCPeerConnection.prototype[a];webkitRTCPeerConnection.prototype[a]=
function(){var a=this;if(1>arguments.length||1===arguments.length&&"object"===typeof arguments[0]){var d=1===arguments.length?arguments[0]:void 0;return new Promise(function(f,h){c.apply(a,[f,h,d])})}return c.apply(this,arguments)}});["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){var c=webkitRTCPeerConnection.prototype[a];webkitRTCPeerConnection.prototype[a]=function(){var a=arguments,d=this;return new Promise(function(f,h){c.apply(d,[a[0],function(){f();2<=a.length&&
a[1].apply(null,[])},function(c){h(c);3<=a.length&&a[2].apply(null,[c])}])})}});var r=function(a){if("object"!==typeof a||a.mandatory||a.optional)return a;var c={};Object.keys(a).forEach(function(d){if("require"!==d&&"advanced"!==d&&"mediaSource"!==d){var f="object"===typeof a[d]?a[d]:{ideal:a[d]};void 0!==f.exact&&"number"===typeof f.exact&&(f.min=f.max=f.exact);var h=function(a,c){return a?a+c.charAt(0).toUpperCase()+c.slice(1):"deviceId"===c?"sourceId":c};if(void 0!==f.ideal){c.optional=c.optional||
[];var k={};"number"===typeof f.ideal?(k[h("min",d)]=f.ideal,c.optional.push(k),k={},k[h("max",d)]=f.ideal):k[h("",d)]=f.ideal;c.optional.push(k)}void 0!==f.exact&&"number"!==typeof f.exact?(c.mandatory=c.mandatory||{},c.mandatory[h("",d)]=f.exact):["min","max"].forEach(function(a){void 0!==f[a]&&(c.mandatory=c.mandatory||{},c.mandatory[h(a,d)]=f[a])})}});a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced));return c},f=function(a,c,d){a.audio&&(a.audio=r(a.audio));a.video&&(a.video=r(a.video));
p.log("chrome: "+JSON.stringify(a));return navigator.webkitGetUserMedia(a,c,d)};navigator.getUserMedia=f;navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:k,enumerateDevices:function(){return new Promise(function(a){var c={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(d){a(d.map(function(a){return{label:a.label,kind:c[a.kind],deviceId:a.id,groupId:""}}))})})}});if(navigator.mediaDevices.getUserMedia){var l=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);
navigator.mediaDevices.getUserMedia=function(a){p.log("spec:   "+JSON.stringify(a));a.audio=r(a.audio);a.video=r(a.video);p.log("chrome: "+JSON.stringify(a));return l(a)}}else navigator.mediaDevices.getUserMedia=function(a){return k(a)};"undefined"===typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){p.log("Dummy mediaDevices.addEventListener called.")});"undefined"===typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=
function(){p.log("Dummy mediaDevices.removeEventListener called.")});c=function(a,c){43<=h?a.srcObject=c:"undefined"!==typeof a.src?a.src=URL.createObjectURL(c):p.log("Error attaching stream to element.")};a=function(a,c){43<=h?a.srcObject=c.srcObject:a.src=c.src}}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){if(p.log("This appears to be Edge"),d="edge",h=p.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),n=10547,window.RTCIceGatherer){var z=Math.random().toString(36).substr(2,
10),I={splitLines:function(a){return a.trim().split("\n").map(function(a){return a.trim()})},splitSections:function(a){return a.split("\r\nm=").map(function(a,c){return(0<c?"m="+a:a).trim()+"\r\n"})},matchPrefix:function(a,c){return I.splitLines(a).filter(function(a){return 0===a.indexOf(c)})},parseCandidate:function(a){a=0===a.indexOf("a=candidate:")?a.substring(12).split(" "):a.substring(10).split(" ");for(var c={foundation:a[0],component:a[1],protocol:a[2].toLowerCase(),priority:parseInt(a[3],
10),ip:a[4],port:parseInt(a[5],10),type:a[7]},d=8;d<a.length;d+=2)switch(a[d]){case "raddr":c.relatedAddress=a[d+1];break;case "rport":c.relatedPort=parseInt(a[d+1],10);break;case "tcptype":c.tcpType=a[d+1]}return c},writeCandidate:function(a){var c=[];c.push(a.foundation);c.push(a.component);c.push(a.protocol.toUpperCase());c.push(a.priority);c.push(a.ip);c.push(a.port);var d=a.type;c.push("typ");c.push(d);"host"!==d&&a.relatedAddress&&a.relatedPort&&(c.push("raddr"),c.push(a.relatedAddress),c.push("rport"),
c.push(a.relatedPort));a.tcpType&&"tcp"===a.protocol.toLowerCase()&&(c.push("tcptype"),c.push(a.tcpType));return"candidate:"+c.join(" ")},parseRtpMap:function(a){a=a.substr(9).split(" ");var c={payloadType:parseInt(a.shift(),10)};a=a[0].split("/");c.name=a[0];c.clockRate=parseInt(a[1],10);c.numChannels=3===a.length?parseInt(a[2],10):1;return c},writeRtpMap:function(a){var c=a.payloadType;void 0!==a.preferredPayloadType&&(c=a.preferredPayloadType);return"a=rtpmap:"+c+" "+a.name+"/"+a.clockRate+(1!==
a.numChannels?"/"+a.numChannels:"")+"\r\n"},parseFmtp:function(a){for(var c={},d=a.substr(a.indexOf(" ")+1).split(";"),f=0;f<d.length;f++)a=d[f].trim().split("="),c[a[0].trim()]=a[1];return c},writeFtmp:function(a){var c="",d=a.payloadType;void 0!==a.preferredPayloadType&&(d=a.preferredPayloadType);if(a.parameters&&a.parameters.length){var f=[];Object.keys(a.parameters).forEach(function(c){f.push(c+"="+a.parameters[c])});c+="a=fmtp:"+d+" "+f.join(";")+"\r\n"}return c},parseRtcpFb:function(a){a=a.substr(a.indexOf(" ")+
1).split(" ");return{type:a.shift(),parameter:a.join(" ")}},writeRtcpFb:function(a){var c="",d=a.payloadType;void 0!==a.preferredPayloadType&&(d=a.preferredPayloadType);a.rtcpFeedback&&a.rtcpFeedback.length&&a.rtcpFeedback.forEach(function(a){c+="a=rtcp-fb:"+d+" "+a.type+" "+a.parameter+"\r\n"});return c},parseSsrcMedia:function(a){var c=a.indexOf(" "),d={ssrc:a.substr(7,c-7)},f=a.indexOf(":",c);-1<f?(d.attribute=a.substr(c+1,f-c-1),d.value=a.substr(f+1)):d.attribute=a.substr(c+1);return d},getDtlsParameters:function(a,
c){var d=I.splitLines(a),d=d.concat(I.splitLines(c)),d=d.filter(function(a){return 0===a.indexOf("a=fingerprint:")})[0].substr(14);return{role:"auto",fingerprints:[{algorithm:d.split(" ")[0],value:d.split(" ")[1]}]}},writeDtlsParameters:function(a,c){var d="a=setup:"+c+"\r\n";a.fingerprints.forEach(function(a){d+="a=fingerprint:"+a.algorithm+" "+a.value+"\r\n"});return d},getIceParameters:function(a,c){var d=I.splitLines(a),d=d.concat(I.splitLines(c));return{usernameFragment:d.filter(function(a){return 0===
a.indexOf("a=ice-ufrag:")})[0].substr(12),password:d.filter(function(a){return 0===a.indexOf("a=ice-pwd:")})[0].substr(10)}},writeIceParameters:function(a){return"a=ice-ufrag:"+a.usernameFragment+"\r\na=ice-pwd:"+a.password+"\r\n"},parseRtpParameters:function(a){for(var c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},d=I.splitLines(a)[0].split(" "),f=3;f<d.length;f++){var h=d[f],k=I.matchPrefix(a,"a=rtpmap:"+h+" ")[0];if(k){var k=I.parseRtpMap(k),l=I.matchPrefix(a,"a=fmtp:"+h+" ");k.parameters=
l.length?I.parseFmtp(l[0]):{};k.rtcpFeedback=I.matchPrefix(a,"a=rtcp-fb:"+h+" ").map(I.parseRtcpFb);c.codecs.push(k)}}return c},writeRtpDescription:function(a,c){var d="",d=d+("m="+a+" "),d=d+(0<c.codecs.length?"9":"0"),d=d+" UDP/TLS/RTP/SAVPF ",d=d+(c.codecs.map(function(a){return void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType}).join(" ")+"\r\n"),d=d+"c=IN IP4 0.0.0.0\r\n",d=d+"a=rtcp:9 IN IP4 0.0.0.0\r\n";c.codecs.forEach(function(a){d+=I.writeRtpMap(a);d+=I.writeFtmp(a);d+=
I.writeRtcpFb(a)});return d+="a=rtcp-mux\r\n"},writeSessionBoilerplate:function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},writeMediaSection:function(a,c,d,f){c=I.writeRtpDescription(a.kind,c);c+=I.writeIceParameters(a.iceGatherer.getLocalParameters());c+=I.writeDtlsParameters(a.dtlsTransport.getLocalParameters(),"offer"===d?"actpass":"active");c+="a=mid:"+a.mid+"\r\n";c=a.rtpSender&&a.rtpReceiver?c+"a=sendrecv\r\n":a.rtpSender?c+"a=sendonly\r\n":
a.rtpReceiver?c+"a=recvonly\r\n":c+"a=inactive\r\n";a.rtpSender&&(d="msid:"+f.id+" "+a.rtpSender.track.id+"\r\n",c=c+("a="+d)+("a=ssrc:"+a.sendSsrc+" "+d));return c+="a=ssrc:"+a.sendSsrc+" cname:"+z+"\r\n"},getDirection:function(a,c){for(var d=I.splitLines(a),f=0;f<d.length;f++)switch(d[f]){case "a=sendrecv":case "a=sendonly":case "a=recvonly":case "a=inactive":return d[f].substr(2)}return c?I.getDirection(c):"sendrecv"}};window.RTCIceCandidate||(window.RTCIceCandidate=function(a){return a});window.RTCSessionDescription||
(window.RTCSessionDescription=function(a){return a});window.RTCPeerConnection=function(a){var c=this;this.ondatachannel=this.onnegotiationneeded=this.oniceconnectionstatechange=this.onsignalingstatechange=this.onremovestream=this.onaddstream=this.onicecandidate=null;this.localStreams=[];this.remoteStreams=[];this.getLocalStreams=function(){return c.localStreams};this.getRemoteStreams=function(){return c.remoteStreams};this.localDescription=new R({type:"",sdp:""});this.remoteDescription=new R({type:"",
sdp:""});this.signalingState="stable";this.iceConnectionState="new";this.iceOptions={gatherPolicy:"all",iceServers:[]};if(a&&a.iceTransportPolicy)switch(a.iceTransportPolicy){case "all":case "relay":this.iceOptions.gatherPolicy=a.iceTransportPolicy;break;case "none":throw new TypeError('iceTransportPolicy "none" not supported');}a&&a.iceServers&&a.iceServers.forEach(function(a){if(a.urls){var d;d="string"===typeof a.urls?a.urls:a.urls[0];-1!==d.indexOf("transport=udp")&&c.iceServers.push({username:a.username,
credential:a.credential,urls:d})}});this.transceivers=[];this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var a=this;this._localIceCandidatesBuffer.forEach(function(c){if(null!==a.onicecandidate)a.onicecandidate(c)});this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype.addStream=function(a){this.localStreams.push(a.clone());this._maybeFireNegotiationNeeded()};window.RTCPeerConnection.prototype.removeStream=function(a){a=this.localStreams.indexOf(a);
-1<a&&(this.localStreams.splice(a,1),this._maybeFireNegotiationNeeded())};window.RTCPeerConnection.prototype._getCommonCapabilities=function(a,c){var d={codecs:[],headerExtensions:[],fecMechanisms:[]};a.codecs.forEach(function(a){for(var f=0;f<c.codecs.length;f++){var h=c.codecs[f];if(a.name.toLowerCase()===h.name.toLowerCase()&&a.clockRate===h.clockRate&&a.numChannels===h.numChannels){d.codecs.push(h);break}}});a.headerExtensions.forEach(function(a){for(var f=0;f<c.headerExtensions.length;f++){var h=
c.headerExtensions[f];if(a.uri===h.uri){d.headerExtensions.push(h);break}}});return d};window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(a,c){var d=this,f=new RTCIceGatherer(d.iceOptions),h=new RTCIceTransport(f);f.onlocalcandidate=function(k){var l={};l.candidate={sdpMid:a,sdpMLineIndex:c};(k=k.candidate)&&0!==Object.keys(k).length?(k.component="RTCP"===h.component?2:1,l.candidate.candidate=I.writeCandidate(k)):(void 0===f.state&&(f.state="completed"),l.candidate.candidate=
"candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates");k=d.transceivers.every(function(a){return a.iceGatherer&&"completed"===a.iceGatherer.state});if(null!==d.onicecandidate)if(d.localDescription&&""===d.localDescription.type)d._localIceCandidatesBuffer.push(l),k&&d._localIceCandidatesBuffer.push({});else if(d.onicecandidate(l),k)d.onicecandidate({})};h.onicestatechange=function(){d._updateConnectionState()};var k=new RTCDtlsTransport(h);k.ondtlsstatechange=function(){d._updateConnectionState()};k.onerror=
function(){k.state="failed";d._updateConnectionState()};return{iceGatherer:f,iceTransport:h,dtlsTransport:k}};window.RTCPeerConnection.prototype._transceive=function(a,c,d){var f=this._getCommonCapabilities(a.localCapabilities,a.remoteCapabilities);c&&a.rtpSender&&(f.encodings=[{ssrc:a.sendSsrc}],f.rtcp={cname:z,ssrc:a.recvSsrc},a.rtpSender.send(f));d&&a.rtpReceiver&&(f.encodings=[{ssrc:a.recvSsrc}],f.rtcp={cname:a.cname,ssrc:a.sendSsrc},a.rtpReceiver.receive(f))};window.RTCPeerConnection.prototype.setLocalDescription=
function(a){var c=this;if("offer"===a.type)this._pendingOffer&&(this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===a.type){var d=I.splitSections(c.remoteDescription.sdp),f=d.shift();d.forEach(function(a,d){var h=c.transceivers[d],k=h.iceGatherer,l=h.iceTransport,n=h.dtlsTransport,p=h.localCapabilities,t=h.remoteCapabilities;if("0"!==a.split("\n",1)[0].split(" ",2)[1]){var r=I.getIceParameters(a,f);l.start(k,r,"controlled");k=I.getDtlsParameters(a,f);n.start(k);n=c._getCommonCapabilities(p,
t);c._transceive(h,0<n.codecs.length,!1)}})}this.localDescription=a;switch(a.type){case "offer":this._updateSignalingState("have-local-offer");break;case "answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+a.type+'"');}var h=1<arguments.length&&"function"===typeof arguments[1];if(h){var k=arguments[1];window.setTimeout(function(){k();c._emitBufferedCandidates()},0)}d=Promise.resolve();d.then(function(){h||window.setTimeout(c._emitBufferedCandidates.bind(c),
0)});return d};window.RTCPeerConnection.prototype.setRemoteDescription=function(a){var c=this,d=new MediaStream,f=I.splitSections(a.sdp),h=f.shift();f.forEach(function(f,k){var l=I.splitLines(f)[0].substr(2).split(" "),n=l[0],p="0"===l[1],l=I.getDirection(f,h),r,z,C,x,A,D,Q,X=I.parseRtpParameters(f),R,ga;p||(R=I.getIceParameters(f,h),ga=I.getDtlsParameters(f,h));r=I.matchPrefix(f,"a=mid:")[0].substr(6);var M;if(A=I.matchPrefix(f,"a=ssrc:").map(function(a){return I.parseSsrcMedia(a)}).filter(function(a){return"cname"===
a.attribute})[0])D=parseInt(A.ssrc,10),M=A.value;"offer"===a.type?(R=c._createIceAndDtlsTransports(r,k),Q=RTCRtpReceiver.getCapabilities(n),A=1001*(2*k+2),p=new RTCRtpReceiver(R.dtlsTransport,n),d.addTrack(p.track),0<c.localStreams.length&&c.localStreams[0].getTracks().length>=k&&(x=c.localStreams[0].getTracks()[k],x=new RTCRtpSender(x,R.dtlsTransport)),c.transceivers[k]={iceGatherer:R.iceGatherer,iceTransport:R.iceTransport,dtlsTransport:R.dtlsTransport,localCapabilities:Q,remoteCapabilities:X,rtpSender:x,
rtpReceiver:p,kind:n,mid:r,cname:M,sendSsrc:A,recvSsrc:D},c._transceive(c.transceivers[k],!1,"sendrecv"===l||"sendonly"===l)):"answer"!==a.type||p||(n=c.transceivers[k],r=n.iceGatherer,z=n.iceTransport,C=n.dtlsTransport,x=n.rtpSender,p=n.rtpReceiver,A=n.sendSsrc,Q=n.localCapabilities,c.transceivers[k].recvSsrc=D,c.transceivers[k].remoteCapabilities=X,c.transceivers[k].cname=M,z.start(r,R,"controlling"),C.start(ga),c._transceive(n,"sendrecv"===l||"recvonly"===l,"sendrecv"===l||"sendonly"===l),!p||
"sendrecv"!==l&&"sendonly"!==l?delete n.rtpReceiver:d.addTrack(p.track))});this.remoteDescription=a;switch(a.type){case "offer":this._updateSignalingState("have-remote-offer");break;case "answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+a.type+'"');}window.setTimeout(function(){null!==c.onaddstream&&d.getTracks().length&&(c.remoteStreams.push(d),window.setTimeout(function(){c.onaddstream({stream:d})},0))},0);1<arguments.length&&"function"===typeof arguments[1]&&
window.setTimeout(arguments[1],0);return Promise.resolve()};window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(a){a.iceTransport&&a.iceTransport.stop();a.dtlsTransport&&a.dtlsTransport.stop();a.rtpSender&&a.rtpSender.stop();a.rtpReceiver&&a.rtpReceiver.stop()});this._updateSignalingState("closed")};window.RTCPeerConnection.prototype._updateSignalingState=function(a){this.signalingState=a;if(null!==this.onsignalingstatechange)this.onsignalingstatechange()};window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=
function(){if(null!==this.onnegotiationneeded)this.onnegotiationneeded()};window.RTCPeerConnection.prototype._updateConnectionState=function(){var a,c={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(a){c[a.iceTransport.state]++;c[a.dtlsTransport.state]++});c.connected+=c.completed;a="new";if(0<c.failed)a="failed";else if(0<c.connecting||0<c.checking)a="connecting";else if(0<c.disconnected)a="disconnected";else if(0<c.new)a="new";else if(0<
c.connecting||0<c.completed)a="connected";if(a!==this.iceConnectionState&&(this.iceConnectionState=a,null!==this.oniceconnectionstatechange))this.oniceconnectionstatechange()};window.RTCPeerConnection.prototype.createOffer=function(){var a=this;if(this._pendingOffer)throw Error("createOffer called while there is a pending offer.");var c;1===arguments.length&&"function"!==typeof arguments[0]?c=arguments[0]:3===arguments.length&&(c=arguments[2]);var d=[],f=0,h=0;this.localStreams.length&&(f=this.localStreams[0].getAudioTracks().length,
h=this.localStreams[0].getVideoTracks().length);if(c){if(c.mandatory||c.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==c.offerToReceiveAudio&&(f=c.offerToReceiveAudio);void 0!==c.offerToReceiveVideo&&(h=c.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(a){d.push({kind:a.kind,track:a,wantReceive:"audio"===a.kind?0<f:0<h});"audio"===a.kind?f--:"video"===a.kind&&h--});0<f||0<h;)0<f&&(d.push({kind:"audio",
wantReceive:!0}),f--),0<h&&(d.push({kind:"video",wantReceive:!0}),h--);var k=I.writeSessionBoilerplate(),l=[];d.forEach(function(c,d){var f=c.track,h=c.kind,n=Math.random().toString(36).substr(2,10),p=a._createIceAndDtlsTransports(n,d),r=RTCRtpSender.getCapabilities(h),z,C,x=1001*(2*d+1);f&&(z=new RTCRtpSender(f,p.dtlsTransport));c.wantReceive&&(C=new RTCRtpReceiver(p.dtlsTransport,h));l[d]={iceGatherer:p.iceGatherer,iceTransport:p.iceTransport,dtlsTransport:p.dtlsTransport,localCapabilities:r,remoteCapabilities:null,
rtpSender:z,rtpReceiver:C,kind:h,mid:n,sendSsrc:x,recvSsrc:null};f=l[d];k+=I.writeMediaSection(f,f.localCapabilities,"offer",a.localStreams[0])});this._pendingOffer=l;c=new R({type:"offer",sdp:k});arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,c);return Promise.resolve(c)};window.RTCPeerConnection.prototype.createAnswer=function(){var a=this,c=I.writeSessionBoilerplate();this.transceivers.forEach(function(d){var f=a._getCommonCapabilities(d.localCapabilities,
d.remoteCapabilities);c+=I.writeMediaSection(d,f,"answer",a.localStreams[0])});var d=new R({type:"answer",sdp:c});arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,d);return Promise.resolve(d)};window.RTCPeerConnection.prototype.addIceCandidate=function(a){var c=a.sdpMLineIndex;if(a.sdpMid)for(var d=0;d<this.transceivers.length;d++)if(this.transceivers[d].mid===a.sdpMid){c=d;break}if(c=this.transceivers[c]){d=0<Object.keys(a.candidate).length?I.parseCandidate(a.candidate):
{};if("tcp"===d.protocol&&0===d.port||"1"!==d.component)return;"endOfCandidates"===d.type&&(d={});c.iceTransport.addRemoteCandidate(d)}1<arguments.length&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0);return Promise.resolve()};window.RTCPeerConnection.prototype.getStats=function(){var a=[];this.transceivers.forEach(function(c){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(d){c[d]&&a.push(c[d].getStats())})});var c=1<arguments.length&&
"function"===typeof arguments[1]&&arguments[1];return new Promise(function(d){var f={};Promise.all(a).then(function(a){a.forEach(function(a){Object.keys(a).forEach(function(c){f[c]=a[c]})});c&&window.setTimeout(c,0,f);d(f)})})}}}else p.log("Browser does not appear to be WebRTC-capable");else p.log("This does not appear to be a browser"),d="not a browser";"object"!==typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,
"ontrack",{get:function(){return this._ontrack},set:function(a){var c=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly));this.addEventListener("track",this._ontrack=a);this.addEventListener("addstream",this._ontrackpoly=function(a){"chrome"===d&&a.stream.addEventListener("addtrack",function(d){var f=new Event("track");f.track=d.track;f.receiver={track:d.track};f.streams=[a.stream];c.dispatchEvent(f)});a.stream.getTracks().forEach(function(c){var d=
new Event("track");d.track=c;d.receiver={track:c};d.streams=[a.stream];this.dispatchEvent(d)}.bind(this))}.bind(this))}});var Aa={};try{Object.defineProperty(Aa,"version",{set:function(a){h=a}})}catch(t){}if("undefined"!==typeof D){var X,ga,R;"undefined"!==typeof window&&(X=window.RTCPeerConnection,ga=window.RTCIceCandidate,R=window.RTCSessionDescription);D.exports={RTCPeerConnection:X,RTCIceCandidate:ga,RTCSessionDescription:R,getUserMedia:f,attachMediaStream:c,reattachMediaStream:a,webrtcDetectedBrowser:d,
webrtcDetectedVersion:h,webrtcMinimumVersion:n,webrtcTesting:Aa,webrtcUtils:p}}else"function"===typeof A&&"function"===typeof define&&define([],function(){return{RTCPeerConnection:window.RTCPeerConnection,RTCIceCandidate:window.RTCIceCandidate,RTCSessionDescription:window.RTCSessionDescription,getUserMedia:f,attachMediaStream:c,reattachMediaStream:a,webrtcDetectedBrowser:d,webrtcDetectedVersion:h,webrtcMinimumVersion:n,webrtcTesting:Aa,webrtcUtils:p}})},{}],58:[function(A,D,x){x=A("./utils").log;
var k=A("./utils").browserDetails;D.exports.browserDetails=k;D.exports.extractVersion=A("./utils").extractVersion;D.exports.disableLog=A("./utils").disableLog;k.version<k.minVersion&&x("Browser: "+k.browser+" Version: "+k.version+" < minimum supported version: "+k.minVersion+"\n some things might not work!");var f=A("./chrome/chrome_shim")||null,c=A("./edge/edge_shim")||null;A=A("./firefox/firefox_shim")||null;switch(k.browser){case "chrome":if(!f||!f.shimPeerConnection){x("Chrome shim is not included in this adapter release.");
break}x("adapter.js shimming chrome!");D.exports.browserShim=f;f.shimGetUserMedia();f.shimSourceObject();f.shimPeerConnection();f.shimOnTrack();break;case "edge":if(!c||!c.shimPeerConnection){x("MS edge shim is not included in this adapter release.");break}x("adapter.js shimming edge!");D.exports.browserShim=c;c.shimPeerConnection();break;case "firefox":if(!A||!A.shimPeerConnection){x("Firefox shim is not included in this adapter release.");break}x("adapter.js shimming firefox!");D.exports.browserShim=
A;A.shimGetUserMedia();A.shimSourceObject();A.shimPeerConnection();A.shimOnTrack();break;default:x("Unsupported browser!")}},{"./chrome/chrome_shim":59,"./edge/edge_shim":61,"./firefox/firefox_shim":62,"./utils":63}],59:[function(A,D,x){var k=A("../utils.js").log,f=A("../utils.js").browserDetails;D.exports={shimOnTrack:function(){"object"!==typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},
set:function(c){var a=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly));this.addEventListener("track",this._ontrack=c);this.addEventListener("addstream",this._ontrackpoly=function(c){c.stream.addEventListener("addtrack",function(f){var k=new Event("track");k.track=f.track;k.receiver={track:f.track};k.streams=[c.stream];a.dispatchEvent(k)});c.stream.getTracks().forEach(function(a){var f=new Event("track");f.track=a;f.receiver=
{track:a};f.streams=[c.stream];this.dispatchEvent(f)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(c){this._srcObject=c;this.src&&URL.revokeObjectURL(this.src);this.src=URL.createObjectURL(c);c.addEventListener("addtrack",function(){self.src&&URL.revokeObjectURL(self.src);
self.src=URL.createObjectURL(c)});c.addEventListener("removetrack",function(){self.src&&URL.revokeObjectURL(self.src);self.src=URL.createObjectURL(c)})}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(c,a){k("PeerConnection");c&&c.iceTransportPolicy&&(c.iceTransports=c.iceTransportPolicy);var d=new webkitRTCPeerConnection(c,a),f=d.getStats.bind(d);d.getStats=function(a,c,d){var k=this,l=arguments;if(0<arguments.length&&"function"===typeof a)return f(a,c);var z=function(a){var c=
{};a.result().forEach(function(a){var d={id:a.id,timestamp:a.timestamp,type:a.type};a.names().forEach(function(c){d[c]=a.stat(c)});c[d.id]=d});return c};return 2<=arguments.length?f.apply(this,[function(a){l[1](z(a))},arguments[0]]):new Promise(function(c,d){1===l.length&&null===a?f.apply(k,[function(a){c.apply(null,[z(a)])},d]):f.apply(k,[c,d])})};return d};window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype;webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,
"generateCertificate",{get:function(){return arguments.length?webkitRTCPeerConnection.generateCertificate.apply(null,arguments):webkitRTCPeerConnection.generateCertificate}});["createOffer","createAnswer"].forEach(function(c){var a=webkitRTCPeerConnection.prototype[c];webkitRTCPeerConnection.prototype[c]=function(){var c=this;if(1>arguments.length||1===arguments.length&&"object"===typeof arguments[0]){var f=1===arguments.length?arguments[0]:void 0;return new Promise(function(k,p){a.apply(c,[k,p,f])})}return a.apply(this,
arguments)}});["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(c){var a=webkitRTCPeerConnection.prototype[c];webkitRTCPeerConnection.prototype[c]=function(){var c=arguments,f=this;return new Promise(function(k,p){a.apply(f,[c[0],function(){k();2<=c.length&&c[1].apply(null,[])},function(a){p(a);3<=c.length&&c[2].apply(null,[a])}])})}})},shimGetUserMedia:function(){var c=function(a){if("object"!==typeof a||a.mandatory||a.optional)return a;var c={};Object.keys(a).forEach(function(d){if("require"!==
d&&"advanced"!==d&&"mediaSource"!==d){var f="object"===typeof a[d]?a[d]:{ideal:a[d]};void 0!==f.exact&&"number"===typeof f.exact&&(f.min=f.max=f.exact);var k=function(a,c){return a?a+c.charAt(0).toUpperCase()+c.slice(1):"deviceId"===c?"sourceId":c};if(void 0!==f.ideal){c.optional=c.optional||[];var l={};"number"===typeof f.ideal?(l[k("min",d)]=f.ideal,c.optional.push(l),l={},l[k("max",d)]=f.ideal):l[k("",d)]=f.ideal;c.optional.push(l)}void 0!==f.exact&&"number"!==typeof f.exact?(c.mandatory=c.mandatory||
{},c.mandatory[k("",d)]=f.exact):["min","max"].forEach(function(a){void 0!==f[a]&&(c.mandatory=c.mandatory||{},c.mandatory[k(a,d)]=f[a])})}});a.advanced&&(c.optional=(c.optional||[]).concat(a.advanced));return c};navigator.getUserMedia=function(a,d,f){a.audio&&(a.audio=c(a.audio));a.video&&(a.video=c(a.video));k("chrome: "+JSON.stringify(a));return navigator.webkitGetUserMedia(a,d,f)};var a=function(a){return new Promise(function(c,d){navigator.getUserMedia(a,c,d)})};navigator.mediaDevices||(navigator.mediaDevices=
{getUserMedia:a,enumerateDevices:function(){return new Promise(function(a){var c={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(d){a(d.map(function(a){return{label:a.label,kind:c[a.kind],deviceId:a.id,groupId:""}}))})})}});if(navigator.mediaDevices.getUserMedia){var d=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(a){a&&(k("spec:   "+JSON.stringify(a)),a.audio=c(a.audio),a.video=c(a.video),k("chrome: "+
JSON.stringify(a)));return d(a)}.bind(this)}else navigator.mediaDevices.getUserMedia=function(c){return a(c)};"undefined"===typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){k("Dummy mediaDevices.addEventListener called.")});"undefined"===typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){k("Dummy mediaDevices.removeEventListener called.")})},attachMediaStream:function(c,a){k("DEPRECATED, attachMediaStream will soon be removed.");
43<=f.version?c.srcObject=a:"undefined"!==typeof c.src?c.src=URL.createObjectURL(a):k("Error attaching stream to element.")},reattachMediaStream:function(c,a){k("DEPRECATED, reattachMediaStream will soon be removed.");43<=f.version?c.srcObject=a.srcObject:c.src=a.src}}},{"../utils.js":63}],60:[function(A,D,x){var k={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};k.localCName=k.generateIdentifier();k.splitLines=function(f){return f.trim().split("\n").map(function(c){return c.trim()})};
k.splitSections=function(f){return f.split("\r\nm=").map(function(c,a){return(0<a?"m="+c:c).trim()+"\r\n"})};k.matchPrefix=function(f,c){return k.splitLines(f).filter(function(a){return 0===a.indexOf(c)})};k.parseCandidate=function(f){f=0===f.indexOf("a=candidate:")?f.substring(12).split(" "):f.substring(10).split(" ");for(var c={foundation:f[0],component:f[1],protocol:f[2].toLowerCase(),priority:parseInt(f[3],10),ip:f[4],port:parseInt(f[5],10),type:f[7]},a=8;a<f.length;a+=2)switch(f[a]){case "raddr":c.relatedAddress=
f[a+1];break;case "rport":c.relatedPort=parseInt(f[a+1],10);break;case "tcptype":c.tcpType=f[a+1]}return c};k.writeCandidate=function(f){var c=[];c.push(f.foundation);c.push(f.component);c.push(f.protocol.toUpperCase());c.push(f.priority);c.push(f.ip);c.push(f.port);var a=f.type;c.push("typ");c.push(a);"host"!==a&&f.relatedAddress&&f.relatedPort&&(c.push("raddr"),c.push(f.relatedAddress),c.push("rport"),c.push(f.relatedPort));f.tcpType&&"tcp"===f.protocol.toLowerCase()&&(c.push("tcptype"),c.push(f.tcpType));
return"candidate:"+c.join(" ")};k.parseRtpMap=function(f){f=f.substr(9).split(" ");var c={payloadType:parseInt(f.shift(),10)};f=f[0].split("/");c.name=f[0];c.clockRate=parseInt(f[1],10);c.numChannels=3===f.length?parseInt(f[2],10):1;return c};k.writeRtpMap=function(f){var c=f.payloadType;void 0!==f.preferredPayloadType&&(c=f.preferredPayloadType);return"a=rtpmap:"+c+" "+f.name+"/"+f.clockRate+(1!==f.numChannels?"/"+f.numChannels:"")+"\r\n"};k.parseFmtp=function(f){for(var c={},a=f.substr(f.indexOf(" ")+
1).split(";"),d=0;d<a.length;d++)f=a[d].trim().split("="),c[f[0].trim()]=f[1];return c};k.writeFtmp=function(f){var c="",a=f.payloadType;void 0!==f.preferredPayloadType&&(a=f.preferredPayloadType);if(f.parameters&&f.parameters.length){var d=[];Object.keys(f.parameters).forEach(function(a){d.push(a+"="+f.parameters[a])});c+="a=fmtp:"+a+" "+d.join(";")+"\r\n"}return c};k.parseRtcpFb=function(f){f=f.substr(f.indexOf(" ")+1).split(" ");return{type:f.shift(),parameter:f.join(" ")}};k.writeRtcpFb=function(f){var c=
"",a=f.payloadType;void 0!==f.preferredPayloadType&&(a=f.preferredPayloadType);f.rtcpFeedback&&f.rtcpFeedback.length&&f.rtcpFeedback.forEach(function(d){c+="a=rtcp-fb:"+a+" "+d.type+" "+d.parameter+"\r\n"});return c};k.parseSsrcMedia=function(f){var c=f.indexOf(" "),a={ssrc:f.substr(7,c-7)},d=f.indexOf(":",c);-1<d?(a.attribute=f.substr(c+1,d-c-1),a.value=f.substr(d+1)):a.attribute=f.substr(c+1);return a};k.getDtlsParameters=function(f,c){var a=k.splitLines(f),a=a.concat(k.splitLines(c)),a=a.filter(function(a){return 0===
a.indexOf("a=fingerprint:")})[0].substr(14);return{role:"auto",fingerprints:[{algorithm:a.split(" ")[0],value:a.split(" ")[1]}]}};k.writeDtlsParameters=function(f,c){var a="a=setup:"+c+"\r\n";f.fingerprints.forEach(function(c){a+="a=fingerprint:"+c.algorithm+" "+c.value+"\r\n"});return a};k.getIceParameters=function(f,c){var a=k.splitLines(f),a=a.concat(k.splitLines(c));return{usernameFragment:a.filter(function(a){return 0===a.indexOf("a=ice-ufrag:")})[0].substr(12),password:a.filter(function(a){return 0===
a.indexOf("a=ice-pwd:")})[0].substr(10)}};k.writeIceParameters=function(f){return"a=ice-ufrag:"+f.usernameFragment+"\r\na=ice-pwd:"+f.password+"\r\n"};k.parseRtpParameters=function(f){for(var c={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},a=k.splitLines(f)[0].split(" "),d=3;d<a.length;d++){var h=a[d],n=k.matchPrefix(f,"a=rtpmap:"+h+" ")[0];if(n){var n=k.parseRtpMap(n),p=k.matchPrefix(f,"a=fmtp:"+h+" ");n.parameters=p.length?k.parseFmtp(p[0]):{};n.rtcpFeedback=k.matchPrefix(f,"a=rtcp-fb:"+
h+" ").map(k.parseRtcpFb);c.codecs.push(n)}}return c};k.writeRtpDescription=function(f,c){var a="",a=a+("m="+f+" "),a=a+(0<c.codecs.length?"9":"0"),a=a+" UDP/TLS/RTP/SAVPF ",a=a+(c.codecs.map(function(a){return void 0!==a.preferredPayloadType?a.preferredPayloadType:a.payloadType}).join(" ")+"\r\n"),a=a+"c=IN IP4 0.0.0.0\r\n",a=a+"a=rtcp:9 IN IP4 0.0.0.0\r\n";c.codecs.forEach(function(c){a+=k.writeRtpMap(c);a+=k.writeFtmp(c);a+=k.writeRtcpFb(c)});return a+="a=rtcp-mux\r\n"};k.writeSessionBoilerplate=
function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"};k.writeMediaSection=function(f,c,a,d){c=k.writeRtpDescription(f.kind,c);c+=k.writeIceParameters(f.iceGatherer.getLocalParameters());c+=k.writeDtlsParameters(f.dtlsTransport.getLocalParameters(),"offer"===a?"actpass":"active");c+="a=mid:"+f.mid+"\r\n";c=f.rtpSender&&f.rtpReceiver?c+"a=sendrecv\r\n":f.rtpSender?c+"a=sendonly\r\n":f.rtpReceiver?c+"a=recvonly\r\n":c+"a=inactive\r\n";f.rtpSender&&
(a="msid:"+d.id+" "+f.rtpSender.track.id+"\r\n",c=c+("a="+a)+("a=ssrc:"+f.sendSsrc+" "+a));return c+="a=ssrc:"+f.sendSsrc+" cname:"+k.localCName+"\r\n"};k.getDirection=function(f,c){for(var a=k.splitLines(f),d=0;d<a.length;d++)switch(a[d]){case "a=sendrecv":case "a=sendonly":case "a=recvonly":case "a=inactive":return a[d].substr(2)}return c?k.getDirection(c):"sendrecv"};D.exports=k},{}],61:[function(A,D,x){var k=A("./edge_sdp"),f=A("../utils").log;A("../utils");D.exports={shimPeerConnection:function(){window.RTCIceGatherer&&
(window.RTCIceCandidate||(window.RTCIceCandidate=function(c){return c}),window.RTCSessionDescription||(window.RTCSessionDescription=function(c){return c}));window.RTCPeerConnection=function(c){var a=this;this.ondatachannel=this.onnegotiationneeded=this.oniceconnectionstatechange=this.onsignalingstatechange=this.onremovestream=this.onaddstream=this.onicecandidate=null;this.localStreams=[];this.remoteStreams=[];this.getLocalStreams=function(){return a.localStreams};this.getRemoteStreams=function(){return a.remoteStreams};
this.localDescription=new RTCSessionDescription({type:"",sdp:""});this.remoteDescription=new RTCSessionDescription({type:"",sdp:""});this.signalingState="stable";this.iceConnectionState="new";this.iceOptions={gatherPolicy:"all",iceServers:[]};if(c&&c.iceTransportPolicy)switch(c.iceTransportPolicy){case "all":case "relay":this.iceOptions.gatherPolicy=c.iceTransportPolicy;break;case "none":throw new TypeError('iceTransportPolicy "none" not supported');}c&&c.iceServers&&(this.iceOptions.iceServers=c.iceServers.filter(function(a){return a&&
a.urls?(a.urls=a.urls.filter(function(a){return-1!==a.indexOf("transport=udp")})[0],!0):!1}));this.transceivers=[];this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var c=this;this._localIceCandidatesBuffer.forEach(function(a){if(null!==c.onicecandidate)c.onicecandidate(a)});this._localIceCandidatesBuffer=[]};window.RTCPeerConnection.prototype.addStream=function(c){this.localStreams.push(c.clone());this._maybeFireNegotiationNeeded()};window.RTCPeerConnection.prototype.removeStream=
function(c){c=this.localStreams.indexOf(c);-1<c&&(this.localStreams.splice(c,1),this._maybeFireNegotiationNeeded())};window.RTCPeerConnection.prototype._getCommonCapabilities=function(c,a){var d={codecs:[],headerExtensions:[],fecMechanisms:[]};c.codecs.forEach(function(c){for(var f=0;f<a.codecs.length;f++){var k=a.codecs[f];if(c.name.toLowerCase()===k.name.toLowerCase()&&c.clockRate===k.clockRate&&c.numChannels===k.numChannels){d.codecs.push(k);break}}});c.headerExtensions.forEach(function(c){for(var f=
0;f<a.headerExtensions.length;f++){var k=a.headerExtensions[f];if(c.uri===k.uri){d.headerExtensions.push(k);break}}});return d};window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(c,a){var d=this,f=new RTCIceGatherer(d.iceOptions),n=new RTCIceTransport(f);f.onlocalcandidate=function(p){var r={};r.candidate={sdpMid:c,sdpMLineIndex:a};(p=p.candidate)&&0!==Object.keys(p).length?(p.component="RTCP"===n.component?2:1,r.candidate.candidate=k.writeCandidate(p)):(void 0===f.state&&(f.state=
"completed"),r.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates");p=d.transceivers.every(function(a){return a.iceGatherer&&"completed"===a.iceGatherer.state});if(null!==d.onicecandidate)if(d.localDescription&&""===d.localDescription.type)d._localIceCandidatesBuffer.push(r),p&&d._localIceCandidatesBuffer.push({});else if(d.onicecandidate(r),p)d.onicecandidate({})};n.onicestatechange=function(){d._updateConnectionState()};var p=new RTCDtlsTransport(n);p.ondtlsstatechange=function(){d._updateConnectionState()};
p.onerror=function(){p.state="failed";d._updateConnectionState()};return{iceGatherer:f,iceTransport:n,dtlsTransport:p}};window.RTCPeerConnection.prototype._transceive=function(c,a,d){var f=this._getCommonCapabilities(c.localCapabilities,c.remoteCapabilities);a&&c.rtpSender&&(f.encodings=[{ssrc:c.sendSsrc}],f.rtcp={cname:k.localCName,ssrc:c.recvSsrc},c.rtpSender.send(f));d&&c.rtpReceiver&&(f.encodings=[{ssrc:c.recvSsrc}],f.rtcp={cname:c.cname,ssrc:c.sendSsrc},c.rtpReceiver.receive(f))};window.RTCPeerConnection.prototype.setLocalDescription=
function(c){var a=this;if("offer"===c.type)this._pendingOffer&&(this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===c.type){var d=k.splitSections(a.remoteDescription.sdp),f=d.shift();d.forEach(function(c,d){var l=a.transceivers[d],n=l.iceGatherer,p=l.iceTransport,x=l.dtlsTransport,A=l.localCapabilities,D=l.remoteCapabilities;if("0"!==c.split("\n",1)[0].split(" ",2)[1]){var R=k.getIceParameters(c,f);p.start(n,R,"controlled");n=k.getDtlsParameters(c,f);x.start(n);x=a._getCommonCapabilities(A,
D);a._transceive(l,0<x.codecs.length,!1)}})}this.localDescription=c;switch(c.type){case "offer":this._updateSignalingState("have-local-offer");break;case "answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+c.type+'"');}var n=1<arguments.length&&"function"===typeof arguments[1];if(n){var p=arguments[1];window.setTimeout(function(){p();a._emitBufferedCandidates()},0)}d=Promise.resolve();d.then(function(){n||window.setTimeout(a._emitBufferedCandidates.bind(a),
0)});return d};window.RTCPeerConnection.prototype.setRemoteDescription=function(c){var a=this,d=new MediaStream,f=k.splitSections(c.sdp),n=f.shift();f.forEach(function(f,h){var r=k.splitLines(f)[0].substr(2).split(" "),l=r[0],z="0"===r[1],r=k.getDirection(f,n),x,A,D,ga,R,t,E,J=k.parseRtpParameters(f),Q,qa;z||(Q=k.getIceParameters(f,n),qa=k.getDtlsParameters(f,n));x=k.matchPrefix(f,"a=mid:")[0].substr(6);var U;if(R=k.matchPrefix(f,"a=ssrc:").map(function(a){return k.parseSsrcMedia(a)}).filter(function(a){return"cname"===
a.attribute})[0])t=parseInt(R.ssrc,10),U=R.value;"offer"===c.type?(Q=a._createIceAndDtlsTransports(x,h),E=RTCRtpReceiver.getCapabilities(l),R=1001*(2*h+2),z=new RTCRtpReceiver(Q.dtlsTransport,l),d.addTrack(z.track),0<a.localStreams.length&&a.localStreams[0].getTracks().length>=h&&(ga=a.localStreams[0].getTracks()[h],ga=new RTCRtpSender(ga,Q.dtlsTransport)),a.transceivers[h]={iceGatherer:Q.iceGatherer,iceTransport:Q.iceTransport,dtlsTransport:Q.dtlsTransport,localCapabilities:E,remoteCapabilities:J,
rtpSender:ga,rtpReceiver:z,kind:l,mid:x,cname:U,sendSsrc:R,recvSsrc:t},a._transceive(a.transceivers[h],!1,"sendrecv"===r||"sendonly"===r)):"answer"!==c.type||z||(l=a.transceivers[h],x=l.iceGatherer,A=l.iceTransport,D=l.dtlsTransport,ga=l.rtpSender,z=l.rtpReceiver,R=l.sendSsrc,E=l.localCapabilities,a.transceivers[h].recvSsrc=t,a.transceivers[h].remoteCapabilities=J,a.transceivers[h].cname=U,A.start(x,Q,"controlling"),D.start(qa),a._transceive(l,"sendrecv"===r||"recvonly"===r,"sendrecv"===r||"sendonly"===
r),!z||"sendrecv"!==r&&"sendonly"!==r?delete l.rtpReceiver:d.addTrack(z.track))});this.remoteDescription=c;switch(c.type){case "offer":this._updateSignalingState("have-remote-offer");break;case "answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+c.type+'"');}window.setTimeout(function(){null!==a.onaddstream&&d.getTracks().length&&(a.remoteStreams.push(d),window.setTimeout(function(){a.onaddstream({stream:d})},0))},0);1<arguments.length&&"function"===
typeof arguments[1]&&window.setTimeout(arguments[1],0);return Promise.resolve()};window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(c){c.iceTransport&&c.iceTransport.stop();c.dtlsTransport&&c.dtlsTransport.stop();c.rtpSender&&c.rtpSender.stop();c.rtpReceiver&&c.rtpReceiver.stop()});this._updateSignalingState("closed")};window.RTCPeerConnection.prototype._updateSignalingState=function(c){this.signalingState=c;if(null!==this.onsignalingstatechange)this.onsignalingstatechange()};
window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){if(null!==this.onnegotiationneeded)this.onnegotiationneeded()};window.RTCPeerConnection.prototype._updateConnectionState=function(){var c,a={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(c){a[c.iceTransport.state]++;a[c.dtlsTransport.state]++});a.connected+=a.completed;c="new";if(0<a.failed)c="failed";else if(0<a.connecting||0<a.checking)c="connecting";else if(0<
a.disconnected)c="disconnected";else if(0<a["new"])c="new";else if(0<a.connecting||0<a.completed)c="connected";if(c!==this.iceConnectionState&&(this.iceConnectionState=c,null!==this.oniceconnectionstatechange))this.oniceconnectionstatechange()};window.RTCPeerConnection.prototype.createOffer=function(){var c=this;if(this._pendingOffer)throw Error("createOffer called while there is a pending offer.");var a;1===arguments.length&&"function"!==typeof arguments[0]?a=arguments[0]:3===arguments.length&&(a=
arguments[2]);var d=[],f=0,n=0;this.localStreams.length&&(f=this.localStreams[0].getAudioTracks().length,n=this.localStreams[0].getVideoTracks().length);if(a){if(a.mandatory||a.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==a.offerToReceiveAudio&&(f=a.offerToReceiveAudio);void 0!==a.offerToReceiveVideo&&(n=a.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(a){d.push({kind:a.kind,track:a,wantReceive:"audio"===
a.kind?0<f:0<n});"audio"===a.kind?f--:"video"===a.kind&&n--});0<f||0<n;)0<f&&(d.push({kind:"audio",wantReceive:!0}),f--),0<n&&(d.push({kind:"video",wantReceive:!0}),n--);var p=k.writeSessionBoilerplate(),x=[];d.forEach(function(a,d){var f=a.track,h=a.kind,n=k.generateIdentifier(),A=c._createIceAndDtlsTransports(n,d),D=RTCRtpSender.getCapabilities(h),R,t,E=1001*(2*d+1);f&&(R=new RTCRtpSender(f,A.dtlsTransport));a.wantReceive&&(t=new RTCRtpReceiver(A.dtlsTransport,h));x[d]={iceGatherer:A.iceGatherer,
iceTransport:A.iceTransport,dtlsTransport:A.dtlsTransport,localCapabilities:D,remoteCapabilities:null,rtpSender:R,rtpReceiver:t,kind:h,mid:n,sendSsrc:E,recvSsrc:null};f=x[d];p+=k.writeMediaSection(f,f.localCapabilities,"offer",c.localStreams[0])});this._pendingOffer=x;a=new RTCSessionDescription({type:"offer",sdp:p});arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,a);return Promise.resolve(a)};window.RTCPeerConnection.prototype.createAnswer=function(){var c=this,
a=k.writeSessionBoilerplate();this.transceivers.forEach(function(d){var f=c._getCommonCapabilities(d.localCapabilities,d.remoteCapabilities);a+=k.writeMediaSection(d,f,"answer",c.localStreams[0])});var d=new RTCSessionDescription({type:"answer",sdp:a});arguments.length&&"function"===typeof arguments[0]&&window.setTimeout(arguments[0],0,d);return Promise.resolve(d)};window.RTCPeerConnection.prototype.addIceCandidate=function(c){var a=c.sdpMLineIndex;if(c.sdpMid)for(var d=0;d<this.transceivers.length;d++)if(this.transceivers[d].mid===
c.sdpMid){a=d;break}if(a=this.transceivers[a]){d=0<Object.keys(c.candidate).length?k.parseCandidate(c.candidate):{};if("tcp"===d.protocol&&0===d.port||"1"!==d.component)return;"endOfCandidates"===d.type&&(d={});a.iceTransport.addRemoteCandidate(d)}1<arguments.length&&"function"===typeof arguments[1]&&window.setTimeout(arguments[1],0);return Promise.resolve()};window.RTCPeerConnection.prototype.getStats=function(){var c=[];this.transceivers.forEach(function(a){["rtpSender","rtpReceiver","iceGatherer",
"iceTransport","dtlsTransport"].forEach(function(f){a[f]&&c.push(a[f].getStats())})});var a=1<arguments.length&&"function"===typeof arguments[1]&&arguments[1];return new Promise(function(d){var f={};Promise.all(c).then(function(c){c.forEach(function(a){Object.keys(a).forEach(function(c){f[c]=a[c]})});a&&window.setTimeout(a,0,f);d(f)})})}},attachMediaStream:function(c,a){f("DEPRECATED, attachMediaStream will soon be removed.");c.srcObject=a},reattachMediaStream:function(c,a){f("DEPRECATED, reattachMediaStream will soon be removed.");
c.srcObject=a.srcObject}}},{"../utils":63,"./edge_sdp":60}],62:[function(A,D,x){var k=A("../utils").log,f=A("../utils").browserDetails;D.exports={shimOnTrack:function(){"object"!==typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(c){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly));
this.addEventListener("track",this._ontrack=c);this.addEventListener("addstream",this._ontrackpoly=function(a){a.stream.getTracks().forEach(function(c){var f=new Event("track");f.track=c;f.receiver={track:c};f.streams=[a.stream];this.dispatchEvent(f)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"===typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},
set:function(c){this.mozSrcObject=c}}))},shimPeerConnection:function(){window.RTCPeerConnection||(window.RTCPeerConnection=function(c,a){if(38>f.version&&c&&c.iceServers){for(var d=[],h=0;h<c.iceServers.length;h++){var k=c.iceServers[h];if(k.hasOwnProperty("urls"))for(var p=0;p<k.urls.length;p++){var x={url:k.urls[p]};0===k.urls[p].indexOf("turn")&&(x.username=k.username,x.credential=k.credential);d.push(x)}else d.push(c.iceServers[h])}c.iceServers=d}return new mozRTCPeerConnection(c,a)},window.RTCPeerConnection.prototype=
mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?mozRTCPeerConnection.generateCertificate.apply(null,arguments):mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate)},shimGetUserMedia:function(){navigator.getUserMedia=function(a,c,n){var p=function(a){if("object"!==typeof a||a.require)return a;
var c=[];Object.keys(a).forEach(function(d){if("require"!==d&&"advanced"!==d&&"mediaSource"!==d){var f=a[d]="object"===typeof a[d]?a[d]:{ideal:a[d]};void 0===f.min&&void 0===f.max&&void 0===f.exact||c.push(d);void 0!==f.exact&&("number"===typeof f.exact?f.min=f.max=f.exact:a[d]=f.exact,delete f.exact);if(void 0!==f.ideal){a.advanced=a.advanced||[];var h={};h[d]="number"===typeof f.ideal?{min:f.ideal,max:f.ideal}:f.ideal;a.advanced.push(h);delete f.ideal;Object.keys(f).length||delete a[d]}}});c.length&&
(a.require=c);return a};38>f.version&&(k("spec: "+JSON.stringify(a)),a.audio&&(a.audio=p(a.audio)),a.video&&(a.video=p(a.video)),k("ff37: "+JSON.stringify(a)));return navigator.mozGetUserMedia(a,c,n)};var c=function(a){return new Promise(function(c,f){navigator.getUserMedia(a,c,f)})};navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:c,addEventListener:function(){},removeEventListener:function(){}});navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(a){a([{kind:"audioinput",
deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})};if(41>f.version){var a=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return a().then(void 0,function(a){if("NotFoundError"===a.name)return[];throw a;})}}},attachMediaStream:function(c,a){k("DEPRECATED, attachMediaStream will soon be removed.");c.srcObject=a},reattachMediaStream:function(c,a){k("DEPRECATED, reattachMediaStream will soon be removed.");
c.srcObject=a.srcObject}}},{"../utils":63}],63:[function(A,D,x){var k=!1;A={disableLog:function(f){return"boolean"!==typeof f?Error("Argument type: "+typeof f+". Please use a boolean."):(k=f)?"adapter.js logging disabled":"adapter.js logging enabled"},log:function(){"object"!==typeof window||k||console.log.apply(console,arguments)},extractVersion:function(f,c,a){return(f=f.match(c))&&f.length>=a&&parseInt(f[a],10)},detectBrowser:function(){var f={browser:null,version:null,minVersion:null};if("undefined"===
typeof window||!window.navigator)return f.browser="Not a supported browser.",f;if(navigator.mozGetUserMedia)return f.browser="firefox",f.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),f.minVersion=31,f;if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection)return f.browser="chrome",f.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),f.minVersion=38,f;if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return f.browser=
"edge",f.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),f.minVersion=10547,f;f.browser="Not a supported browser.";return f}};D.exports={log:A.log,disableLog:A.disableLog,browserDetails:A.detectBrowser(),extractVersion:A.extractVersion}},{}],64:[function(A,D,x){function k(a){var d="";do d=c[a%64]+d,a=Math.floor(a/64);while(0<a);return d}function f(){var a=k(+new Date);return a!==n?(d=0,n=a):a+"."+k(d++)}for(var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),
a={},d=0,h=0,n;64>h;h++)a[c[h]]=h;f.encode=k;f.decode=function(c){var d=0;for(h=0;h<c.length;h++)d=64*d+a[c.charAt(h)];return d};D.exports=f},{}]},{},[1]);
</script>
<style>
.graph-container {
  display: block;
}

.rickshaw_graph, rickshaw_legend {
  float: left;
}

#error {
  color: red;
  font-weight:bold;
  font-size:3em;
}

.rickshaw_legend {
  font-family: Arial;
  font-size: 12px;
  color: white;
  background: #404040;
  display: inline-block;
  padding: 12px 5px; 
  border-radius: 2px;
  position: relative;
}
.rickshaw_legend:hover {
  z-index: 10;
}
.rickshaw_legend .swatch {
  width: 10px;
  height: 10px;
  border: 1px solid rgba(0, 0, 0, 0.2);
}
.rickshaw_legend .line {
  clear: both;
  line-height: 140%;
  padding-right: 15px;
}
.rickshaw_legend .line .swatch {
  display: inline-block;
  margin-right: 3px;
  border-radius: 2px;
}
.rickshaw_legend .label {
  margin: 0;
  white-space: nowrap;
  display: inline;
  font-size: inherit;
  background-color: transparent;
  color: inherit;
  font-weight: normal;
  line-height: normal;
  padding: 0px;
  text-shadow: none;
}
.rickshaw_legend .action:hover {
  opacity: 0.6;
}
.rickshaw_legend .action {
  margin-right: 0.2em;
  font-size: 10px;
  opacity: 0.2;
  cursor: pointer;
  font-size: 14px;
}
.rickshaw_legend .line.disabled {
  opacity: 0.4;
}
.rickshaw_legend ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  margin: 2px;
  cursor: pointer;
}
.rickshaw_legend li {
  padding: 0 0 0 2px;
  min-width: 80px;
  white-space: nowrap;
}
.rickshaw_legend li:hover {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 3px;
}
.rickshaw_legend li:active {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}

.rickshaw_legend {
  font-family: Arial;
  font-size: 12px;
  color: white;
  background: #404040;
  display: inline-block;
  padding: 12px 5px; 
  border-radius: 2px;
  position: relative;
}
.rickshaw_legend:hover {
  z-index: 10;
}
.rickshaw_legend .swatch {
  width: 10px;
  height: 10px;
  border: 1px solid rgba(0, 0, 0, 0.2);
}
.rickshaw_legend .line {
  clear: both;
  line-height: 140%;
  padding-right: 15px;
}
.rickshaw_legend .line .swatch {
  display: inline-block;
  margin-right: 3px;
  border-radius: 2px;
}
.rickshaw_legend .label {
  margin: 0;
  white-space: nowrap;
  display: inline;
  font-size: inherit;
  background-color: transparent;
  color: inherit;
  font-weight: normal;
  line-height: normal;
  padding: 0px;
  text-shadow: none;
}
.rickshaw_legend .action:hover {
  opacity: 0.6;
}
.rickshaw_legend .action {
  margin-right: 0.2em;
  font-size: 10px;
  opacity: 0.2;
  cursor: pointer;
  font-size: 14px;
}
.rickshaw_legend .line.disabled {
  opacity: 0.4;
}
.rickshaw_legend ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  margin: 2px;
  cursor: pointer;
}
.rickshaw_legend li {
  padding: 0 0 0 2px;
  min-width: 80px;
  white-space: nowrap;
}
.rickshaw_legend li:hover {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 3px;
}
.rickshaw_legend li:active {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 3px;
}

/* graph */

.rickshaw_graph {
  position: relative;
}
.rickshaw_graph svg {
  display: block; 
  overflow: hidden;
}

/* ticks */

.rickshaw_graph .x_tick {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 0px;
  border-left: 1px dotted rgba(0, 0, 0, 0.2);
  pointer-events: none;
}
.rickshaw_graph .x_tick .title {
  position: absolute;
  font-size: 12px;
  font-family: Arial, sans-serif;
  opacity: 0.5;
  white-space: nowrap;
  margin-left: 3px;
  bottom: 1px;
}

/* annotations */

.rickshaw_annotation_timeline {
  height: 1px;
  border-top: 1px solid #e0e0e0;
  margin-top: 10px;
  position: relative;
}
.rickshaw_annotation_timeline .annotation {
  position: absolute;
  height: 6px;
  width: 6px;
  margin-left: -2px;
  top: -3px;
  border-radius: 5px;
  background-color: rgba(0, 0, 0, 0.25);
}
.rickshaw_graph .annotation_line {
  position: absolute;
  top: 0;
  bottom: -6px;
  width: 0px;
  border-left: 2px solid rgba(0, 0, 0, 0.3);
  display: none;
}
.rickshaw_graph .annotation_line.active {
  display: block;
}

.rickshaw_graph .annotation_range {
        background: rgba(0, 0, 0, 0.1);
        display: none;
        position: absolute;
        top: 0;
        bottom: -6px;
}
.rickshaw_graph .annotation_range.active {
        display: block;
}
.rickshaw_graph .annotation_range.active.offscreen {
        display: none;
}

.rickshaw_annotation_timeline .annotation .content {
  background: white;
  color: black;
  opacity: 0.9;
  padding: 5px 5px;
  box-shadow: 0 0 2px rgba(0, 0, 0, 0.8);
  border-radius: 3px;
  position: relative;
  z-index: 20;
  font-size: 12px;
  padding: 6px 8px 8px;
  top: 18px;
  left: -11px;
  width: 160px;
  display: none;
  cursor: pointer;
}
.rickshaw_annotation_timeline .annotation .content:before {
  content: "\25b2";
  position: absolute;
  top: -11px;
  color: white;
  text-shadow: 0 -1px 1px rgba(0, 0, 0, 0.8);
}
.rickshaw_annotation_timeline .annotation.active,
.rickshaw_annotation_timeline .annotation:hover {
  background-color: rgba(0, 0, 0, 0.8);
  cursor: none;
}
.rickshaw_annotation_timeline .annotation .content:hover {
  z-index: 50;
}
.rickshaw_annotation_timeline .annotation.active .content {
  display: block;
}
.rickshaw_annotation_timeline .annotation:hover .content {
  display: block;
  z-index: 50;
}
.rickshaw_graph .y_axis,
.rickshaw_graph  .x_axis_d3 {
  fill: none;
}
.rickshaw_graph .y_ticks .tick line,
.rickshaw_graph .x_ticks_d3 .tick {
  stroke: rgba(0, 0, 0, 0.16);
  stroke-width: 2px;
  shape-rendering: crisp-edges;
  pointer-events: none;
}
.rickshaw_graph .y_grid .tick,
.rickshaw_graph .x_grid_d3 .tick {
  z-index: -1;
  stroke: rgba(0, 0, 0, 0.20);
  stroke-width: 1px;
  stroke-dasharray: 1 1;
}
.rickshaw_graph .y_grid .tick[data-y-value="0"] {
  stroke-dasharray: 1 0;
}
.rickshaw_graph .y_grid path,
.rickshaw_graph .x_grid_d3 path  {
  fill: none;
  stroke: none;
}
.rickshaw_graph .y_ticks path,
.rickshaw_graph .x_ticks_d3 path {
  fill: none;
  stroke: #808080;
}
.rickshaw_graph .y_ticks text,
.rickshaw_graph .x_ticks_d3 text {
  opacity: 0.5;
  font-size: 12px;
  pointer-events: none;
}
.rickshaw_graph .x_tick.glow .title,
.rickshaw_graph .y_ticks.glow text {
  fill: black;
  color: black;
  text-shadow: 
    -1px 1px 0 rgba(255, 255, 255, 0.1),
    1px -1px 0 rgba(255, 255, 255, 0.1),
    1px 1px 0 rgba(255, 255, 255, 0.1),
    0px 1px 0 rgba(255, 255, 255, 0.1),
    0px -1px 0 rgba(255, 255, 255, 0.1),
    1px 0px 0 rgba(255, 255, 255, 0.1),
    -1px 0px 0 rgba(255, 255, 255, 0.1),
    -1px -1px 0 rgba(255, 255, 255, 0.1);
}
.rickshaw_graph .x_tick.inverse .title,
.rickshaw_graph .y_ticks.inverse text {
  fill: white;
  color: white;
  text-shadow: 
    -1px 1px 0 rgba(0, 0, 0, 0.8),
    1px -1px 0 rgba(0, 0, 0, 0.8),
    1px 1px 0 rgba(0, 0, 0, 0.8),
    0px 1px 0 rgba(0, 0, 0, 0.8),
    0px -1px 0 rgba(0, 0, 0, 0.8),
    1px 0px 0 rgba(0, 0, 0, 0.8),
    -1px 0px 0 rgba(0, 0, 0, 0.8),
    -1px -1px 0 rgba(0, 0, 0, 0.8);
}

div, span, p, td {
  font-family: Arial, sans-serif;
}
#content {
  width: 1200px;
}
#chart {
  display: inline-block;
}
#chart path {
  -webkit-transition: opacity 0.2s linear;
}
#preview {
  margin-top: 10px;
}
#legend {
  display: inline-block;
  position: relative;
  left: 8px;
}
#legend_container {
  position: absolute;
  right: 0;
  bottom: 26px;
  width: 0;
}
#chart_container {
  position: relative;
  display: inline-block;
}
#smoother {
  margin: 0 0 10px 16px;
  width: 100px;
}
.rickshaw_graph .detail {
  left: -1000;
}
#chart {
  border: 1px solid #f0f0f0;
}
#side_panel {
  padding: 0 20px 20px 0;
  width: 240px;
  display: inline-block;
  vertical-align: top;
}
#side_panel section {
  color: #505050;
  font-size: 12px;
}
#side_panel section h6 {
  margin: 0 0 1em 0;
  font-size: 12px;
  font-weight: normal;
}
#side_panel .ui-slider-horizontal {
  height: 1px !important;
  border-color: #e0e0e0;
  margin-bottom: 10px;
}
#side_panel .ui-slider-handle {
  border-color: #a0a0a0;
  height: 9px !important;
  width: 9px !important;
  top: -5px !important;
  border-radius: 6px;
  outline: none;
  cursor: pointer;
}
#legend {
  background-color: white;
  margin-left: 0;
  padding: 0;
  left: 0;
}
#legend .label {
  color: #404040;
}
#legend .action {
  color: black;
  opacity: 0.5;
}
#legend ul {
  padding: 0;
}
h1 {
  font-family: Franklin Gothic Medium, UnDotum, Helvetica, Arial;
  font-weight: normal;
  font-size: 20px;
}
section {
  border: none;
  border-top: 1px solid #eaeaea;
  padding: 15px 0;
}
#smoother {
  margin: 5px 0 0 10px;
  width: 90%;
}
label.disabled {
  opacity: 0.4;
}
#renderer_form.toggler {
  display: block;
  margin: 0;
}
#renderer_form.toggler input[type=radio]:checked {
  outline: 2px solid steelblue;
}
#renderer_form.toggler input[type=radio] {
  -moz-appearance: button;
  background: white;
  margin: 0 7px;
  width: 39px;
  height: 26px;
  position: absolute;
}
#renderer_form.toggler label {
  display: inline-block;
  padding: 0;
  width: 39px;
  padding-top: 27px;
  text-align: center;
  font-size: 10px;
  color: #808080;
  background-repeat: no-repeat;
  position: relative;
  margin: 0 7px;
  cursor: pointer;
}
#interpolation_form,
#offset_form {
  vertical-align: top;
  display: inline-block;
  width: 45%;
}
#interpolation_form label,
#offset_form label {
  display: block;
}
label[for=area] {
  background: url(../images/om_stack.png);
}
label[for=line] {
  background: url(../images/om_lines.png);
}
label[for=bar] {
  background: url(../images/om_bar.png);
}
label[for=scatter] {
  background: url(../images/om_scatter.png);
}
#offset_form label,
#interpolation_form label {
  background-repeat: no-repeat;
  background-position: 2em center;
  cursor: pointer;
  cursor: hand;
}
#offset_form label span,
#interpolation_form label span {
  padding-left: 36px;
}
label[for=stack] {
  background-image: url(../images/offset_stack.png);
}
label[for=pct] {
  background-image: url(../images/offset_pct.png);
}
label[for=stream] {
  background-image: url(../images/offset_stream.png);
}
label[for=value] {
  background-image: url(../images/offset_value.png);
}
label[for=cardinal] {
  background-image: url(../images/interp_cardinal.png);
}
label[for=linear] {
  background-image: url(../images/interp_linear.png);
}
label[for=step] {
  background-image: url(../images/interp_step.png);
}
</style>
